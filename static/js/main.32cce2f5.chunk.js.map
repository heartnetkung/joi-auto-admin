{"version":3,"sources":["editor/screens/editor-tool/constants.js","editor/screens/editor-tool/views/menu.js","editor/screens/editor-tool/views/styles.js","editor/screens/editor-tool/views/menu-form.js","editor/screens/editor-tool/right-panel-views/code-blocks.js","lib/table/row_menu.js","lib/table/table_menu.js","lib/table/logic.js","lib/shared/file_upload.js","lib/table/other_menu.js","lib/shared/hook.js","lib/table/index.js","lib/controller/util.js","lib/formik/logic.js","lib/formik/submit_line.js","lib/formik/components/barcode.js","lib/formik/components/cascader_static.js","lib/formik/components/cascader_async.js","lib/formik/components/file_upload.js","lib/formik/field.js","lib/formik/inner_form.js","lib/formik/form.js","lib/controller/header.js","lib/controller/edit_modal.js","lib/joi/error_message.js","lib/joi/prepare_joi.js","lib/assets/fallback_image.js","lib/formik/components/col_image.js","lib/joi/joi_wrapper.js","lib/shared/xlsx.js","lib/joi/serialize.js","lib/controller/excel_error_modal.js","lib/controller/index.js","lib/controller/open_form_modal.js","editor/logic/util.js","editor/logic/custom_component.js","editor/logic/lookup_label.js","editor/logic/joi_line.js","editor/logic/chance.js","editor/logic/template.js","editor/logic/index.js","editor/screens/editor-tool/logic.js","editor/screens/editor-tool/right-panel-views/index.js","editor/screens/editor-tool/left-panel-views/data-field.js","editor/screens/editor-tool/left-panel-views/styles.js","editor/screens/editor-tool/left-panel-views/logic.js","editor/screens/editor-tool/left-panel-views/conditional_field.js","editor/screens/editor-tool/left-panel-views/setting.js","editor/screens/editor-tool/left-panel-views/form-fields.js","editor/screens/editor-tool/left-panel-views/index.js","editor/screens/editor-tool/styles.js","editor/screens/editor-tool/views/panel.js","editor/screens/editor-tool/views/hooks.js","editor/screens/editor-tool/index.js","editor/index.js","index.js"],"names":["MENU","MENU_FORM","SETTINGS","MenuView","props","currentMenu","setCurrentMenu","onClick","e","current","key","selectedKeys","mode","style","float","flexDirection","minWidth","marginRight","Item","rowMenu","display","marginBottom","button","rightPanel","flex","borderRadius","padding","overflow","position","MenuFormView","onClearForm","onEventClick","type","styles","ghost","block","danger","RenderCodeBlocks","text","container","useRef","useEffect","span","querySelector","ref","language","theme","dracula","RowMenu","buttons","record","updateDataAtRow","map","action","index","NOOP","label","defaultProps","TableMenu","deleteButtonLabel","createButtonLabel","selectedRows","onCreate","onDelete","setSelectedRows","otherMenu","onDelete2","useCallback","a","textAlign","margin","length","icon","DeleteOutlined","PlusOutlined","overlay","placement","sorter","b","dataIndex","this","_","get","onFilter","value","render","addFilter","data","column","filters","chain","join","identity","uniq","sortBy","ans","disableSorting","bind","disableFilter","FileUploader","handleFile","children","accept","props2","omit","hiddenFileInput","event","click","onChange","target","files","OtherMenu","onDownloadExcel","onUploadExcel","onExampleExcel","downloadExcelLabel","uploadExcelLabel","exampleExcelLabel","DownloadOutlined","UploadOutlined","EyeOutlined","useAPI","func","loadingInit","manualComplete","useState","loading","apiState","setApiState","setData","apply","useModal","visible","setVisible","onClose","usePersistFn","fn","fnRef","persistFn","args","TableComp","schema","rowButtons","onEdit","paginationSize","tableScroll","columns","useMemo","filter","cellHide","rowButtons2","unshift","EditOutlined","width","push","title","rowSelection","selectedRowKeys","smallScreen","window","innerWidth","isMatch","setMatch","listener","matches","mediaQuery","matchMedia","addListener","removeListener","useMaxWidth","tableScroll2","x","y","tableStyle","undefined","Math","min","opacity","dataSource","pagination","defaultPageSize","scroll","rowKey","alert","content","Modal","success","error","message","appendId","_id","nanoid","touchAll","context","validateForm","errors","Object","keys","setTouched","setNestedObjectValues","SubmitLine","steps","currentStep","prevStep","nextStep","submitButtonLabel","resetButtonLabel","useFormikContext","touch","executed","submitStyle","next","submitCount","isValid","isSubmitting","setTimeout","touchFirstSubmit","marginTop","disabled","OMIT_FIELDS","Text","Typography","BarcodeLine","name","itemName","size","CloseOutlined","shape","marginLeft","Barcode","loadBarcodeName","values","setFieldValue","inputValue","setInputValue","barcodes","itemNames","queue","Promise","all","results","newItemNames","i","ii","onKeyDown","preventDefault","newName","temp","validator","newValue","remove","CascaderStatic","names","fieldNames","notFound","options","cascaderOptions","nft","notFoundText","options2","setOptions2","l","v","c","setValue","diffValue","convertNames","appendNotFoundText","syncFromOtherFields","showSearch","path","some","toLowerCase","indexOf","forEach","displayRender","labels","value2","names2","Array","isArray","nodeArray","isLeaf","node","newNode","find","theValue","lastValue","traverse","CascaderAsync","fetchData","cascaderFetchData","childrenField","valueField","setOptions","setLoading","initValue","queues","slice","currentValue","currentResult","j","jj","loadData","selectedOptions","lastOption","newNodes","dropdownRender","FileUpload","multiple","dataType","uploadFileType","uploadFile","uploadFileInit","fileListState","setFileListState","abortRef","AbortController","urlToFileList","abort","onUpload","onSuccess","onError","file","uploadURL","signal","aborted","status","uri","split","url","URL","createObjectURL","console","onChangeFile","info","newFileList","fileList","response","listFile","renderHelper","listType","customRequest","noop","encodeURIComponent","pop","WeekPicker","DatePicker","MonthPicker","Field","fieldType","required","validate","meta","labelCol","wrapperCol","colSpan","offset","className","containerStyle","onFieldRender","appendDivider","placeholder","defaultValue","moment","Password","TextArea","valid","entries","k","Option","inlineStyle","InnerForm","formSpec","inline","isInline","isPreviousLeft","twoColumn","hasNext","calculateSpan","spec","fieldHide","step","Step","Steps","CombinedForm","onSubmit","initialValues","setStep","useSteps","onSubmit2","postData","actions","pick","test","formProp","colon","toDefaultValues","gutter","justify","Title","Paragraph","Header","description","small","headerContainerStyle","titleStyle","descriptionStyle","level","EditModal","isEdit","createHeader","editHeader","initialValue","centered","footer","onCancel","maskClosable","showIcon","errorTranslation","errorObj","limit","getErrorMessage","replace","found","prepare","joiObj","describeObj","devMode","paths","flags","presence","fork","allow","fixEmptyString","optional","handleDevMode","metas","handleFieldHide","append","Joi","any","IMAGE_FALLBACK","ColImage","src","fallback","PreviewGroup","item","toString","OMIT_META","MEMO_OPTION","promise","primitive","JoiWrapper","isSchema","Error","describe","handleCellShow","defaultValues","set","JoiField","hasCellShow","cellShow","field","getMeta","guessFieldType","_extractedSchema","getExtractedSchema","default","getColumn","extract","pattern","email","scheme","$this","ellipsis","cellEllipsis","cellFormat","cellWidth","m","p1","p2","p3","wordWrap","wordBreak","maxWidth","numeral","format","Date","only","validLabel","memo","getUploadUrl","firebaseConfig","rawError","details","tableToExcel","dataArray","fileName","handleNested","worksheet","utils","json_to_sheet","dateNF","workbook","book_new","book_append_sheet","writeFile","parseExcelDate","date","SSF","parse_date_code","momentInput","M","d","h","H","s","S","parseZone","toDate","excelToTable","fileObject","res","rej","reader","FileReader","onload","result","read","firstSheet","Sheets","SheetNames","sheet_to_json","parse","onerror","readAsBinaryString","obj","isObject","prototype","call","SerializeError","captureStackTrace","constructor","deserializeTable","table","deserializeRow","mapError","line","excelRow","columnCache","keyBy","attempt","abortEarly","serializeTable","showDisabled","rowData","newRow","COLUMNS","ExcelErrorModal","ExclamationCircleFilled","color","INITIAL_FORM_STATUS","Controller","getMany","createMany","updateOne","deleteMany","uploadPreviewUrl","disableSuccessModal","querySchema","disableExcelDownload","disableExcelUpload","editModalData","setEditModalData","excelError","setExcelError","getManyStatus","doGetMany","deleteStatus","doDelete","editModalControl","excelModalControl","schema2","querySchema2","tableData","originalData","unset","returnData","setSubmitting","selectedSet","Set","has","then","catch","onQuery","query","open","focus","rawExcel","newRows","newData","getOne","FormModal","setError","raw","isObj","regex","showRaw","softEval","Function","str","wait","ms","DependentComp","values2","JSON","stringify","AsyncDropdown","choices","setChoices","fetchChoices","data2","optionFilterProp","filterOption","input","option","THAddress","selector","document","querySelectorAll","classList","add","addEventListener","removeEventListener","lookupLabel","makeJoiLine","editor","settings","newFieldType","suffix","require","concat","extraMargin","assign","columnWidth","conditional","original","joiList","joi","makeObject","toSource","makeString","makeExtraJoiLines","extend","$notFound","chance","randomData","editors","count","seed","newRandom","Chance","random","getChance","editorToChance","specObj","protocol","max","renderJoi","isComp","extraJoiLines","renderProps","canCreate","canUpdate","canDelete","rowButtonExample","SmileOutlined","extras","renderTemplate","reactImport","formikAntdImport","reactString","renderImport","renderFunction","genChanceString","isJson","prettier","parser","plugins","parserBabel","editorSchemaInner","object","string","_fieldType","number","boolean","columnHide","array","editorSchema1","items","strip","unique","editorSchema2","makeJoiObj","App","OMIT_SETTING","cleanFormBeforeTrans","settingSteps","row","stepValue","findIndex","findStep","colWidth","parseInt","cleanColWidth","cleanDefault","validateSchema","RightPanelView","view","editors2","cfLine","cloneDeep","editorKey","dropdown","equal","handleCfLines","codeText","generateId","floor","getInitRowField","rowField","getInitRowQuerySchema","rowQuerySchema","getSingleRowQuerySchema","disabledSorting","disabledDefaultSet","disabledPlaceholderSet","placeholderDefault","checkbox","fieldOptions","columnOptions","fieldTree","queryFieldTree","Wrapper1","Wrapper2","gray","layoutMargin","VerticalSpacer","rowInput","createOptions","getHeader","makeLine","allLines","filterField","lines","OPTIONS","ConditionalField","formState","setSettingState","settingState","setLines","editLine","newLines","splice","dropdowns","fields","CloseCircleOutlined","conditionalField","RenderSetting","logic","optionsStep","onChangeField","newSettings","onChangeSteps","state","numberOfStep","onChangeFieldQuerySchema","checked","onChangeCheckbox","overlayInnerStyle","QuestionCircleOutlined","st","si","paddingTop","onChangeInputSteps","onChangeConditionalField","onChangeCheckboxQuery","defaultActiveKey","accordion","qs","qi","Panel","header","extra","UpOutlined","onMoveUp","stopPropagation","DownOutlined","onMoveDown","onDeleteQuerySchema","FormFields","setFormState","dataFieldOptions","dataColumnOptions","onSetDefaultStep","allInputs","setAttribute","newForm","rowForm","onChangeConfig","newOptionConfig","dataOptions","defaultConfig","keyDiffOptions","difference","onDeleteField","height","lineHeight","allowClear","isNil","Group","LeftPanelView","otherProps","panelColor","LayoutContainer","panelContainer","justifyContent","resizableContainer","cursor","leftPanelContainer","backgroundColor","border","rightPanelContainer","rightPanelContainer2","brandingText","top","githubStar","verticalAlign","githubText","MIN_WIDTH","PanelView","leftView","rightView","rightViewStyle","menu","bottomBar","currentView","splitPanelRef","leftPanelRef","isDragging","setIsDragging","separatorXPosition","setSeparatorXPosition","leftPanelWidth","setLeftPanelWidth","setSize","useLayoutEffect","updateSize","innerHeight","useWindowSize","windowHeight","showError","setShowError","onMouseMove","onTouchMove","onMouseUp","isValidate","onMove","clientX","touches","newLeftWidth","splitPaneWidth","clientWidth","alignItems","CheckCircleTwoTone","twoToneColor","fontSize","CloseCircleTwoTone","paddingLeft","maxHeight","defaultSize","OTHER_ELEM_SIZE","onMouseDown","innerStyles","EditorScreen","currentMenuState","setCurrentMenuState","currentMenuFormState","setCurrentMenuFormState","tableSettingProps","setTableSettingProps","schemaProps","setSchemaProps","schemaValidateState","setSchemaValidateState","debounceTableTrans","debounceSchemaTrans","debounce","setting","newSetting","omitSetting","frameBorder","scrolling","stepOptions","getSingleRow","RenderScreen","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.32cce2f5.chunk.js","sourcesContent":["export const MENU = {\n  ui: \"UI\",\n  code: \"Code\",\n};\n\nexport const MENU_FORM = {\n  form: \"Fields\",\n  setting: \"Settings\",\n};\n\nexport const SETTINGS = [\n  \"canCreate\",\n  \"canUpdate\",\n  \"canDelete\",\n  \"disableExcelDownload\",\n  \"disableExcelUpload\",\n  \"rowButtonExample\",\n];\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Menu } from \"antd\";\nimport { MENU } from \"../constants\";\n\nconst MenuView = (props) => {\n  const { currentMenu, setCurrentMenu } = props;\n\n  const onEventClick = (e) => {\n    setCurrentMenu({ current: e.key });\n  };\n\n  return (\n    <Menu\n      onClick={onEventClick}\n      selectedKeys={[currentMenu.current]}\n      mode=\"horizontal\"\n      style={{ float: \"right\", flexDirection: 'row-reverse', minWidth: 150, marginRight: 5 }}\n    >\n      <Menu.Item key={MENU.code}>{MENU.code}</Menu.Item>\n      <Menu.Item key={MENU.ui}>{MENU.ui}</Menu.Item>\n    </Menu>\n  );\n};\n\nMenuView.propTypes = {\n  currentMenu: PropTypes.object.isRequired,\n  setCurrentMenu: PropTypes.func.isRequired,\n};\n\nexport default MenuView;\n","export const rowMenu = {\n  display: \"flex\",\n  marginBottom: \"1rem\",\n};\n\nexport const button = {\n  marginRight: \"1rem\",\n};\n\nexport const rightPanel = {\n  flex: 1,\n  borderRadius: 8,\n  marginRight: 6,\n  marginBottom: 6,\n  padding: \"2rem 1rem\",\n  overflow: \"auto\",\n  position: \"relative\",\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button } from \"antd\";\nimport { MENU_FORM } from \"../constants\";\nimport * as styles from \"./styles\";\n\nconst MenuFormView = (props) => {\n  const { currentMenu, setCurrentMenu, onClearForm } = props;\n\n  const onEventClick = (type) => {\n    setCurrentMenu({ current: type });\n  };\n\n  return (\n    <div style={styles.rowMenu}>\n      <Button\n        type=\"primary\"\n        ghost={currentMenu?.current !== MENU_FORM.form}\n        block\n        onClick={() => onEventClick(MENU_FORM.form)}\n      >\n        {MENU_FORM.form}\n      </Button>\n      <Button\n        type=\"primary\"\n        ghost={currentMenu?.current !== MENU_FORM.setting}\n        block\n        style={styles.button}\n        onClick={() => onEventClick(MENU_FORM.setting)}\n      >\n        {MENU_FORM.setting}\n      </Button>\n      <Button type=\"dashed\" danger onClick={onClearForm}>\n        Reset\n      </Button>\n    </div>\n  );\n};\n\nMenuFormView.propTypes = {\n  currentMenu: PropTypes.object.isRequired,\n  setCurrentMenu: PropTypes.func.isRequired,\n  onClearForm: PropTypes.func.isRequired,\n};\n\nexport default MenuFormView;\n","import React, { useRef, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { CopyBlock, dracula } from \"react-code-blocks\";\n\nconst RenderCodeBlocks = (props) => {\n  const { text } = props;\n\n  //hack: remove unwanted style from child node\n  const container = useRef(null);\n  useEffect(() => {\n    if (!container.current) return;\n    var span = container.current.querySelector(\":scope>div>span\");\n    if (span) span.style.padding = null;\n  }, [container]);\n\n  return (\n    <div ref={container}>\n      <CopyBlock text={text} language=\"jsx\" theme={dracula} />\n    </div>\n  );\n};\n\nRenderCodeBlocks.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default RenderCodeBlocks;\n","import { Button, Space } from \"antd\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nconst RowMenu = (props) => {\n\tconst { buttons, record, updateDataAtRow } = props;\n\n\treturn (\n\t\t<Space>\n\t\t\t{buttons.map((action, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\t{...action}\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\taction.onClick\n\t\t\t\t\t\t\t\t? () => action.onClick(record, updateDataAtRow)\n\t\t\t\t\t\t\t\t: NOOP\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{action.label}\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\t})}\n\t\t</Space>\n\t);\n};\n\nRowMenu.propTypes = {\n\tbuttons: PropTypes.array.isRequired,\n\trecord: PropTypes.any.isRequired,\n\tupdateDataAtRow: PropTypes.func,\n};\n\nRowMenu.defaultProps = {\n\tupdateDataAtRow: null,\n};\n\nconst NOOP = () => {};\n\nexport default RowMenu;\n","import { Button, Space, Dropdown } from \"antd\";\nimport { DeleteOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport PropTypes from \"prop-types\";\nimport { useCallback } from \"react\";\nimport React from 'react';\n\nconst TableMenu = (props) => {\n\tconst { deleteButtonLabel, createButtonLabel, selectedRows } = props;\n\tconst { onCreate, onDelete, setSelectedRows, otherMenu } = props;\n\n\tconst onDelete2 = useCallback(async () => {\n\t\tawait onDelete(selectedRows);\n\t\tsetSelectedRows([]);\n\t}, [selectedRows, onDelete, setSelectedRows]);\n\n\treturn (\n\t\t<div style={{ textAlign: \"right\", margin: 10 }}>\n\t\t\t<Space>\n\t\t\t\t{!!selectedRows.length && onDelete && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"danger\"\n\t\t\t\t\t\tonClick={onDelete2}\n\t\t\t\t\t\ticon={<DeleteOutlined />}\n\t\t\t\t\t>\n\t\t\t\t\t\t{deleteButtonLabel}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{!selectedRows.length && onCreate && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\tonClick={onCreate}\n\t\t\t\t\t\ticon={<PlusOutlined />}\n\t\t\t\t\t>\n\t\t\t\t\t\t{createButtonLabel}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{otherMenu && (\n\t\t\t\t\t<Dropdown overlay={otherMenu} placement=\"bottomRight\">\n\t\t\t\t\t\t<Button>เมนูอื่นๆ</Button>\n\t\t\t\t\t</Dropdown>\n\t\t\t\t)}\n\t\t\t</Space>\n\t\t</div>\n\t);\n};\n\nTableMenu.propTypes = {\n\tselectedRows: PropTypes.array.isRequired,\n\tsetSelectedRows: PropTypes.func.isRequired,\n\tcreateButtonLabel: PropTypes.string,\n\tdeleteButtonLabel: PropTypes.string,\n\totherMenu: PropTypes.node,\n\tonCreate: PropTypes.func,\n\tonDelete: PropTypes.func,\n};\nTableMenu.defaultProps = {\n\tcreateButtonLabel: \"สร้าง\",\n\tdeleteButtonLabel: \"ลบ\",\n\tonCreate: null,\n\tonDelete: null,\n\totherMenu: null,\n};\n\nexport default TableMenu;\n","import _ from \"lodash\";\n\nconst sorter = function (a, b) {\n  var { dataIndex } = this;\n  return _.get(a, dataIndex) > _.get(b, dataIndex) ? -1 : 1;\n};\n\nconst onFilter = function (value, record) {\n  var { dataIndex, render } = this;\n  if (render) return render(record[dataIndex]) === value;\n  return record[dataIndex] === value;\n};\n\nexport const addFilter = (data) => {\n  return (column) => {\n    var filters = _.chain(data)\n      .map(column.dataIndex.join(\".\"))\n      .map(column.render || _.identity)\n      .uniq()\n      .sortBy()\n      .map((a) => ({ text: a, value: a }))\n      .value();\n    var ans = { ...column };\n    if (!column.disableSorting) ans.sorter = sorter.bind(ans);\n    if (filters.length < 50 && filters.length && !column.disableFilter) {\n      ans.onFilter = onFilter.bind(ans);\n      ans.filters = filters;\n    }\n    return ans;\n  };\n};\n","import { useRef } from \"react\";\nimport { Button } from \"antd\";\nimport PropTypes from \"prop-types\";\nimport _ from \"lodash\";\nimport React from 'react';\n\nconst FileUploader = (props) => {\n\tconst { handleFile, children, accept } = props;\n\n\tconst props2 = _.omit(props, [\"handleFile\", \"children\"]);\n\tconst hiddenFileInput = useRef(null);\n\tconst handleClick = (event) => hiddenFileInput.current.click();\n\tconst handleChange = (event) => handleFile(event.target.files[0]);\n\n\treturn (\n\t\t<>\n\t\t\t<Button {...props2} onClick={handleClick}>\n\t\t\t\t{children}\n\t\t\t</Button>\n\t\t\t<input\n\t\t\t\taccept={accept}\n\t\t\t\ttype=\"file\"\n\t\t\t\tref={hiddenFileInput}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t/>\n\t\t</>\n\t);\n};\nFileUploader.propTypes = {\n\thandleFile: PropTypes.func.isRequired,\n\tchildren: PropTypes.oneOfType([\n\t\tPropTypes.arrayOf(PropTypes.node),\n\t\tPropTypes.node,\n\t]).isRequired,\n\taccept: PropTypes.string.isRequired /*example: \".xlsx\"*/,\n};\n\nexport default FileUploader;\n","import {\n\tDownloadOutlined,\n\tUploadOutlined,\n\tEyeOutlined,\n} from \"@ant-design/icons\";\nimport PropTypes from \"prop-types\";\nimport { Menu, Button } from \"antd\";\nimport FileUpload from \"../shared/file_upload\";\nimport React from 'react';\n\nconst OtherMenu = (props) => {\n\tconst { onDownloadExcel, onUploadExcel, onExampleExcel } = props;\n\tconst { downloadExcelLabel, uploadExcelLabel, exampleExcelLabel } = props;\n\n\treturn (\n\t\t<Menu>\n\t\t\t{onDownloadExcel && (\n\t\t\t\t<Menu.Item key=\"1\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tonClick={onDownloadExcel}\n\t\t\t\t\t\ticon={<DownloadOutlined />}\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tstyle={{ textAlign: \"left\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{downloadExcelLabel}\n\t\t\t\t\t</Button>\n\t\t\t\t</Menu.Item>\n\t\t\t)}\n\t\t\t{onUploadExcel && (\n\t\t\t\t<Menu.Item key=\"2\">\n\t\t\t\t\t<FileUpload\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\thandleFile={onUploadExcel}\n\t\t\t\t\t\ticon={<UploadOutlined />}\n\t\t\t\t\t\taccept=\".xlsx\"\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tstyle={{ textAlign: \"left\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{uploadExcelLabel}\n\t\t\t\t\t</FileUpload>\n\t\t\t\t</Menu.Item>\n\t\t\t)}\n\t\t\t{onExampleExcel && (\n\t\t\t\t<Menu.Item key=\"3\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tonClick={onExampleExcel}\n\t\t\t\t\t\ticon={<EyeOutlined />}\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tstyle={{ textAlign: \"left\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{exampleExcelLabel}\n\t\t\t\t\t</Button>\n\t\t\t\t</Menu.Item>\n\t\t\t)}\n\t\t</Menu>\n\t);\n};\nOtherMenu.propTypes = {\n\tonDownloadExcel: PropTypes.func,\n\tonUploadExcel: PropTypes.func,\n\tonExampleExcel: PropTypes.func,\n\tdownloadExcelLabel: PropTypes.string,\n\tuploadExcelLabel: PropTypes.string,\n\texampleExcelLabel: PropTypes.string,\n};\nOtherMenu.defaultProps = {\n\tonDownloadExcel: null,\n\tonUploadExcel: null,\n\tonExampleExcel: null,\n\tdownloadExcelLabel: \"ดาวน์โหลด Excel\",\n\tuploadExcelLabel: \"อัพโหลด Excel\",\n\texampleExcelLabel: \"ตัวอย่าง Excel อัพโหลด\",\n};\n\nexport default OtherMenu;\n","import { useState, useRef, useEffect } from \"react\";\n\nexport const useAPI = (func, loadingInit, manualComplete) => {\n\tconst [apiState, setApiState] = useState({\n\t\tloading: !!loadingInit,\n\t\tdata: null,\n\t});\n\tconst setData = (data) => setApiState({ loading: false, data });\n\n\tconst doRun = async function (a, b) {\n\t\tsetApiState((a) => ({ loading: true, data: a.data }));\n\t\ttry {\n\t\t\tvar data = await func.apply(null, arguments);\n\t\t\tif (!manualComplete) setData(data);\n\t\t\treturn data;\n\t\t} catch (e) {\n\t\t\tsetApiState((a) => ({ loading: false, data: null }));\n\t\t\tthrow e;\n\t\t}\n\t};\n\n\treturn [apiState, doRun, setData];\n};\n\nexport const useModal = () => {\n\tconst [visible, setVisible] = useState(false);\n\tconst onClose = () => setVisible(false);\n\treturn { visible, onClose, setVisible };\n};\n\nexport const usePersistFn = (fn) => {\n\tconst fnRef = useRef(fn);\n\tfnRef.current = fn;\n\n\tconst persistFn = useRef();\n\tif (!persistFn.current)\n\t\tpersistFn.current = function (...args) {\n\t\t\treturn fnRef.current.apply(this, args);\n\t\t};\n\n\treturn persistFn.current;\n};\n\nexport const useMaxWidth = (width) => {\n\tconst [isMatch, setMatch] = useState(window.innerWidth <= width);\n\tconst listener = (a) => setMatch(a.matches);\n\t/* eslint-disable react-hooks/exhaustive-deps */\n\tuseEffect(() => {\n\t\tvar mediaQuery = window.matchMedia(`(max-width: ${width}px)`);\n\t\tmediaQuery.addListener(listener);\n\t\treturn () => mediaQuery.removeListener(listener);\n\t}, []);\n\treturn isMatch;\n};\n","import { Table, Row } from \"antd\";\nimport { useState, useMemo } from \"react\";\nimport { EditOutlined } from \"@ant-design/icons\";\nimport PropTypes from \"prop-types\";\nimport RowMenu from \"./row_menu\";\nimport TableMenu from \"./table_menu\";\nimport { addFilter } from \"./logic\";\nimport OtherMenu from \"./other_menu\";\nimport { useMaxWidth } from \"../shared/hook\";\nimport React from \"react\";\n\nconst TableComp = (props) => {\n  const { data, schema, rowButtons, onEdit, paginationSize } = props;\n  const { onDelete, onCreate, tableScroll, updateDataAtRow } = props;\n  const { loading, onDownloadExcel, onUploadExcel, onExampleExcel } = props;\n\n  const [selectedRows, setSelectedRows] = useState([]);\n\n  const columns = useMemo(() => {\n    var ans = schema.columns\n      .map(addFilter(data))\n      .filter((column) => !column.cellHide);\n\n    var rowButtons2 = [...rowButtons];\n    if (onEdit)\n      rowButtons2.unshift({ icon: <EditOutlined />, onClick: onEdit });\n\n    if (rowButtons2.length) {\n      const render = (text, record) => (\n        <RowMenu\n          buttons={rowButtons2}\n          record={record}\n          updateDataAtRow={updateDataAtRow}\n        />\n      );\n      const width = 60 * rowButtons2.length + 20;\n      ans.push({ title: \"เมนู\", width, render });\n    }\n\n    return ans;\n  }, [schema, data, rowButtons, onEdit, updateDataAtRow]);\n\n  const rowSelection = !!onDelete && {\n    selectedRowKeys: selectedRows,\n    onChange: setSelectedRows,\n  };\n\n  const smallScreen = useMaxWidth(575);\n  const tableScroll2 = smallScreen ? { x: true, y: true } : tableScroll;\n  const tableStyle = smallScreen\n    ? undefined\n    : { minWidth: Math.min(columns.length * 130, 800) };\n\n  return (\n    <>\n      <div style={{ opacity: loading ? 0.5 : 1 }}>\n        <TableMenu\n          selectedRows={selectedRows}\n          setSelectedRows={setSelectedRows}\n          onDelete={onDelete}\n          onCreate={onCreate}\n          otherMenu={\n            !onDownloadExcel && !onUploadExcel && !onExampleExcel ? null : (\n              <OtherMenu\n                onDownloadExcel={onDownloadExcel}\n                onUploadExcel={onUploadExcel}\n                onExampleExcel={onExampleExcel}\n              />\n            )\n          }\n        />\n      </div>\n      <Row>\n        <Table\n          loading={loading}\n          columns={columns}\n          dataSource={data}\n          pagination={{ defaultPageSize: paginationSize }}\n          scroll={tableScroll2}\n          rowSelection={rowSelection}\n          rowKey=\"_id\"\n          style={tableStyle}\n        />\n      </Row>\n    </>\n  );\n};\n\nTableComp.propTypes = {\n  rowButtons: PropTypes.array,\n  onCreate: PropTypes.func,\n  onDelete: PropTypes.func,\n  onEdit: PropTypes.func,\n  schema: PropTypes.object.isRequired,\n  paginationSize: PropTypes.number,\n  tableScroll: PropTypes.object,\n  loading: PropTypes.bool,\n  onDownloadExcel: PropTypes.func,\n  onUploadExcel: PropTypes.func,\n  onExampleExcel: PropTypes.func,\n  updateDataAtRow: PropTypes.func,\n};\n\nTableComp.defaultProps = {\n  rowButtons: [],\n  onDelete: null,\n  onCreate: null,\n  onEdit: null,\n  paginationSize: 20,\n  tableScroll: { y: 600, x: true },\n  loading: false,\n  onDownloadExcel: null,\n  onUploadExcel: null,\n  onExampleExcel: null,\n  updateDataAtRow: null,\n};\n\nexport default TableComp;\n","import { Modal } from \"antd\";\nimport { nanoid } from \"nanoid\";\n\nexport const alert = {\n\tsuccess: (content) => Modal.success({ content }),\n\terror: (e) => Modal.error({ content: e.message || e + \"\" }),\n};\n\nexport const appendId = (a) => {\n\tif (a._id === undefined) return { ...a, _id: nanoid() };\n\treturn a;\n};\n","import { useState } from \"react\";\nimport { setNestedObjectValues } from \"formik\";\n\nexport const calculateSpan = (formSpec, isInline) => {\n\tif (isInline) return formSpec.map((a) => ({ ...a, colSpan: -1 }));\n\n\tvar ans = [];\n\tvar isPreviousLeft = false;\n\tfor (var i = 0, ii = formSpec.length; i < ii; i++) {\n\t\tvar current = formSpec[i];\n\t\tif (!current.twoColumn) {\n\t\t\tans.push(current);\n\t\t\tisPreviousLeft = false;\n\t\t} else if (isPreviousLeft === false) {\n\t\t\t//left\n\t\t\tvar hasNext = formSpec[i + 1]?.twoColumn;\n\t\t\tans.push({\n\t\t\t\t...current,\n\t\t\t\tcolSpan: hasNext ? 12 : 24,\n\t\t\t\tlabelCol: hasNext ? { span: 8 } : { span: 4 },\n\t\t\t\twrapperCol: hasNext ? { span: 14 } : { span: 7 },\n\t\t\t});\n\t\t\tisPreviousLeft = true;\n\t\t} else {\n\t\t\t//right\n\t\t\tans.push({\n\t\t\t\t...current,\n\t\t\t\tcolSpan: 12,\n\t\t\t\tlabelCol: { span: 5 },\n\t\t\t\twrapperCol: { span: 15 },\n\t\t\t\tclassName: \"right-column-label\",\n\t\t\t});\n\t\t\tisPreviousLeft = false;\n\t\t}\n\t}\n\treturn ans;\n};\n\nexport const useSteps = (steps) => {\n\tconst [currentStep, setStep] = useState(steps.length ? 0 : -1);\n\tconst nextStep = () =>\n\t\tcurrentStep < steps.length - 1 && setStep(currentStep + 1);\n\tconst prevStep = () => currentStep > 0 && setStep(currentStep - 1);\n\treturn { nextStep, prevStep, currentStep };\n};\n\nexport const touchAll = async (context) => {\n\tconst errors = await context.validateForm();\n\tif (Object.keys(errors).length === 0) return true;\n\telse context.setTouched(setNestedObjectValues(errors, true));\n};\n\nexport const touchFirstSubmit = (context, ref) => {\n\tconst { executed } = ref.current;\n\tif (!context.submitCount || executed) return;\n\tif (context.isValid || context.isSubmitting) return;\n\n\tref.current.executed = true;\n\tsetTimeout(() =>\n\t\tcontext.setTouched(setNestedObjectValues(context.errors, true))\n\t);\n};\n","import React from \"react\";\nimport { SubmitButton, ResetButton } from \"formik-antd\";\nimport { useFormikContext } from \"formik\";\nimport PropTypes from \"prop-types\";\nimport { Space, Button } from \"antd\";\nimport { useRef } from \"react\";\nimport { touchAll, touchFirstSubmit } from \"./logic\";\n\nconst SubmitLine = (props) => {\n\tconst { steps, currentStep, prevStep, nextStep } = props;\n\tconst { submitButtonLabel, resetButtonLabel } = props;\n\n\tconst context = useFormikContext();\n\tconst touch = useRef({ executed: false });\n\tconst submitStyle =\n\t\tsteps.length - 1 <= currentStep ? undefined : { display: \"none\" };\n\n\tconst next = async () => {\n\t\tconst success = await touchAll(context);\n\t\tif (success) nextStep();\n\t};\n\n\ttouchFirstSubmit(context, touch);\n\n\treturn (\n\t\t<center style={steps.length ? { marginTop: 10 } : null}>\n\t\t\t<Space>\n\t\t\t\t{steps.length && currentStep ? (\n\t\t\t\t\t<Button onClick={prevStep}>ย้อนกลับ</Button>\n\t\t\t\t) : null}\n\t\t\t\t{steps.length && steps.length - 1 > currentStep ? (\n\t\t\t\t\t<Button type=\"primary\" onClick={next}>\n\t\t\t\t\t\tถ้ดไป\n\t\t\t\t\t</Button>\n\t\t\t\t) : null}\n\t\t\t\t{!steps.length ? (\n\t\t\t\t\t<ResetButton>{resetButtonLabel}</ResetButton>\n\t\t\t\t) : null}\n\t\t\t\t<SubmitButton\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\tstyle={submitStyle}\n\t\t\t\t\tdisabled={false}\n\t\t\t\t>\n\t\t\t\t\t{submitButtonLabel}\n\t\t\t\t</SubmitButton>\n\t\t\t</Space>\n\t\t</center>\n\t);\n};\n\nSubmitLine.propTypes = {\n\tcurrentStep: PropTypes.number.isRequired,\n\tprevStep: PropTypes.func.isRequired,\n\tnextStep: PropTypes.func.isRequired,\n\tsteps: PropTypes.array.isRequired,\n\tresetButtonLabel: PropTypes.string,\n\tsubmitButtonLabel: PropTypes.string,\n};\n\nSubmitLine.defaultProps = {\n\tresetButtonLabel: \"ล้างค่า\",\n\tsubmitButtonLabel: \"ยืนยัน\",\n};\n\nexport default SubmitLine;\n","import PropTypes from \"prop-types\";\nimport { Input as FInput } from \"formik-antd\";\nimport _ from \"lodash\";\nimport React, { useState, useEffect } from \"react\";\nimport { Typography, Divider, Col, Row, Button, Input } from \"antd\";\nimport { CloseOutlined } from \"@ant-design/icons\";\nimport { usePersistFn } from \"../../shared/hook\";\nimport { useFormikContext } from \"formik\";\n\nconst OMIT_FIELDS = [\"loadBarcodeName\"];\nconst { Text } = Typography;\n\nconst Barcode = (props) => {\n  const { loadBarcodeName, name } = props;\n  const { values, setFieldValue } = useFormikContext();\n\n  const [inputValue, setInputValue] = useState(\"\");\n  const barcodes = _.get(values, name) || [];\n  const itemNames = _.get(values, \"$\" + name);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        var queue = barcodes.map((a) => loadBarcodeName(a));\n        var results = await Promise.all(queue);\n        var newItemNames = {};\n        for (var i = 0, ii = queue.length; i < ii; i++)\n          newItemNames[barcodes[i]] = results[i] || \"ไม่พบข้อมูล\";\n        setFieldValue(\"$\" + name, newItemNames, false);\n      } catch (e) {}\n    })();\n    /* eslint-disable react-hooks/exhaustive-deps */\n  }, []);\n\n  const onKeyDown = usePersistFn(async (event) => {\n    if (event.key !== \"Enter\") return;\n    setFieldValue(name, [...barcodes, inputValue], false);\n    setInputValue(\"\");\n    event.preventDefault();\n    if (itemNames?.[inputValue]) return;\n\n    var temp;\n    try {\n      var newName = await loadBarcodeName(inputValue);\n      temp = { ...itemNames, [inputValue]: newName || \"ไม่พบข้อมูล\" };\n      setFieldValue(\"$\" + name, temp, false);\n    } catch (e) {\n      temp = { ...itemNames, [inputValue]: \"ไม่พบข้อมูล\" };\n      setFieldValue(\"$\" + name, temp, false);\n    }\n  });\n\n  const remove = (index) => {\n    var newValue = _.filter(barcodes, (a, i) => i !== index);\n    setFieldValue(name, newValue, false);\n  };\n\n  return (\n    <>\n      <Input\n        {..._.omit(props, OMIT_FIELDS)}\n        onKeyDown={onKeyDown}\n        validator={null}\n        name={null}\n        value={inputValue}\n        onChange={(event) => setInputValue(event.target.value)}\n      />\n      <Divider />\n      {barcodes.map((a, i) => (\n        <BarcodeLine\n          key={i + \"\"}\n          name={name + `[${i}]`}\n          itemName={itemNames?.[a]}\n          onClick={() => remove(i)}\n        />\n      ))}\n    </>\n  );\n};\n\nBarcode.propTypes = {\n  loadBarcodeName: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n};\n\nconst BarcodeLine = (props) => {\n  const { name, itemName, onClick } = props;\n\n  return (\n    <>\n      <Row>\n        <Col span={8}>\n          <FInput\n            disabled={true}\n            size=\"small\"\n            style={{ marginBottom: 5 }}\n            name={name}\n          />\n        </Col>\n        <Col span={16}>\n          <Button\n            icon={<CloseOutlined />}\n            size=\"small\"\n            shape=\"circle\"\n            style={{ marginLeft: 20 }}\n            onClick={onClick}\n          />\n          <Text style={{ marginLeft: 20 }}>{itemName}</Text>\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nexport default Barcode;\n","import _ from \"lodash\";\nimport React, { useEffect, useState } from \"react\";\nimport { useFormikContext } from \"formik\";\nimport { Cascader } from \"antd\";\nimport PropTypes from \"prop-types\";\n\nconst CascaderStatic = (props) => {\n\tconst { names, fieldNames, name, notFound } = props;\n\tconst { cascaderOptions: options, notFoundText: nft } = props;\n\tconst { setFieldValue, values } = useFormikContext();\n\tconst [options2, setOptions2] = useState([]);\n\tconst { label: l, value: v, children: c } = fieldNames;\n\tconst [value, setValue] = useState([]);\n\tconst diffValue = convertNames(names, []).map((a) => _.get(values, a));\n\n\tconst syncToOtherFields = (value) => {\n\t\tvar notFound = false;\n\t\tconvertNames(names, value).forEach((a, i) => {\n\t\t\tif (!a) return;\n\t\t\tif (value[i] === nft) {\n\t\t\t\tnotFound = true;\n\t\t\t\tsetFieldValue(a, \"\", false);\n\t\t\t} else setFieldValue(a, value[i], false);\n\t\t});\n\t\tif (notFound) setFieldValue(name + \".$notFound\", true, false);\n\t};\n\n\tconst filter = (inputValue, path) =>\n\t\tpath.some(\n\t\t\t(a) => a[l].toLowerCase().indexOf(inputValue.toLowerCase()) > -1\n\t\t);\n\n\tuseEffect(() => {\n\t\tif (!notFound) setOptions2(options);\n\t\telse setOptions2(appendNotFoundText(options, l, c, v, nft));\n\t}, [notFound, options, l, c, v, nft]);\n\n\tuseEffect(() => {\n\t\tvar data = syncFromOtherFields(values, names, options, l, c, v, nft);\n\t\tsetValue(data.ans);\n\t\tif (data.notFound && data.ans.length)\n\t\t\tsetFieldValue(name + \".$notFound\", true, false);\n\t\t/* eslint-disable react-hooks/exhaustive-deps */\n\t}, [...diffValue, options, l, c, v, nft]);\n\n\tconst displayRender = (labels) => {\n\t\tif (!value.length) return null;\n\t\tconst value2 = [];\n\t\tconst names2 = convertNames(names, value);\n\t\tfor (let i = 0, ii = value.length; i < ii; i++)\n\t\t\tif (names2[i]) value2.push(labels[i] || value[i]);\n\t\treturn value2.join(\" / \");\n\t};\n\n\treturn (\n\t\t<Cascader\n\t\t\t{..._.omit(props, [\n\t\t\t\t\"names\",\n\t\t\t\t\"notFound\",\n\t\t\t\t\"notFoundText\",\n\t\t\t\t\"cascaderOptions\",\n\t\t\t])}\n\t\t\toptions={options2}\n\t\t\tshowSearch={{ filter }}\n\t\t\tonChange={syncToOtherFields}\n\t\t\tdisplayRender={displayRender}\n\t\t\tfieldNames={fieldNames}\n\t\t\tvalue={value}\n\t\t\tname={name + \".$value\"}\n\t\t/>\n\t);\n};\n\nconst convertNames = (names, value) => {\n\tif (Array.isArray(names)) return names;\n\tvar ans = [];\n\tans[value.length ? value.length - 1 : 0] = names;\n\treturn ans;\n};\n\nconst appendNotFoundText = (nodeArray, l, c, v, nft) => {\n\tvar ans = [];\n\tvar isLeaf = false;\n\tfor (var node of nodeArray) {\n\t\tvar newNode = { ...node };\n\t\tif (node[c]) newNode[c] = appendNotFoundText(node[c], l, c, v, nft);\n\t\telse isLeaf = true;\n\t\tans.push(newNode);\n\t}\n\tif (isLeaf) ans.push({ [l]: nft, [v]: nft });\n\treturn ans;\n};\n\nconst syncFromOtherFields = (values, names, node, l, c, v, nft) => {\n\tvar notFound = false;\n\tvar ans = [];\n\tif (Array.isArray(names)) {\n\t\tnames.forEach((name, i) => {\n\t\t\tvar newNode = node.find((a) => a[v] === _.get(values, name));\n\t\t\tif (!newNode) notFound = true;\n\t\t\telse if (newNode[c]) node = newNode[c];\n\t\t});\n\t\tnames.forEach((name, i) => {\n\t\t\tconst theValue = _.get(values, name);\n\t\t\tif (!name || !theValue) return;\n\t\t\tans[i] = theValue === nft ? \"\" : theValue;\n\t\t});\n\t} else {\n\t\tvar lastValue = _.get(values, names);\n\t\tvar traverse = (nodeArray, path) => {\n\t\t\tfor (var node of nodeArray) {\n\t\t\t\tif (node[v] === lastValue) {\n\t\t\t\t\tans = [...path, node[v]];\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (node[c]) {\n\t\t\t\t\tvar ret = traverse(node[c], [...path, node[v]]);\n\t\t\t\t\tif (!ret) return false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\t\tnotFound = traverse(node, []);\n\t}\n\treturn { ans, notFound };\n};\n\nCascaderStatic.propTypes = {\n\tname: PropTypes.string.isRequired,\n\tnotFound: PropTypes.bool,\n\tnotFoundText: PropTypes.string,\n\tnames: PropTypes.oneOfType([PropTypes.string, PropTypes.array]).isRequired,\n\tfieldNames: PropTypes.object,\n\tcascaderOptions: PropTypes.array.isRequired,\n};\n\nCascaderStatic.defaultProps = {\n\tnotFound: false,\n\tnotFoundText: \"อื่นๆ\",\n\tfieldNames: undefined,\n};\n\nexport default CascaderStatic;\n","import _ from \"lodash\";\nimport React, { useEffect, useState } from \"react\";\nimport { Cascader } from \"formik-antd\";\nimport PropTypes from \"prop-types\";\nimport { Spin } from \"antd\";\nimport { useFormikContext } from \"formik\";\n\nconst CascaderAsync = (props) => {\n\tconst { cascaderFetchData: fetchData, fieldNames, name } = props;\n\tconst childrenField = fieldNames?.children || \"children\";\n\tconst valueField = fieldNames?.value || \"value\";\n\tconst [options, setOptions] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst { values } = useFormikContext();\n\n\t// fetch heirarchy of data for the initial value\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tsetLoading(true);\n\t\t\tvar ans = [];\n\t\t\ttry {\n\t\t\t\tvar initValue = _.get(values, name);\n\t\t\t\tif (!Array.isArray(initValue)) initValue = [];\n\n\t\t\t\tvar queues = [fetchData([])];\n\t\t\t\tfor (let i = 0, ii = initValue.length - 1; i < ii; i++)\n\t\t\t\t\tqueues.push(fetchData(initValue.slice(0, i + 1)));\n\t\t\t\tvar results = await Promise.all(queues);\n\t\t\t\tans = results[0];\n\n\t\t\t\tfor (let i = 0, ii = initValue.length - 1; i < ii; i++) {\n\t\t\t\t\tvar currentValue = initValue[i];\n\t\t\t\t\tvar currentResult = results[i];\n\t\t\t\t\tvar node = null;\n\t\t\t\t\tfor (var j = 0, jj = currentResult.length; j < jj; j++)\n\t\t\t\t\t\tif (currentResult[j][valueField] === currentValue) {\n\t\t\t\t\t\t\tnode = currentResult[j];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\tif (!node) break;\n\t\t\t\t\tnode[childrenField] = results[i + 1];\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t\tsetOptions(ans);\n\t\t\tsetLoading(false);\n\t\t})();\n\t\t/* eslint-disable react-hooks/exhaustive-deps */\n\t}, []);\n\n\tconst loadData = async (selectedOptions) => {\n\t\tconst lastOption = selectedOptions[selectedOptions.length - 1];\n\t\tlastOption.loading = true;\n\t\ttry {\n\t\t\tconst newNodes = await fetchData(\n\t\t\t\tselectedOptions.map((a) => a[valueField])\n\t\t\t);\n\t\t\tif (Array.isArray(newNodes)) lastOption[childrenField] = newNodes;\n\t\t} catch (e) {}\n\t\tlastOption.loading = false;\n\t\tsetOptions([...options]);\n\t};\n\n\tconst dropdownRender = (a) => {\n\t\tif (!loading) return a;\n\t\treturn (\n\t\t\t<center style={{ minWidth: 150, padding: 20 }}>\n\t\t\t\t<Spin />\n\t\t\t</center>\n\t\t);\n\t};\n\n\treturn (\n\t\t<Cascader\n\t\t\t{..._.omit(props, [\"cascaderFetchData\"])}\n\t\t\toptions={options}\n\t\t\tloadData={loadData}\n\t\t\tdropdownRender={dropdownRender}\n\t\t/>\n\t);\n};\n\nCascaderAsync.propTypes = {\n\tcascaderFetchData: PropTypes.func.isRequired,\n\tname: PropTypes.string.isRequired,\n\tfieldNames: PropTypes.object,\n};\n\nCascaderAsync.defaultProps = {\n\tfieldNames: undefined,\n};\n\nexport default CascaderAsync;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { FieldArray, useFormikContext } from \"formik\";\nimport PropTypes from \"prop-types\";\nimport { Upload, Button } from \"antd\";\nimport { UploadOutlined } from \"@ant-design/icons\";\nimport { alert } from \"../../controller/util\";\nimport { usePersistFn } from \"../../shared/hook\";\nimport _ from \"lodash\";\n\nconst FileUpload = (props) => {\n  const { name, label, multiple, accept, dataType, disabled } = props;\n  const { uploadFileType, uploadFile, uploadFileInit } = props;\n  const [fileListState, setFileListState] = useState([]);\n  const { values, setFieldValue } = useFormikContext();\n  const abortRef = useRef(null);\n  if (abortRef.current === null) abortRef.current = new AbortController();\n\n  useEffect(() => {\n    let value = _.get(values, name);\n    if (typeof value === \"string\") value = [value];\n    if (Array.isArray(value)) setFileListState(value.map(urlToFileList));\n    uploadFileInit();\n    return () => abortRef.current.abort();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [name]);\n\n  const onUpload = usePersistFn(async (options) => {\n    const { onSuccess, onError, file } = options;\n    if (!file) return;\n\n    try {\n      const uploadURL = await uploadFile(file);\n      if (!abortRef.current.signal.aborted)\n        onSuccess({\n          status: 200,\n          uri: uploadURL.split(/[#?]/)[0],\n          url: URL.createObjectURL(file),\n        });\n    } catch (error) {\n      console.error(error);\n      onError({});\n      alert.error(\"อัพโหลดไฟล์ไม่สำเร็จ\");\n    }\n  });\n\n  const onChangeFile = usePersistFn((info) => {\n    let newFileList = info.fileList.slice(multiple ? 0 : -1);\n    newFileList = newFileList.map((file) => {\n      if (file.response) {\n        file.uri = file.response.uri;\n        file.url = file.response.url;\n      }\n      return file;\n    });\n    setFileListState(newFileList);\n\n    let listFile = newFileList.map((a) => a.uri).filter((a) => !!a);\n    if (dataType === \"string\") listFile = listFile[0];\n    setFieldValue(name, listFile, false);\n  });\n\n  const renderHelper = usePersistFn(() => {\n    return (\n      <>\n        <Upload\n          name={name}\n          listType={uploadFileType === \"image\" ? \"picture\" : null}\n          multiple={multiple}\n          accept={accept}\n          fileList={fileListState}\n          onChange={onChangeFile}\n          customRequest={onUpload}\n          disabled={disabled}\n        >\n          <Button icon={<UploadOutlined />} disabled={disabled}>\n            {label}\n          </Button>\n        </Upload>\n      </>\n    );\n  });\n\n  return <FieldArray name={name} render={renderHelper} />;\n};\n\nFileUpload.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  multiple: PropTypes.bool,\n  accept: PropTypes.string,\n  uploadFile: PropTypes.func.isRequired,\n  uploadFileInit: PropTypes.func,\n  uploadFileType: PropTypes.oneOf([\"image\", \"file\"]).isRequired,\n  dataType: PropTypes.oneOf([\"string\", \"array\"]).isRequired,\n  disabled: PropTypes.bool,\n};\n\nFileUpload.defaultProps = {\n  label: \"อัพโหลดไฟล์\",\n  multiple: false,\n  accept: \"*\",\n  disabled: false,\n  uploadFileInit: _.noop,\n};\n\nconst urlToFileList = (a) => ({\n  name: encodeURIComponent(a.split(/[#?]/)[0].split(/\\//).pop()),\n  url: a,\n  uri: a,\n});\n\nexport default FileUpload;\n","import PropTypes from \"prop-types\";\nimport {\n\tInput,\n\tInputNumber,\n\tCheckbox,\n\tDatePicker,\n\tForm,\n\tSelect,\n\tSwitch,\n} from \"formik-antd\";\nimport Barcode from \"./components/barcode\";\nimport CascaderStatic from \"./components/cascader_static\";\nimport CascaderAsync from \"./components/cascader_async\";\nimport FileUpload from \"./components/file_upload\";\nimport moment from \"moment\";\nimport React from \"react\";\nimport { Col, Divider } from \"antd\";\n\nconst { WeekPicker, MonthPicker } = DatePicker;\n\nconst Field = (props) => {\n\tconst { fieldType, label, required, name, validate, meta } = props;\n\tconst { labelCol, wrapperCol, colSpan, offset, className } = props;\n\tconst { containerStyle, onFieldRender, type, appendDivider } = props;\n\tconst props2 = { ...meta, name };\n\n\treturn (\n\t\t<>\n\t\t\t<Col\n\t\t\t\tspan={colSpan || 24}\n\t\t\t\toffset={offset}\n\t\t\t\tclassName={className}\n\t\t\t\tstyle={containerStyle}\n\t\t\t>\n\t\t\t\t<Form.Item\n\t\t\t\t\tlabel={label}\n\t\t\t\t\trequired={required}\n\t\t\t\t\tname={name}\n\t\t\t\t\tvalidate={validate}\n\t\t\t\t\tlabelCol={labelCol}\n\t\t\t\t\twrapperCol={wrapperCol}\n\t\t\t\t>\n\t\t\t\t\t{fieldType === \"Custom\" &&\n\t\t\t\t\t\tonFieldRender &&\n\t\t\t\t\t\tonFieldRender(props2)}\n\t\t\t\t\t{fieldType === \"Barcode\" && (\n\t\t\t\t\t\t<Barcode\n\t\t\t\t\t\t\tplaceholder=\"พิมพ์แล้วกด Enter เช่น a001\"\n\t\t\t\t\t\t\t{...props2}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"CascaderAsync\" && (\n\t\t\t\t\t\t<CascaderAsync {...props2} />\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"CascaderStatic\" && (\n\t\t\t\t\t\t<CascaderStatic {...props2} />\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"Checkbox\" && <Checkbox {...props2} />}\n\t\t\t\t\t{fieldType === \"DatePicker\" && (\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\tplaceholder=\"เลือกวันที่\"\n\t\t\t\t\t\t\t{...props2}\n\t\t\t\t\t\t\tdefaultValue={\n\t\t\t\t\t\t\t\tprops2.defaultValue &&\n\t\t\t\t\t\t\t\tmoment(props2.defaultValue)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstyle={{ ...props2.style, width: \"100%\" }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"WeekPicker\" && <WeekPicker {...props2} />}\n\t\t\t\t\t{fieldType === \"MonthPicker\" && <MonthPicker {...props2} />}\n\t\t\t\t\t{fieldType === \"Input\" && <Input {...props2} />}\n\t\t\t\t\t{fieldType === \"InputEmail\" && (\n\t\t\t\t\t\t<Input {...props2} type=\"email\" />\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"InputNumber\" && (\n\t\t\t\t\t\t<InputNumber\n\t\t\t\t\t\t\t{...props2}\n\t\t\t\t\t\t\tstyle={{ ...props2.style, width: \"100%\" }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"InputURL\" && (\n\t\t\t\t\t\t<Input {...props2} type=\"url\" />\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"InputPhone\" && (\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tplaceholder=\"เช่น 0811111111\"\n\t\t\t\t\t\t\t{...props2}\n\t\t\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"InputPassword\" && (\n\t\t\t\t\t\t<Input.Password {...props2} />\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"TextArea\" && <Input.TextArea {...props2} />}\n\t\t\t\t\t{fieldType === \"Select\" && (\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tplaceholder=\"เลือก\"\n\t\t\t\t\t\t\t{...props2}\n\t\t\t\t\t\t\tstyle={{ ...props2.style, textAlign: \"left\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{props2.valid &&\n\t\t\t\t\t\t\t\tObject.entries(props2.valid).map(([k, v]) => (\n\t\t\t\t\t\t\t\t\t<Select.Option key={k} value={k}>\n\t\t\t\t\t\t\t\t\t\t{v}\n\t\t\t\t\t\t\t\t\t</Select.Option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"Switch\" && <Switch {...props2} />}\n\t\t\t\t\t{fieldType === \"FileUpload\" && (\n\t\t\t\t\t\t<FileUpload {...props2} dataType={type} />\n\t\t\t\t\t)}\n\t\t\t\t</Form.Item>\n\t\t\t</Col>\n\t\t\t{appendDivider && (\n\t\t\t\t<Col span={20} offset={2}>\n\t\t\t\t\t<Divider style={{ marginBottom: 40, marginTop: 14 }} />{\" \"}\n\t\t\t\t</Col>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nField.propTypes = {\n\tfieldType: PropTypes.oneOf([\n\t\t\"Barcode\",\n\t\t\"Checkbox\",\n\t\t\"DatePicker\",\n\t\t\"WeekPicker\",\n\t\t\"MonthPicker\",\n\t\t\"Input\",\n\t\t\"InputNumber\",\n\t\t\"InputPhone\",\n\t\t\"InputEmail\",\n\t\t\"InputURL\",\n\t\t\"InputPassword\",\n\t\t\"TextArea\",\n\t\t\"Select\",\n\t\t\"Switch\",\n\t\t\"FileUpload\",\n\t\t\"Custom\",\n\t\t\"CascaderStatic\",\n\t\t\"CascaderAsync\",\n\t]).isRequired,\n\tname: PropTypes.string.isRequired,\n\tvalidate: PropTypes.func.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\trequired: PropTypes.bool.isRequired,\n\tmeta: PropTypes.object.isRequired,\n\tcolSpan: PropTypes.number,\n\toffset: PropTypes.number,\n\tlabelCol: PropTypes.object,\n\twrapperCol: PropTypes.object,\n\tclassName: PropTypes.string,\n\tcontainerStyle: PropTypes.object,\n\tonFieldRender: PropTypes.func,\n\tappendDivider: PropTypes.bool,\n};\nField.defaultProps = {\n\tlabelCol: undefined,\n\twrapperCol: undefined,\n\tcolSpan: undefined,\n\toffset: undefined,\n\tclassName: undefined,\n\tcontainerStyle: undefined,\n\tonFieldRender: undefined,\n\tappendDivider: false,\n};\n\nexport default Field;\n","import PropTypes from \"prop-types\";\nimport React, { useMemo } from \"react\";\nimport { useFormikContext } from \"formik\";\nimport Field from \"./field\";\nimport { calculateSpan } from \"./logic\";\n\nconst InnerForm = (props) => {\n\tconst { formSpec, inline, currentStep } = props;\n\tconst { values } = useFormikContext();\n\n\tconst formSpec2 = useMemo(() => {\n\t\treturn calculateSpan(\n\t\t\tformSpec.filter((spec) => {\n\t\t\t\tconst { fieldHide, step } = spec;\n\t\t\t\tif (typeof fieldHide === \"function\") {\n\t\t\t\t\tif (fieldHide(values)) return false;\n\t\t\t\t} else if (fieldHide) return false;\n\t\t\t\tif (currentStep !== -1 && currentStep !== step) return false;\n\t\t\t\treturn true;\n\t\t\t}),\n\t\t\tinline\n\t\t);\n\t}, [formSpec, values, inline, currentStep]);\n\n\treturn formSpec2.map((props) => {\n\t\tconst meta = props.meta || {};\n\t\treturn (\n\t\t\t<Field\n\t\t\t\t{...props}\n\t\t\t\tkey={props.name}\n\t\t\t\tcurrentStep={currentStep}\n\t\t\t\tmeta={\n\t\t\t\t\tinline\n\t\t\t\t\t\t? { ...meta, style: { ...meta.style, ...inlineStyle } }\n\t\t\t\t\t\t: meta\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t});\n};\n\nconst inlineStyle = { width: 150 };\n\nInnerForm.propTypes = {\n\tformSpec: PropTypes.array.isRequired,\n\tinline: PropTypes.bool.isRequired,\n\tcurrentStep: PropTypes.number.isRequired,\n};\n\nexport default InnerForm;\n","import { Form, SubmitButton } from \"formik-antd\";\nimport { Formik } from \"formik\";\nimport PropTypes from \"prop-types\";\nimport { Row, Col, Divider, Steps } from \"antd\";\nimport { useSteps } from \"./logic\";\nimport React from \"react\";\nimport SubmitLine from \"./submit_line\";\nimport _ from \"lodash\";\nimport InnerForm from \"./inner_form\";\nimport { usePersistFn } from \"../shared/hook\";\n\nconst { Step } = Steps;\n\nconst CombinedForm = (props) => {\n\tconst { onSubmit, inline, initialValues, steps } = props;\n\tconst { resetButtonLabel, submitButtonLabel, schema } = props;\n\tconst { nextStep, prevStep, currentStep } = useSteps(steps);\n\n\tconst onSubmit2 = usePersistFn(async (postData, actions) => {\n\t\tvar names = schema.formSpec.map((a) => a.name);\n\t\tvar ans = _.pick(\n\t\t\tpostData,\n\t\t\tnames.filter((a) => !/^\\$|\\.\\$/.test(a))\n\t\t);\n\t\tawait onSubmit(ans, actions, postData);\n\t});\n\n\tconst formProp = inline\n\t\t? {}\n\t\t: { labelCol: { span: 4 }, wrapperCol: { span: 18 }, colon: true };\n\n\treturn (\n\t\t<Formik\n\t\t\tinitialValues={initialValues || schema.toDefaultValues()}\n\t\t\tonSubmit={onSubmit2}\n\t\t>\n\t\t\t{() => (\n\t\t\t\t<Form {...formProp}>\n\t\t\t\t\t{steps.length ? (\n\t\t\t\t\t\t<Row style={{ marginBottom: 40, marginTop: 20 }}>\n\t\t\t\t\t\t\t<Col offset={2} span={20}>\n\t\t\t\t\t\t\t\t<Steps size=\"small\" current={currentStep}>\n\t\t\t\t\t\t\t\t\t{steps.map((a) => (\n\t\t\t\t\t\t\t\t\t\t<Step key={a} title={a} />\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Steps>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t) : null}\n\n\t\t\t\t\t<Row\n\t\t\t\t\t\tgutter={inline ? 20 : 8}\n\t\t\t\t\t\tjustify={inline ? \"center\" : undefined}\n\t\t\t\t\t>\n\t\t\t\t\t\t<InnerForm\n\t\t\t\t\t\t\tformSpec={schema.formSpec}\n\t\t\t\t\t\t\tcurrentStep={currentStep}\n\t\t\t\t\t\t\tinline={inline}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{inline && (\n\t\t\t\t\t\t\t<Col span={3}>\n\t\t\t\t\t\t\t\t<SubmitButton\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 24 }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{submitButtonLabel}\n\t\t\t\t\t\t\t\t</SubmitButton>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Row>\n\t\t\t\t\t{inline && <Divider style={{ marginTop: 10 }} />}\n\t\t\t\t\t{!inline && (\n\t\t\t\t\t\t<SubmitLine\n\t\t\t\t\t\t\tsteps={steps}\n\t\t\t\t\t\t\tcurrentStep={currentStep}\n\t\t\t\t\t\t\tprevStep={prevStep}\n\t\t\t\t\t\t\tnextStep={nextStep}\n\t\t\t\t\t\t\tsubmitButtonLabel={submitButtonLabel}\n\t\t\t\t\t\t\tresetButtonLabel={resetButtonLabel}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Form>\n\t\t\t)}\n\t\t</Formik>\n\t);\n};\n\nCombinedForm.propTypes = {\n\tinitialValues: PropTypes.any,\n\tonSubmit: PropTypes.func.isRequired,\n\tschema: PropTypes.object,\n\tinline: PropTypes.bool,\n\tsteps: PropTypes.array,\n};\n\nCombinedForm.defaultProps = {\n\tinitialValues: null,\n\tschema: null,\n\tinline: false,\n\tsteps: [],\n};\n\nexport default CombinedForm;\n","import { Typography } from \"antd\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nconst { Title, Paragraph } = Typography;\n\nconst Header = (props) => {\n\tconst { title, description, small, icon } = props;\n\tconst { headerContainerStyle, titleStyle, descriptionStyle } = props;\n\n\treturn (\n\t\t<div style={headerContainerStyle}>\n\t\t\t<Title level={small ? 3 : 2} style={titleStyle}>\n\t\t\t\t{icon} {title}\n\t\t\t</Title>\n\t\t\t{description && (\n\t\t\t\t<Paragraph style={descriptionStyle}>{description}</Paragraph>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nHeader.propTypes = {\n\ttitle: PropTypes.string,\n\tdescription: PropTypes.string,\n\theaderContainerStyle: PropTypes.object,\n\tsmall: PropTypes.bool,\n\ticon: PropTypes.node,\n};\n\nHeader.defaultProps = {\n\ttitle: \"\",\n\tdescription: \"\",\n\theaderContainerStyle: { marginBottom: 20, textAlign: \"center\" },\n\ttitleStyle: {},\n\tdescriptionStyle: { textAlign: \"left\" },\n\tsmall: false,\n\ticon: null,\n};\n\nexport default Header;\n","import PropTypes from \"prop-types\";\nimport { Modal, Alert } from \"antd\";\nimport Form from \"../formik/form\";\nimport Header from \"./header\";\nimport React from \"react\";\n\nconst EditModal = (props) => {\n\tconst { visible, onClose, isEdit, schema, onSubmit, steps } = props;\n\tconst { createHeader, editHeader, error, initialValue } = props;\n\tconst title = steps.length ? \"\" : isEdit ? editHeader : createHeader;\n\n\t//need to unmount in order for initialValue to work\n\tif (!visible) return null;\n\n\treturn (\n\t\t<Modal\n\t\t\tcentered\n\t\t\tvisible={visible}\n\t\t\twidth={800}\n\t\t\tfooter={null}\n\t\t\tonCancel={onClose}\n\t\t\tmaskClosable={false}\n\t\t>\n\t\t\t{title && <Header title={title} small />}\n\t\t\t{error && (\n\t\t\t\t<Alert\n\t\t\t\t\tmessage={error.message || error}\n\t\t\t\t\ttype=\"error\"\n\t\t\t\t\tshowIcon\n\t\t\t\t\tstyle={{ margin: 30, marginBottom: 20, marginTop: -10 }}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<Form\n\t\t\t\tinitialValues={initialValue}\n\t\t\t\tschema={schema}\n\t\t\t\tonSubmit={onSubmit}\n\t\t\t\tsteps={steps}\n\t\t\t/>\n\t\t</Modal>\n\t);\n};\n\nEditModal.propTypes = {\n\tisEdit: PropTypes.bool.isRequired,\n\tvisible: PropTypes.bool.isRequired,\n\tonClose: PropTypes.func.isRequired,\n\tschema: PropTypes.object.isRequired,\n\tsteps: PropTypes.array.isRequired,\n\teditHeader: PropTypes.string,\n\tcreateHeader: PropTypes.string,\n\terror: PropTypes.instanceOf(Error),\n\tinitialValue: PropTypes.object,\n\tonSubmit: PropTypes.func.isRequired,\n};\n\nEditModal.defaultProps = {\n\tcreateHeader: \"เพิ่มข้อมูลใหม่\",\n\teditHeader: \"แก้ไขข้อมูล\",\n\terror: null,\n\tinitialValue: undefined,\n};\n\nexport default EditModal;\n","const errorTranslation = {\n\t\"any.required\": \"จำเป็นต้องกรอก\",\n\t\"string.empty\": \"จำเป็นต้องกรอก\",\n\t\"string.uri\": \"URL ไม่ถูกต้อง\",\n\t\"string.min\": (errorObj) =>\n\t\t`ต้องกรอกไม่ต่ำกว่า ${errorObj.context.limit} ตัวอักษร`,\n\t\"string.max\": (errorObj) =>\n\t\t`ต้องกรอกไม่เกิน ${errorObj.context.limit} ตัวอักษร`,\n\t\"string.email\": \"อีเมลไม่ถูกต้อง\",\n\t\"number.base\": \"ต้องเป็นตัวเลข\",\n};\n\nexport const getErrorMessage = (errorObj, label) => {\n\tlabel = label || errorObj?.context?.label;\n\n\tvar { message, type, context } = errorObj;\n\tif (type === \"any.custom\") return context?.error?.message;\n\tif (/[ก-ฮ]/.test(message.replace(/\"[^\"]+\"/g, \"\"))) return message;\n\tif (/pattern/.test(type) && label)\n\t\tif (/fails to match the required pattern/.test(message))\n\t\t\treturn `${label}ไม่ถูกต้อง`;\n\t\telse return message;\n\n\tvar found = errorTranslation[type];\n\tif (!found && label) return `${label}ไม่ถูกต้อง (${message})`;\n\tif (!found) return `ค่าไม่ถูกต้อง (${message})`;\n\n\tif (typeof found === \"string\") return found;\n\treturn found(errorObj);\n};\n","import Joi from \"joi/lib/index\";\n\n// https://stackoverflow.com/questions/42370881/allow-string-to-be-null-or-empty-in-joi-and-express-validation\n// https://github.com/sideway/joi/issues/482\nexport const fixEmptyString = (joiObj, describeObj) => {\n\tconst traverse = (node, path, ans) => {\n\t\tif (node?.flags?.label && node?.type === \"string\")\n\t\t\tif (node?.flags?.presence !== \"required\") ans.push(path);\n\n\t\tvar keys = node.keys;\n\t\tif (keys)\n\t\t\tfor (var key in keys) traverse(keys[key], [...path, key], ans);\n\t};\n\n\tvar paths = [];\n\ttraverse(describeObj, [], paths);\n\treturn joiObj.fork(paths, (schema) => schema.allow(\"\"));\n};\n\nexport const handleDevMode = (joiObj, describeObj) => {\n\tconst traverse = (node, path) => {\n\t\tif (node?.flags?.label && node?.flags?.presence) {\n\t\t\tdelete node.flags.presence;\n\t\t\tpaths.push(path);\n\t\t}\n\n\t\tvar keys = node.keys;\n\t\tif (keys) for (var key in keys) traverse(keys[key], [...path, key]);\n\t};\n\n\tconst paths = [];\n\ttraverse(describeObj, []);\n\treturn joiObj.fork(paths, (a) => a.optional());\n};\n\nexport const handleFieldHide = (joiObj, describeObj) => {\n\tconst traverse = (node, path, ans) => {\n\t\tif (node?.flags?.label && node?.metas?.[0]?.fieldHide) ans.push(path);\n\n\t\tvar keys = node.keys;\n\t\tif (keys)\n\t\t\tfor (var key in keys) traverse(keys[key], [...path, key], ans);\n\t};\n\n\tvar paths = [];\n\ttraverse(describeObj, [], paths);\n\treturn joiObj.fork(paths, (schema) => schema.optional());\n};\n\nexport const prepare = (joiObj, describeObj, devMode) => {\n\tjoiObj = fixEmptyString(joiObj, describeObj);\n\tif (devMode) joiObj = handleDevMode(joiObj, describeObj);\n\tjoiObj = handleFieldHide(joiObj, describeObj);\n\treturn joiObj.append({ _id: Joi.any() });\n};\n","export const IMAGE_FALLBACK =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==\";\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Image } from \"antd\";\nimport { IMAGE_FALLBACK } from \"../../assets/fallback_image\";\n\nconst ColImage = (props) => {\n  const { src, width } = props;\n\n  if (typeof src === \"string\")\n    return <Image src={src} width={width} fallback={IMAGE_FALLBACK} />;\n\n  if (!Array.isArray(src))\n    return <Image src=\"error\" width={width} fallback={IMAGE_FALLBACK} />;\n\n  return (\n    <Image.PreviewGroup>\n      {src.map((item, index) => (\n        <Image\n          key={index.toString()}\n          src={item}\n          width={width}\n          style={{ padding: \"0 0.5rem 0.5rem 0\" }}\n          fallback={IMAGE_FALLBACK}\n        />\n      ))}\n    </Image.PreviewGroup>\n  );\n};\n\nColImage.propTypes = {\n  src: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  width: PropTypes.number,\n};\n\nColImage.defaultProps = {\n  width: 100,\n};\n\nexport default ColImage;\n","import Joi from \"joi/lib/index\";\nimport { getErrorMessage } from \"./error_message\";\nimport _ from \"lodash\";\nimport numeral from \"numeral\";\nimport moment from \"moment\";\nimport { prepare } from \"./prepare_joi\";\nimport React from \"react\";\nimport ColImage from \"../formik/components/col_image\";\nimport memo from \"memoizee\";\n\nconst OMIT_META = [\n\t\"twoColumn\",\n\t\"defaultValue\",\n\t\"fieldType\",\n\t\"validLabel\",\n\t\"cellFormat\",\n\t\"cellWidth\",\n\t\"cellEllipsis\",\n\t\"cellHide\",\n\t\"fieldHide\",\n\t\"containerStyle\",\n\t\"step\",\n\t\"disableSorting\",\n\t\"disableFilter\",\n\t\"onFieldRender\",\n\t\"appendDivider\",\n];\n\nconst MEMO_OPTION = { promise: true, primitive: true };\n\nclass JoiWrapper {\n\tconstructor(joiObj, devMode) {\n\t\tif (!Joi.isSchema(joiObj)) throw new Error(\"Invalid Joi Object\");\n\n\t\tthis.describe = joiObj.describe();\n\t\tthis.joiObj = prepare(joiObj, this.describe, devMode);\n\t\tthis.formSpec = [];\n\t\ttraverse(this.describe, [], this.formSpec, this.joiObj);\n\t\thandleCellShow(this.formSpec);\n\t\tthis.columns = this.formSpec.map((a) => a.column);\n\t\tthis.toDefaultValues = this.toDefaultValues.bind(this);\n\t}\n\n\ttoDefaultValues() {\n\t\tif (!this.defaultValues) {\n\t\t\tvar ans = (this.defaultValues = {});\n\t\t\tfor (var { name, defaultValue } of this.formSpec) {\n\t\t\t\tif (typeof defaultValue === \"function\")\n\t\t\t\t\tdefaultValue = defaultValue();\n\t\t\t\tif (defaultValue !== undefined) _.set(ans, name, defaultValue);\n\t\t\t}\n\t\t}\n\t\treturn this.defaultValues;\n\t}\n}\n\nconst traverse = (node, path, ans, joiObj) => {\n\tif (node?.flags?.label) ans.push(new JoiField(node, path, joiObj));\n\n\tvar keys = node.keys;\n\tif (keys)\n\t\tfor (var key in keys) traverse(keys[key], [...path, key], ans, joiObj);\n};\n\nconst handleCellShow = (formSpec) => {\n\tvar hasCellShow = false;\n\tfor (var item of formSpec)\n\t\tif (item.meta.cellShow) {\n\t\t\thasCellShow = true;\n\t\t\tbreak;\n\t\t}\n\n\tif (hasCellShow)\n\t\tfor (var spec of formSpec)\n\t\t\tif (spec.meta.cellShow) delete spec.meta.cellShow;\n\t\t\telse spec.column.cellHide = true;\n};\n\nclass JoiField {\n\tconstructor(field, path, joiObj) {\n\t\tvar meta = this.getMeta(field);\n\n\t\tthis.required = field?.flags?.presence === \"required\";\n\t\tthis.label = field?.flags?.label;\n\t\tthis.name = path.join(\".\");\n\t\tthis.fieldType = this.guessFieldType(field, meta);\n\t\tthis._extractedSchema = this.getExtractedSchema(joiObj, path);\n\t\tthis.validate = this.validate.bind(this);\n\t\tthis.type = field.type;\n\t\tthis.defaultValue = field?.flags?.default;\n\t\tthis.column = this.getColumn(meta, this);\n\n\t\t//remove excess data from meta\n\t\tthis.twoColumn = meta.twoColumn;\n\t\tthis.fieldHide = meta.fieldHide;\n\t\tthis.containerStyle = meta.containerStyle;\n\t\tthis.step = meta.step;\n\t\tthis.onFieldRender = meta.onFieldRender;\n\t\tthis.appendDivider = meta.appendDivider;\n\t\tthis.meta = _.omit(meta, OMIT_META);\n\t}\n\n\tgetExtractedSchema(joiObj, path) {\n\t\tvar { fieldType } = this;\n\t\tvar ans = joiObj.extract(path);\n\t\tif (fieldType === \"InputPhone\")\n\t\t\treturn ans.pattern(/^0([2]|[6]|[0-9][0-9])[0-9]{7}$/);\n\t\tif (fieldType === \"InputEmail\") return ans.email();\n\t\tif (fieldType === \"InputURL\")\n\t\t\treturn ans.uri({ scheme: [\"http\", \"https\"] });\n\t\treturn ans;\n\t}\n\n\tgetColumn(meta, $this) {\n\t\tvar { fieldType, type, label, name } = $this;\n\t\tvar ans = {\n\t\t\tellipsis: meta.cellEllipsis,\n\t\t\trender: meta.cellFormat,\n\t\t\twidth: meta.cellWidth,\n\t\t\tcellHide: meta.cellHide,\n\t\t\tdisableSorting: meta.disableSorting,\n\t\t\tdisableFilter: meta.disableFilter,\n\t\t\ttitle: label,\n\t\t\tdataIndex: name.split(\".\"),\n\t\t\tkey: name,\n\t\t\ttype,\n\t\t\tfieldType,\n\t\t};\n\n\t\tif (!ans.width) {\n\t\t\tif (type === \"number\") ans.width = 80;\n\t\t\telse if (type === \"date\") ans.width = 130;\n\t\t\telse if (fieldType === \"FileUpload\") ans.width = 150;\n\t\t\telse if (fieldType === \"InputURL\") ans.width = 250;\n\t\t\telse if (fieldType === \"TextArea\") ans.width = 250;\n\t\t}\n\n\t\tif (!ans.ellipsis) {\n\t\t\tif (fieldType === \"TextArea\") ans.ellipsis = true;\n\t\t}\n\n\t\tif (!ans.render) {\n\t\t\tif (fieldType === \"Select\") ans.render = (a) => meta.valid[a];\n\t\t\telse if (fieldType === \"InputPhone\")\n\t\t\t\tans.render = (a) => {\n\t\t\t\t\tif (typeof a !== \"string\") return a;\n\t\t\t\t\treturn a.replace(\n\t\t\t\t\t\t/(\\d{2,3})(\\d{3})(\\d{4})/,\n\t\t\t\t\t\t(m, p1, p2, p3) => [p1, p2, p3].join(\"-\")\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\telse if (\n\t\t\t\tfieldType === \"InputURL\" ||\n\t\t\t\tfieldType === \"TextArea\" ||\n\t\t\t\t(fieldType === \"FileUpload\" && meta.uploadFileType !== \"image\")\n\t\t\t)\n\t\t\t\tans.render = (a) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\twordWrap: \"break-word\",\n\t\t\t\t\t\t\twordBreak: \"break-word\",\n\t\t\t\t\t\t\tmaxWidth: 250,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttitle={a + \"\"}\n\t\t\t\t\t>\n\t\t\t\t\t\t{a}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\telse if (\n\t\t\t\tfieldType === \"FileUpload\" &&\n\t\t\t\tmeta.uploadFileType === \"image\"\n\t\t\t)\n\t\t\t\tans.render = (a) => <ColImage src={a} />;\n\t\t\telse if (fieldType === \"CascaderAsync\")\n\t\t\t\tans.render = (a) => (Array.isArray(a) ? a.join(\" / \") : \"\");\n\t\t\telse if (type === \"number\")\n\t\t\t\tans.render = (a) => (a == null ? \"\" : numeral(a).format(\"0,0\"));\n\t\t\telse if (type === \"boolean\")\n\t\t\t\tans.render = (a) => (a == null ? \"\" : a ? \"ใช่\" : \"ไม่ใช่\");\n\t\t\telse if (type === \"date\")\n\t\t\t\tans.render = (a) =>\n\t\t\t\t\ta == null\n\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t: a instanceof Date\n\t\t\t\t\t\t? moment(a).format(\"YYYY-MM-DD\")\n\t\t\t\t\t\t: a;\n\t\t\telse if (type === \"array\")\n\t\t\t\tans.render = (a) =>\n\t\t\t\t\ta == null ? \"\" : Array.isArray(a) ? a.join(\", \") : a;\n\t\t}\n\n\t\treturn ans;\n\t}\n\n\tgetMeta(field) {\n\t\tvar metas = field?.metas;\n\t\tvar ans = {};\n\t\tif (Array.isArray(metas) && metas.length === 1) ans = { ...metas[0] };\n\n\t\tif (field?.flags?.only && field?.allow) {\n\t\t\tvar { validLabel } = ans;\n\t\t\tvar allow = field?.allow;\n\t\t\tif (!Array.isArray(validLabel)) validLabel = allow;\n\t\t\telse if (validLabel?.length !== field?.allow?.length)\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"validLabel is required and must have the equal length\"\n\t\t\t\t);\n\t\t\tvar valid = (ans.valid = {});\n\t\t\tfor (var i = 0, ii = allow.length; i < ii; i++)\n\t\t\t\tvalid[allow[i]] = validLabel[i];\n\t\t}\n\n\t\tif (ans.loadBarcodeName)\n\t\t\tans.loadBarcodeName = memo(ans.loadBarcodeName, MEMO_OPTION);\n\t\tif (ans.cascaderFetchData)\n\t\t\tans.cascaderFetchData = memo(ans.cascaderFetchData, MEMO_OPTION);\n\n\t\treturn ans;\n\t}\n\n\tguessFieldType(field, meta) {\n\t\tif (meta.fieldType) return meta.fieldType;\n\t\tif (meta.onFieldRender) return \"Custom\";\n\t\tif (meta.loadBarcodeName) return \"Barcode\";\n\t\tif (meta.getUploadUrl || meta.firebaseConfig || meta.uploadFile)\n\t\t\treturn \"FileUpload\";\n\t\tif (meta.cascaderFetchData) return \"CascaderAsync\";\n\t\tif (meta.cascaderOptions) return \"CascaderStatic\";\n\t\tif (field.type === \"boolean\") return \"Checkbox\";\n\t\tif (field.type === \"date\") return \"DatePicker\";\n\t\tif (field.type === \"number\") return \"InputNumber\";\n\t\tif (meta.valid) return \"Select\";\n\t\treturn \"Input\";\n\t}\n\n\tvalidate(value) {\n\t\tvar rawError = this._extractedSchema.validate(value);\n\t\tif (this.required && !value)\n\t\t\treturn getErrorMessage(\n\t\t\t\t{ type: \"any.required\", message: \"\" },\n\t\t\t\tthis.label\n\t\t\t);\n\n\t\tif (!rawError.error || !Array.isArray(rawError.error.details))\n\t\t\treturn null;\n\n\t\tfor (var errorObj of rawError.error.details)\n\t\t\treturn getErrorMessage(errorObj, this.label);\n\n\t\treturn null;\n\t}\n}\n\nexport { JoiField, JoiWrapper };\n","import { utils, writeFile, read, SSF } from \"xlsx\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\n\nexport const tableToExcel = (dataArray, fileName) => {\n\tdataArray.forEach(handleNested);\n\tvar worksheet = utils.json_to_sheet(dataArray, { dateNF: \"yyyy-mm-dd\" });\n\tif (!fileName) return worksheet;\n\n\tvar workbook = utils.book_new();\n\tutils.book_append_sheet(workbook, worksheet, \"Sheet 1\");\n\twriteFile(workbook, fileName);\n};\n\nexport const parseExcelDate = (date) => {\n\tvar a = SSF.parse_date_code(date);\n\tvar momentInput = { y: a.y, M: a.m - 1, d: a.d, h: a.H, m: a.M, s: a.S };\n\treturn moment(momentInput).parseZone(new Date()).toDate();\n};\n\nexport const excelToTable = (fileObject) =>\n\tnew Promise((res, rej) => {\n\t\tvar reader = new FileReader();\n\t\treader.onload = (e) => {\n\t\t\ttry {\n\t\t\t\tvar data = e.target.result;\n\t\t\t\tvar workbook = read(data, { type: \"binary\" });\n\t\t\t\tvar firstSheet = workbook.Sheets[workbook.SheetNames[0]];\n\t\t\t\tvar ans = utils.sheet_to_json(firstSheet);\n\t\t\t\tres(ans.map(parse));\n\t\t\t} catch (error) {\n\t\t\t\trej(error);\n\t\t\t}\n\t\t};\n\t\treader.onerror = () => rej(reader.error);\n\t\treader.readAsBinaryString(fileObject);\n\t});\n\nconst parse = (a) => {\n\treturn _.omit(a, \"__rowNum__\");\n};\n\nconst handleNested = (obj) => {\n\tfor (var key in obj) {\n\t\tvar value = obj[key];\n\t\tif (isObject(value))\n\t\t\tthrow new Error(\"XLSX layer does not support object\");\n\t\tif (Array.isArray(value))\n\t\t\tthrow new Error(\"XLSX layer does not support array\");\n\t}\n};\n\nconst isObject = (x) => Object.prototype.toString.call(x) === \"[object Object]\";\n","import _ from \"lodash\";\nimport { parseExcelDate } from \"../shared/xlsx\";\nimport moment from \"moment\";\nimport { getErrorMessage } from \"./error_message\";\nimport Joi from \"joi/lib/index\";\n\nexport class SerializeError extends Error {\n\tconstructor(errors) {\n\t\tsuper(\"SerializeError\");\n\t\tthis.name = \"SerializeError\";\n\t\tthis.errors = errors;\n\t\tError.captureStackTrace(this, this.constructor);\n\t}\n}\n\nexport const deserializeTable = (table, schema) => {\n\tvar errors = [];\n\tvar ans = [];\n\tfor (var i = 0, ii = table.length; i < ii; i++) {\n\t\ttry {\n\t\t\tans.push(deserializeRow(table[i], schema, \"\"));\n\t\t} catch (error) {\n\t\t\terrors = [...errors, ...error.details.map(mapError(i))];\n\t\t}\n\t}\n\n\tif (errors.length) throw new SerializeError(errors);\n\treturn ans;\n};\n\nconst mapError = (i) => {\n\treturn (a) => ({\n\t\tline: i + 2,\n\t\tlabel: a.context?.label,\n\t\tmessage: getErrorMessage(a),\n\t\ttype: a.type,\n\t});\n};\n\nconst deserializeRow = (excelRow, schema) => {\n\tif (!schema.columnCache)\n\t\tschema.columnCache = _.keyBy(schema.columns, \"title\");\n\n\tvar ans = {};\n\tfor (var x in excelRow) {\n\t\tvar column = schema.columnCache[x];\n\t\tif (!column || column.disabled) continue;\n\n\t\tvar current = excelRow[x];\n\t\tif (column.type === \"array\" && typeof current === \"string\")\n\t\t\tcurrent = current.split(/\\s*,\\s*/);\n\t\telse if (column.type === \"date\" && typeof current === \"string\")\n\t\t\tcurrent = moment(current).parseZone(new Date()).toDate();\n\t\telse if (column.type === \"date\") current = parseExcelDate(current);\n\n\t\t_.set(ans, column.dataIndex, current);\n\t}\n\treturn Joi.attempt(ans, schema.joiObj, { abortEarly: false });\n};\n\nexport const serializeTable = (table, schema, showDisabled) => {\n\tvar ans = [];\n\tfor (var rowData of table) {\n\t\tvar newRow = {};\n\t\tfor (var column of schema.columns) {\n\t\t\tif (!showDisabled && column.disabled) continue;\n\t\t\tvar current = _.get(rowData, column.dataIndex);\n\n\t\t\tif (column.type === \"array\") current += \"\";\n\t\t\telse if (column.type === \"date\")\n\t\t\t\tcurrent = moment(current).format(\"YYYY-MM-DD\");\n\n\t\t\tnewRow[column.title] = current;\n\t\t}\n\t\tans.push(newRow);\n\t}\n\treturn ans;\n};\n","import PropTypes from \"prop-types\";\nimport { Modal, Table } from \"antd\";\nimport Header from \"./header\";\nimport { ExclamationCircleFilled } from \"@ant-design/icons\";\nimport React from 'react';\n\nconst COLUMNS = [\n\t{ title: \"บรรทัด\", dataIndex: \"line\", width: 100 },\n\t{ title: \"คอลัมน์\", dataIndex: \"label\", width: 100 },\n\t{ title: \"ปัญหาที่พบ\", dataIndex: \"message\" },\n].map((a) => ({ ...a, key: a.dataIndex }));\n\nconst ExcelErrorModal = (props) => {\n\tconst { visible, onClose, errors, title } = props;\n\tconst dataSource = errors.map((a, i) => ({ ...a, key: i }));\n\n\treturn (\n\t\t<Modal\n\t\t\tcentered\n\t\t\tvisible={visible}\n\t\t\twidth={600}\n\t\t\tfooter={null}\n\t\t\tonCancel={onClose}\n\t\t>\n\t\t\t<Header title={title} icon={<ExclamationCircleFilled style={{color:'#faad14'}} />} small />\n\t\t\t<Table\n\t\t\t\tcolumns={COLUMNS}\n\t\t\t\tdataSource={dataSource}\n\t\t\t\ttableScroll={{ y: 600 }}\n\t\t\t\tpagination={false}\n\t\t\t\tsize=\"small\"\n\t\t\t/>\n\t\t</Modal>\n\t);\n};\n\nExcelErrorModal.propTypes = {\n\tvisible: PropTypes.bool.isRequired,\n\tonClose: PropTypes.func.isRequired,\n\terrors: PropTypes.array,\n\ttitle: PropTypes.string,\n};\nExcelErrorModal.defaultProps = {\n\terrors: [],\n\ttitle: \"อัพโหลดไม่สำเร็จ\",\n};\n\nexport default ExcelErrorModal;\n","import PropTypes from \"prop-types\";\nimport { useState, useEffect, useMemo } from \"react\";\nimport Table from \"../table\";\nimport { alert, appendId } from \"./util\";\nimport { useModal, useAPI, usePersistFn } from \"../shared/hook\";\nimport EditModal from \"./edit_modal\";\nimport Header from \"./header\";\nimport { JoiWrapper } from \"../joi/joi_wrapper\";\nimport { tableToExcel, excelToTable } from \"../shared/xlsx\";\nimport { deserializeTable, serializeTable } from \"../joi/serialize\";\nimport ExcelErrorModal from \"./excel_error_modal\";\nimport Form from \"../formik/form\";\nimport Joi from \"joi/lib/index\";\nimport React from \"react\";\nimport _ from \"lodash\";\n\nconst INITIAL_FORM_STATUS = { isEdit: false, initialValue: null, error: null };\n\nconst Controller = (props) => {\n\tconst { getMany, createMany, updateOne, deleteMany, devMode } = props;\n\tconst { title, description, uploadPreviewUrl, disableSuccessModal } = props;\n\tconst { schema, querySchema, rowButtons, tableScroll, steps } = props;\n\tconst { disableExcelDownload, disableExcelUpload } = props;\n\n\tconst [editModalData, setEditModalData] = useState(INITIAL_FORM_STATUS);\n\tconst [excelError, setExcelError] = useState([]);\n\tconst [getManyStatus, doGetMany, setData] = useAPI(getMany, true, true);\n\tconst [deleteStatus, doDelete] = useAPI(deleteMany);\n\tconst editModalControl = useModal();\n\tconst excelModalControl = useModal();\n\tconst schema2 = useMemo(() => new JoiWrapper(schema, devMode), [\n\t\tschema,\n\t\tdevMode,\n\t]);\n\tconst querySchema2 = useMemo(\n\t\t() => querySchema && new JoiWrapper(querySchema, devMode),\n\t\t[querySchema, devMode]\n\t);\n\n\tconst onCreate = usePersistFn(() => {\n\t\tsetEditModalData(INITIAL_FORM_STATUS);\n\t\teditModalControl.setVisible(true);\n\t});\n\n\tconst onEdit = usePersistFn((obj) => {\n\t\tsetEditModalData({ isEdit: true, initialValue: obj, error: null });\n\t\teditModalControl.setVisible(true);\n\t});\n\n\tconst updateDataAtRow = usePersistFn((rowData) => {\n\t\tvar tableData = getManyStatus.data;\n\t\tsetData(tableData.map((a) => (a._id === rowData._id ? rowData : a)));\n\t});\n\n\tconst onSubmit = usePersistFn(async (data, actions, originalData) => {\n\t\tsetEditModalData((a) => ({ ...a, error: null }));\n\t\ttry {\n\t\t\tdata = Joi.attempt(data, schema2.joiObj);\n\t\t\tschema2.formSpec\n\t\t\t\t.map((a) => a.name)\n\t\t\t\t.filter((a) => /^\\$|\\.\\$/.test(a))\n\t\t\t\t.forEach((a) => _.unset(data, a));\n\n\t\t\tif (editModalData.isEdit) {\n\t\t\t\tawait updateOne(data, originalData);\n\t\t\t\tupdateDataAtRow(originalData);\n\t\t\t\tif (!disableSuccessModal) alert.success(\"แก้ไขข้อมูลเรียบร้อย\");\n\t\t\t\teditModalControl.setVisible(false);\n\t\t\t} else {\n\t\t\t\tvar returnData = await createMany([data]);\n\t\t\t\tif (!Array.isArray(returnData) || returnData.length !== 1)\n\t\t\t\t\treturn alert.error(\"ข้อมูลจากเซิฟเวอร์ไม่ถูกต้อง\");\n\t\t\t\tdata = appendId(returnData[0]);\n\t\t\t\tsetData([data, ...getManyStatus.data]);\n\t\t\t\tif (!disableSuccessModal) alert.success(\"สร้างข้อมูลเรียบร้อย\");\n\t\t\t\teditModalControl.setVisible(false);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsetEditModalData((a) => ({ ...a, error: e }));\n\t\t\tactions.setSubmitting(false);\n\t\t}\n\t});\n\n\tconst onDelete = usePersistFn(async (selectedKeys) => {\n\t\ttry {\n\t\t\tvar { data } = getManyStatus;\n\t\t\tvar selectedSet = new Set(selectedKeys);\n\t\t\tvar values = data.filter((a) => selectedSet.has(a._id));\n\t\t\tawait doDelete(values);\n\t\t\tsetData(data.filter((a) => !selectedSet.has(a._id)));\n\t\t} catch (e) {\n\t\t\talert.error(e);\n\t\t}\n\t});\n\n\t/* eslint-disable react-hooks/exhaustive-deps */\n\tuseEffect(() => {\n\t\tdoGetMany({})\n\t\t\t.then((data) => setData(data.map(appendId)))\n\t\t\t.catch((error) => alert.error(error));\n\t}, [schema]);\n\n\tconst onQuery = usePersistFn(async (query) => {\n\t\ttry {\n\t\t\tquery = Joi.attempt(query, querySchema2.joiObj);\n\t\t\tvar data = await doGetMany(query);\n\t\t\tsetData(data.map(appendId));\n\t\t} catch (e) {\n\t\t\talert.error(e);\n\t\t}\n\t});\n\n\tconst onDownloadExcel = usePersistFn(() => {\n\t\tif (!getManyStatus.data) return;\n\t\tvar table = serializeTable(getManyStatus.data, schema2, true);\n\t\ttableToExcel(table, \"export.xlsx\");\n\t});\n\tconst onExampleExcel = usePersistFn(() => {\n\t\tif (uploadPreviewUrl)\n\t\t\treturn window.open(uploadPreviewUrl, \"_blank\").focus();\n\t\tif (!getManyStatus.data) return;\n\t\tvar table = serializeTable(getManyStatus.data.slice(0, 3), schema2);\n\t\ttableToExcel(table, \"example.xlsx\");\n\t});\n\tconst onUploadExcel = usePersistFn(async (a) => {\n\t\ttry {\n\t\t\tvar rawExcel = await excelToTable(a);\n\t\t\tvar newRows = deserializeTable(rawExcel, schema2);\n\t\t\tvar newData = await createMany(newRows, newRows);\n\t\t\tif (!Array.isArray(newData) || newData.length !== newRows.length)\n\t\t\t\treturn alert.error(\"ข้อมูลจากเซิฟเวอร์ไม่ถูกต้อง\");\n\n\t\t\tsetData([...newData.map(appendId), ...getManyStatus.data]);\n\t\t\tif (!disableSuccessModal) alert.success(\"อัพโหลดเรียบร้อย\");\n\t\t} catch (e) {\n\t\t\tif (e.name !== \"SerializeError\") return alert.error(e);\n\t\t\tsetExcelError(e.errors);\n\t\t\texcelModalControl.setVisible(true);\n\t\t}\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<Header title={title} description={description} />\n\t\t\t{querySchema && (\n\t\t\t\t<Form\n\t\t\t\t\tschema={querySchema2}\n\t\t\t\t\tonSubmit={onQuery}\n\t\t\t\t\tsubmitButtonLabel=\"ดึงข้อมูล\"\n\t\t\t\t\tinline\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<Table\n\t\t\t\t{...getManyStatus}\n\t\t\t\tloading={getManyStatus.loading || deleteStatus.loading}\n\t\t\t\tschema={schema2}\n\t\t\t\tquerySchema={querySchema}\n\t\t\t\trowButtons={rowButtons}\n\t\t\t\tonEdit={updateOne && onEdit}\n\t\t\t\tonCreate={createMany && onCreate}\n\t\t\t\tonDelete={deleteMany && onDelete}\n\t\t\t\tonDownloadExcel={\n\t\t\t\t\t!disableExcelDownload && getManyStatus.data?.length\n\t\t\t\t\t\t? onDownloadExcel\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\tonUploadExcel={\n\t\t\t\t\t!disableExcelUpload && createMany ? onUploadExcel : null\n\t\t\t\t}\n\t\t\t\tonExampleExcel={\n\t\t\t\t\t!disableExcelUpload &&\n\t\t\t\t\tcreateMany &&\n\t\t\t\t\t(uploadPreviewUrl || getManyStatus.data?.length)\n\t\t\t\t\t\t? onExampleExcel\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\ttableScroll={tableScroll}\n\t\t\t\tupdateDataAtRow={updateDataAtRow}\n\t\t\t/>\n\t\t\t<EditModal\n\t\t\t\t{...editModalControl}\n\t\t\t\t{...editModalData}\n\t\t\t\tschema={schema2}\n\t\t\t\tonSubmit={onSubmit}\n\t\t\t\tsteps={steps}\n\t\t\t/>\n\t\t\t<ExcelErrorModal {...excelModalControl} errors={excelError} />\n\t\t</>\n\t);\n};\n\nController.propTypes = {\n\t// API\n\tgetMany: PropTypes.func.isRequired,\n\tcreateMany: PropTypes.func,\n\tupdateOne: PropTypes.func,\n\tdeleteMany: PropTypes.func,\n\n\t// modifier\n\ttitle: PropTypes.string.isRequired,\n\tdescription: PropTypes.string,\n\ttableScroll: PropTypes.object,\n\trowButtons: PropTypes.array,\n\tdisableSuccessModal: PropTypes.bool,\n\n\t// form\n\tschema: PropTypes.object.isRequired,\n\tquerySchema: PropTypes.object,\n\tsteps: PropTypes.array,\n\tdevMode: PropTypes.bool,\n\n\t//excel\n\tdisableExcelDownload: PropTypes.bool,\n\tdisableExcelUpload: PropTypes.bool,\n\tuploadPreviewUrl: PropTypes.string,\n};\n\nController.defaultProps = {\n\tgetOne: null,\n\tcreateMany: null,\n\tupdateOne: null,\n\tdeleteMany: null,\n\tdescription: \"\",\n\ttableScroll: undefined,\n\trowButtons: [],\n\tquerySchema: null,\n\tdisableExcelDownload: false,\n\tdisableExcelUpload: false,\n\tuploadPreviewUrl: null,\n\tsteps: [],\n\tdevMode: false,\n\tdisableSuccessModal: true,\n};\n\nexport default Controller;\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport EditModal from \"./edit_modal\";\nimport { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Joi from \"joi/lib/index\";\nimport { JoiWrapper } from \"../joi/joi_wrapper\";\nimport { alert } from \"./util\";\n\nexport const openFormModal = (props) => {\n\tif (!props.schema) throw new Error(\"schema required\");\n\tconst div = document.createElement(\"div\");\n\n\tconst onClose = () => {\n\t\tconst unmountResult = ReactDOM.unmountComponentAtNode(div);\n\t\tif (unmountResult && div.parentNode) div.parentNode.removeChild(div);\n\t};\n\n\tdocument.body.appendChild(div);\n\tconst props2 = {\n\t\t...props,\n\t\tonClose,\n\t\tschema: new JoiWrapper(props.schema, props.devMode),\n\t};\n\tsetTimeout(() => ReactDOM.render(<FormModal {...props2} />, div));\n};\n\nconst FormModal = (props) => {\n\tconst { onClose, schema, title, onSubmit, steps } = props;\n\tconst { disableSuccessModal } = props;\n\tconst [error, setError] = useState(null);\n\n\tconst onSubmit2 = async (data, actions, originalData) => {\n\t\tsetError(null);\n\t\ttry {\n\t\t\tdata = Joi.attempt(data, schema.joiObj);\n\t\t\tawait onSubmit(data, originalData);\n\t\t\tif (!disableSuccessModal) alert.success(\"บันทึกข้อมูลเรียบร้อย\");\n\t\t\tonClose();\n\t\t} catch (e) {\n\t\t\tsetError(e);\n\t\t\tactions.setSubmitting(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<EditModal\n\t\t\tisEdit={false}\n\t\t\tvisible={true}\n\t\t\tonClose={onClose}\n\t\t\tschema={schema}\n\t\t\tsteps={steps}\n\t\t\tcreateHeader={title}\n\t\t\terror={error}\n\t\t\tonSubmit={onSubmit2}\n\t\t/>\n\t);\n};\n\nFormModal.propTypes = {\n\tonClose: PropTypes.func.isRequired,\n\tschema: PropTypes.object.isRequired,\n\tonSubmit: PropTypes.func.isRequired,\n\ttitle: PropTypes.string,\n\tsteps: PropTypes.array,\n\tdisableSuccessModal: PropTypes.bool,\n};\n\nFormModal.defaultProps = {\n\tsteps: [],\n\ttitle: null,\n\tdisableSuccessModal: false,\n};\n","export const raw = (a, isObj) =>\n\tisObj ? a : \"\\u0092\" + a.toString() + \"\\u0092\";\n\nexport const regex = (a, isObj) =>\n\tisObj ? a : \"\\u0092\" + a.toString().replace(/\\\\/g, \"\\u0091\") + \"\\u0092\";\n\nexport const showRaw = (a, isObj) => {\n\tif (isObj) return a;\n\treturn a\n\t\t.replace(/\\u0092\\\\*\"/g, \"\")\n\t\t.replace(/\\\\*\"\\u0092/g, \"\")\n\t\t.replace(/\\\\+n/g, \"\\n\")\n\t\t.replace(/\\\\+\"/g, '\"')\n\t\t.replace(/\\\\+'/g, \"'\")\n\t\t.replace(/\\u0092/g, \"\")\n\t\t.replace(/\\u0091/g, \"\\\\\");\n};\n\nexport const softEval = (a, type) => {\n\ttry {\n\t\t// eslint-disable-next-line\n\t\tvar ans = Function('\"use strict\";return (' + a + \")\")();\n\t\treturn ans == null ? a : ans;\n\t} catch (e) {\n\t\tif (type === \"array\") return a.split(/\\s*,\\s*/);\n\t\treturn a;\n\t}\n};\n\n// soft eval for function without dependencies\n// this bad eval-based implementation is selected since Function.toString() doesn't work with Babel\nexport const func = (str, isObj) => {\n\tif (!isObj) return raw(str, isObj);\n\t// eslint-disable-next-line\n\treturn Function(\n\t\t'\"use strict\";var wait = (ms) => new Promise((res) => setTimeout(res, ms));return (' +\n\t\t\tstr +\n\t\t\t\")\"\n\t)();\n};\n","import _ from \"lodash\";\nimport { Input, Select } from \"formik-antd\";\nimport React, { useEffect, useState } from \"react\";\nimport { useFormikContext } from \"formik\";\nimport CascaderStatic from \"../../lib/formik/components/cascader_static\";\n\nconst wait = (ms) => new Promise((res) => setTimeout(res, ms));\n\nexport const DependentComp = (props) => {\n\tconst { values, setFieldValue } = useFormikContext();\n\tconst values2 = JSON.stringify(_.set({ ...values }, props.name, null));\n\tuseEffect(() => {\n\t\tsetFieldValue(props.name, values2, false);\n\t\t/* eslint-disable react-hooks/exhaustive-deps */\n\t}, [values2, props.name]);\n\treturn <Input disabled {...props} />;\n};\n\nDependentComp.str = `const DependentComp = (props)=>{\nconst {values,setFieldValue} = useFormikContext();\nconst values2 = JSON.stringify(_.set({ ...values }, props.name, null));\nuseEffect(()=>{\n// you can also use setFieldValue to mutate other fields\nsetFieldValue(props.name,values2,false);},[values2,props.name])\nreturn <Input disabled {...props}/>;\n}`;\n\nexport const AsyncDropdown = (props) => {\n\tconst [choices, setChoices] = useState([]);\n\tconst fetchChoices = async () => {\n\t\tawait wait(500);\n\t\treturn [\n\t\t\t{ label: \"Toyota\", value: \"a01\" },\n\t\t\t{ label: \"Hyundai\", value: \"a02\" },\n\t\t];\n\t};\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tconst data = await fetchChoices();\n\t\t\t// remap value so that value is also searchable\n\t\t\tconst data2 = data.map(({ label, value }) => ({\n\t\t\t\tlabel: label + \" \" + value,\n\t\t\t\tvalue,\n\t\t\t}));\n\t\t\tsetChoices(data2);\n\t\t})();\n\t}, []);\n\treturn (\n\t\t<Select\n\t\t\t{...props}\n\t\t\tshowSearch\n\t\t\toptionFilterProp=\"label\"\n\t\t\toptions={choices}\n\t\t\tfilterOption={(input, option) =>\n\t\t\t\toption.label.toLowerCase().indexOf(input.toLowerCase()) >= 0\n\t\t\t}\n\t\t></Select>\n\t);\n};\n\nAsyncDropdown.str = `const AsyncDropdown = (props) => {\nconst [choices, setChoices] = useState([]);\nconst fetchChoices = async () => {\nawait wait(500);\nreturn [\n{ label: \"Toyota\", value: \"a01\" },\n{ label: \"Hyundai\", value: \"a02\" },\n];\n};\nuseEffect(() => {\n(async () => {\nconst data = await fetchChoices();\n// remap value so that value is also searchable\nconst data2 = data.map(({ label, value }) => ({\nlabel: label + \" \" + value,\nvalue,\n}));\nsetChoices(data2);\n})();\n}, []);\nreturn (\n<Select\n{...props}\nshowSearch\noptionFilterProp=\"label\"\noptions={choices}\nfilterOption={(input, option) =>\noption.label.toLowerCase().indexOf(input.toLowerCase()) >= 0\n}\n></Select>\n);\n}\n`;\n\nexport const THAddress = (props) => {\n\tconst [options, setOptions] = useState([]);\n\tconst className = \"thAddress\" + props.name.replace(/[^a-z0-9]/gi, \"\");\n\n\tuseEffect(() => {\n\t\tconst listener = () => {\n\t\t\tconst selector = \".\" + className + \" .ant-cascader-menu\";\n\t\t\tconst columns = document.querySelectorAll(selector);\n\t\t\tconst length = columns.length;\n\t\t\tfor (let i = 0; i < length; i++)\n\t\t\t\tcolumns[i].classList.add(\"th-address-small\");\n\t\t\tif (length > 1)\n\t\t\t\tcolumns[length - 2].classList.remove(\"th-address-small\");\n\t\t\tif (length > 0)\n\t\t\t\tcolumns[length - 1].classList.remove(\"th-address-small\");\n\t\t};\n\t\tdocument.addEventListener(\"click\", listener);\n\t\treturn () => document.removeEventListener(\"click\", listener);\n\t}, []);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tconst data = await import(\"../../lib/assets/th_address\");\n\t\t\tsetOptions(data.default);\n\t\t})();\n\t}, []);\n\n\treturn (\n\t\t<CascaderStatic\n\t\t\t{...props}\n\t\t\tcascaderOptions={options}\n\t\t\tdropdownRender={(a) => <div className={className}>{a}</div>}\n\t\t></CascaderStatic>\n\t);\n};\n\n// WARNING string version and functional version are different\nTHAddress.str = `const THAddress = (props) => {\nconst className = \"thAddress\" + props.name.replace(/[^a-z0-9]/gi, \"\");\n//responsive dropdown for small screens\nuseEffect(() => {\nconst listener = () => {\nconst selector = \".\" + className + \" .ant-cascader-menu\";\nconst columns = document.querySelectorAll(selector);\nconst length = columns.length;\nfor (let i = 0; i < length; i++)\ncolumns[i].classList.add(\"th-address-small\");\nif (length > 1)\ncolumns[length - 2].classList.remove(\"th-address-small\");\nif (length > 0)\ncolumns[length - 1].classList.remove(\"th-address-small\");\n};\ndocument.addEventListener(\"click\", listener);\nreturn () => document.removeEventListener(\"click\", listener);\n}, []);\nreturn (\n<CascaderStatic\n{...props}\ndropdownRender={(a) => <div className={className}>{a}</div>}\n></CascaderStatic>\n);\n};\n`;\n","export const lookupLabel = (item) => {\n\tconst { _id, label, fieldType } = item;\n\tif (label) return label;\n\tswitch (fieldType) {\n\t\tcase \"common|paragraph\":\n\t\t\treturn `paragraph-${_id}`;\n\t\tcase \"format|url\":\n\t\t\treturn \"url link\";\n\t\tcase \"format|thai tel\":\n\t\t\treturn \"เบอร์โทรศัพท์\";\n\t\tcase \"format|email\":\n\t\t\treturn \"อีเมล\";\n\t\tcase \"common|password\":\n\t\t\treturn \"รหัสผ่าน\";\n\t\tcase \"format|thai zipcode\":\n\t\t\treturn \"รหัสไปรษณีย์\";\n\t\tcase \"custom component|dependent input example\":\n\t\tcase \"format|regex validation example\":\n\t\tcase \"format|custom validation example\":\n\t\t\treturn `example-${_id}`;\n\t\tcase \"format|thai citizen id\":\n\t\t\treturn \"เลขบัตรปชช\";\n\t\tcase \"checkbox\":\n\t\t\treturn `checkbox-${_id}`;\n\t\tcase \"common|number\":\n\t\t\treturn `number-${_id}`;\n\t\tcase \"common|date\":\n\t\t\treturn \"วันที่\";\n\t\tcase \"common|barcode scanner hardware\":\n\t\t\treturn \"บาร์โค้ด\";\n\t\tcase \"hierarchical dropdown|thai province\":\n\t\t\treturn \"จังหวัด/เขต/อำเภอ\";\n\t\tcase \"hierarchical dropdown|static option, allow modify\":\n\t\tcase \"hierarchical dropdown|static option, no modify\":\n\t\tcase \"hierarchical dropdown|async option\":\n\t\tcase \"custom component|async searchable dropdown\":\n\t\tcase \"dropdown\":\n\t\t\treturn `dropdown-${_id}`;\n\t\tcase \"upload|multiple images\":\n\t\tcase \"upload|firebase\":\n\t\tcase \"upload|google cloud storage\":\n\t\tcase \"upload|single file\":\n\t\t\treturn `upload-${_id}`;\n\t\tcase \"input\":\n\t\t\treturn `input-${_id}`;\n\t\tdefault:\n\t\t\treturn `label-${_id}`;\n\t}\n};\n","import { Joi } from \"../../lib\";\nimport _ from \"lodash\";\nimport { raw, softEval, func, regex, showRaw } from \"./util\";\nimport toSource from \"tosource\";\nimport { DependentComp, AsyncDropdown, THAddress } from \"./custom_component\";\nimport { lookupLabel } from \"./lookup_label\";\n\nconst makeObject = (joiList) => {\n\tvar ans = Joi;\n\tfor (var joi of joiList) ans = ans[joi.name](...(joi.args || []));\n\treturn ans;\n};\n\nconst makeString = (joiList) => {\n\tvar ans = \"Joi\";\n\tfor (var joi of joiList) {\n\t\tvar args = joi.args || [];\n\t\tans += `.${joi.name}(${args.map((a) =>\n\t\t\ttoSource(a).replace(/\\n/g, \"\")\n\t\t)})`;\n\t}\n\treturn ans;\n};\n\n// return [{funcName, args}]\nexport const makeJoiLine = (editor, settings, isObj) => {\n\tvar ans = [];\n\tvar type = \"string\";\n\tvar newFieldType = \"\";\n\tvar suffix = [];\n\tswitch (editor.fieldType) {\n\t\tcase \"common|paragraph\":\n\t\t\tnewFieldType = \"TextArea\";\n\t\t\tbreak;\n\t\tcase \"custom component|dependent input example\":\n\t\t\teditor = {\n\t\t\t\tonFieldRender: isObj\n\t\t\t\t\t? DependentComp\n\t\t\t\t\t: raw(\"DependentComp\", isObj),\n\t\t\t\t...editor,\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"custom component|async searchable dropdown\":\n\t\t\teditor = {\n\t\t\t\tonFieldRender: isObj\n\t\t\t\t\t? AsyncDropdown\n\t\t\t\t\t: raw(\"AsyncDropdown\", isObj),\n\t\t\t\t...editor,\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"hierarchical dropdown|static option, allow modify\":\n\t\t\teditor = {\n\t\t\t\t...editor,\n\t\t\t\tcascaderOptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tl: \"Hardware Business\",\n\t\t\t\t\t\tc: [{ l: \"Apple\" }, { l: \"Intel\" }],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tl: \"Software Business\",\n\t\t\t\t\t\tc: [{ l: \"Apple\" }, { l: \"Google\" }],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tnames: [editor.name + \"-0\", editor.name + \"-1\"],\n\t\t\t\tfieldNames: { label: \"l\", value: \"l\", children: \"c\" },\n\t\t\t\tcellHide: true,\n\t\t\t\tnotFound: true,\n\t\t\t};\n\t\t\ttype = \"object\";\n\t\t\tbreak;\n\t\tcase \"hierarchical dropdown|static option, no modify\":\n\t\t\teditor = {\n\t\t\t\t...editor,\n\t\t\t\tcascaderOptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tl: \"Vegetable\",\n\t\t\t\t\t\tv: \"Vegetable\",\n\t\t\t\t\t\tc: [\n\t\t\t\t\t\t\t{ l: \"Tomato (G001)\", v: \"G001\" },\n\t\t\t\t\t\t\t{ l: \"Carrot (G002)\", v: \"G002\" },\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tl: \"Fruit\",\n\t\t\t\t\t\tv: \"Fruit\",\n\t\t\t\t\t\tc: [\n\t\t\t\t\t\t\t{ l: \"Apple (G003)\", v: \"G003\" },\n\t\t\t\t\t\t\t{ l: \"Banana (G004)\", v: \"G004\" },\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tnames: editor.name + \"-0\",\n\t\t\t\tfieldNames: { label: \"l\", value: \"v\", children: \"c\" },\n\t\t\t\tcellHide: true,\n\t\t\t};\n\t\t\ttype = \"object\";\n\t\t\tbreak;\n\t\tcase \"hierarchical dropdown|thai province\":\n\t\t\teditor = {\n\t\t\t\t...editor,\n\t\t\t\tonFieldRender: isObj ? THAddress : raw(\"THAddress\", isObj),\n\t\t\t\tnames: [\n\t\t\t\t\teditor.name + \"-0\",\n\t\t\t\t\teditor.name + \"-1\",\n\t\t\t\t\teditor.name + \"-2\",\n\t\t\t\t\teditor.name + \"-3\",\n\t\t\t\t],\n\t\t\t\tfieldNames: { label: \"l\", value: \"l\", children: \"c\" },\n\t\t\t\tcellHide: true,\n\t\t\t\tnotFound: true,\n\t\t\t};\n\t\t\tif (isObj) editor.cascaderOptions = raw(\"thAddressData\", isObj);\n\t\t\ttype = \"object\";\n\t\t\tbreak;\n\t\tcase \"hierarchical dropdown|async option\":\n\t\t\teditor = {\n\t\t\t\t...editor,\n\t\t\t\tcascaderFetchData: func(\n\t\t\t\t\t`async (selected)=>{\nawait wait(500);\nif(!selected.length) return [{l:\"Hardware Business\",isLeaf:false},{l:\"Software Business\",isLeaf:false}];\nif(selected[0] === 'Hardware Business') return [{l:\"Apple\"},{l:\"Intel\"}];\nif(selected[0] === 'Software Business') return [{l:\"Apple\"},{l:\"Google\"}];\n}`,\n\t\t\t\t\tisObj\n\t\t\t\t),\n\t\t\t\tfieldNames: { label: \"l\", value: \"l\", children: \"c\" },\n\t\t\t};\n\t\t\ttype = \"array\";\n\t\t\tbreak;\n\t\tcase \"format|url\":\n\t\t\tnewFieldType = \"InputURL\";\n\t\t\tbreak;\n\t\tcase \"format|thai tel\":\n\t\t\tnewFieldType = \"InputPhone\";\n\t\t\tbreak;\n\t\tcase \"format|email\":\n\t\t\tnewFieldType = \"InputEmail\";\n\t\t\tbreak;\n\t\tcase \"common|password\":\n\t\t\teditor = { ...editor, cellHide: true };\n\t\t\tnewFieldType = \"InputPassword\";\n\t\t\tbreak;\n\t\tcase \"format|thai zipcode\":\n\t\t\teditor = { placeholder: \"เช่น 10210\", ...editor };\n\t\t\tsuffix.push({ name: \"pattern\", args: [regex(/^\\d{5}$/, isObj)] });\n\t\t\tsuffix.push({ name: \"message\", args: [\"รหัสไปรษณีย์ไม่ถูกต้อง\"] });\n\t\t\tbreak;\n\t\tcase \"format|regex validation example\":\n\t\t\tsuffix.push({\n\t\t\t\tname: \"pattern\",\n\t\t\t\targs: [regex(/^changeme$/, isObj)],\n\t\t\t});\n\t\t\tsuffix.push({ name: \"message\", args: [\"changeme error\"] });\n\t\t\tbreak;\n\t\tcase \"format|custom validation example\":\n\t\t\tsuffix.push({\n\t\t\t\tname: \"custom\",\n\t\t\t\targs: [\n\t\t\t\t\tfunc(\n\t\t\t\t\t\t`(a)=>{if (!/^changeme$/.test(a)) throw new Error(\"changeme error\");return a;}`,\n\t\t\t\t\t\tisObj\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t});\n\t\t\tbreak;\n\t\tcase \"format|thai citizen id\":\n\t\t\teditor = { placeholder: \"เช่น 0139499973311\", ...editor };\n\t\t\tsuffix.push({\n\t\t\t\tname: \"custom\",\n\t\t\t\targs: [\n\t\t\t\t\tfunc(\n\t\t\t\t\t\t`(id)=>{\nif (!/^\\u0091d{13}$/.test(id)) throw new Error(\"เลขประชาชนต้องเป็นเลข 13 หลัก\");\nvar digits = [];\nfor(var i = 0; i < 13; i++) digits.push(parseInt(id[i]));\nvar checksum = 0;\nfor(var j = 0; j < 12; i++) checksum += (13 - j) * digits[j];\nvar digit13 = checksum % 11;\ndigit13 = digit13 > 1 ? 11 - digit13 : 1 - digit13;\nif (digit13 !== digits[12]) throw new Error(\"เลขประชาชนไม่ถูกต้อง\");\nreturn id;}`,\n\t\t\t\t\t\tisObj\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t});\n\t\t\tbreak;\n\t\tcase \"checkbox\":\n\t\t\ttype = \"boolean\";\n\t\t\tbreak;\n\t\tcase \"common|number\":\n\t\t\ttype = \"number\";\n\t\t\tbreak;\n\t\tcase \"common|date\":\n\t\t\ttype = \"date\";\n\t\t\tbreak;\n\t\tcase \"common|barcode scanner hardware\":\n\t\t\ttype = \"array\";\n\t\t\tsuffix.push({ name: \"min\", args: [1] });\n\t\t\teditor = {\n\t\t\t\t...editor,\n\t\t\t\tcontainerStyle: { marginBottom: 30 },\n\t\t\t\tloadBarcodeName: func(\n\t\t\t\t\t'async (a) => {await wait(500); if (a === \"a001\") return \"iPhone\";}',\n\t\t\t\t\tisObj\n\t\t\t\t),\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"dropdown\":\n\t\t\tsuffix.push({\n\t\t\t\tname: \"valid\",\n\t\t\t\targs: [\"pizza\", \"steak\", \"sushi\", \"hamburger\", \"noodles\"],\n\t\t\t});\n\t\t\teditor = {\n\t\t\t\t...editor,\n\t\t\t\tvalidLabel: [\"Pizza\", \"Steak\", \"Sushi\", \"Hamburger\", \"Noodles\"],\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"upload|multiple images\":\n\t\t\teditor = {\n\t\t\t\t...editor,\n\t\t\t\tmultiple: true,\n\t\t\t\tuploadFile: func(\n\t\t\t\t\t'async (fileObj) => {await wait(500); return \"https://www.gravatar.com/avatar/1\"}',\n\t\t\t\t\tisObj\n\t\t\t\t),\n\t\t\t\tuploadFileType: \"image\",\n\t\t\t\taccept: \".png,.jpeg,.jpg,.gif\",\n\t\t\t};\n\t\t\ttype = \"array\";\n\t\t\tbreak;\n\t\tcase \"upload|firebase\":\n\t\t\teditor = {\n\t\t\t\t...editor,\n\t\t\t\tmultiple: true,\n\t\t\t\tuploadFile: func(\n\t\t\t\t\t`async (file) => {\n// const path = 'images/' + nanoid();\n// const storageRef = ref(getFirebase(), path);\n// await uploadBytes(storageRef, file);\n// return await getDownloadURL(storageRef);\nawait wait(500);\nreturn \"https://www.gravatar.com/avatar/1\"}`,\n\t\t\t\t\tisObj\n\t\t\t\t),\n\t\t\t\tuploadFileInit: func(\n\t\t\t\t\t`() => {\n//getFirebase();\n}`,\n\t\t\t\t\tisObj\n\t\t\t\t),\n\t\t\t\tuploadFileType: \"image\",\n\t\t\t\taccept: \".png,.jpeg,.jpg,.gif\",\n\t\t\t};\n\t\t\ttype = \"array\";\n\t\t\tbreak;\n\t\tcase \"upload|google cloud storage\":\n\t\t\teditor = {\n\t\t\t\t...editor,\n\t\t\t\tmultiple: true,\n\t\t\t\tuploadFile: func(\n\t\t\t\t\t`async (file) => {\n// https://cloud.google.com/storage/docs/samples/storage-generate-signed-url-v4\n// var serverUrl = 'https://www.example.com/get-upload-url?filename=';\n// var url = await axios.get(serverUrl + encodeURIComponent(file.name));\n// await axios.put(url, file, {headers: { \"Content-Type\": file.type }});\n// return url;\nawait wait(500);\nreturn \"https://www.gravatar.com/avatar/1\"}`,\n\t\t\t\t\tisObj\n\t\t\t\t),\n\t\t\t\tuploadFileType: \"image\",\n\t\t\t\taccept: \".png,.jpeg,.jpg,.gif\",\n\t\t\t};\n\t\t\ttype = \"array\";\n\t\t\tbreak;\n\t\tcase \"upload|single file\":\n\t\t\teditor = {\n\t\t\t\t...editor,\n\t\t\t\tmultiple: false,\n\t\t\t\tuploadFile: func(\n\t\t\t\t\t'async (fileObj) => {await wait(500); return \"https://www.gravatar.com/avatar/1\"}',\n\t\t\t\t\tisObj\n\t\t\t\t),\n\t\t\t\tuploadFileType: \"file\",\n\t\t\t\taccept: \".pdf\",\n\t\t\t};\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\tans.push({ name: type }, { name: \"label\", args: [lookupLabel(editor)] });\n\n\tif (editor.require) ans.push({ name: \"required\" });\n\tif (editor.defaultValue)\n\t\tans.push({\n\t\t\tname: \"default\",\n\t\t\targs: [softEval(editor.defaultValue, type)],\n\t\t});\n\tans = ans.concat(suffix);\n\n\tvar meta = _.omit(editor, [\n\t\t\"require\",\n\t\t\"defaultValue\",\n\t\t\"label\",\n\t\t\"fieldType\",\n\t\t\"_fieldType\",\n\t\t\"extraMargin\",\n\t\t\"name\",\n\t\t\"columnWidth\",\n\t\t\"_id\",\n\t\t\"conditional\",\n\t]);\n\tif (editor.extraMargin)\n\t\tmeta.containerStyle = _.assign(meta.containerStyle, {\n\t\t\tmarginBottom: 20,\n\t\t});\n\tif (editor.columnWidth) meta.cellWidth = editor.columnWidth;\n\tif (newFieldType) meta.fieldType = newFieldType;\n\tif (!meta.placeholder) delete meta.placeholder;\n\tif (editor.conditional) {\n\t\tif (!editor.fieldHide)\n\t\t\tmeta.fieldHide = func(\n\t\t\t\t`(a)=>a[\"${editor.conditional[0]}\"]!==\"${editor.conditional[1]}\"`,\n\t\t\t\tisObj\n\t\t\t);\n\t\telse if (isObj) {\n\t\t\tconst original = meta.fieldHide;\n\t\t\tmeta.fieldHide = (a) =>\n\t\t\t\toriginal(a) ||\n\t\t\t\ta[editor.conditional[0]] !== editor.conditional[1];\n\t\t} else {\n\t\t\tmeta.fieldHide = func(\n\t\t\t\tshowRaw(meta.fieldHide, isObj) +\n\t\t\t\t\t`||(a[\"${editor.conditional[0]}\"]!==\"${editor.conditional[1]}\")`,\n\t\t\t\tisObj\n\t\t\t);\n\t\t}\n\t}\n\tif (settings.steps) meta.step = meta.step || 0;\n\telse delete meta.step;\n\n\tif (_.size(meta))\n\t\tans.push({\n\t\t\tname: \"meta\",\n\t\t\targs: [isObj ? meta : raw(JSON.stringify(meta))],\n\t\t});\n\n\tif (isObj) return makeObject(ans);\n\treturn makeString(ans);\n};\n\nexport const makeExtraJoiLines = (editor, settings, isObj) => {\n\tif (!/^hierarchical dropdown|/.test(editor.fieldType)) return [];\n\n\tconst { name, fieldType } = editor;\n\tconst extend = _.pick(editor, [\n\t\t\"require\",\n\t\t\"step\",\n\t\t\"columnWidth\",\n\t\t\"disableSorting\",\n\t\t\"disableFilter\",\n\t\t\"conditional\",\n\t]);\n\tconst obj = {\n\t\t...extend,\n\t\tfieldHide: !isObj\n\t\t\t? raw(`a=>(a['${name}']?!a['${name}'].$notFound:true)`, isObj)\n\t\t\t: (a) => (a[name] ? !a[name].$notFound : true),\n\t\ttwoColumn: true,\n\t};\n\n\tswitch (fieldType) {\n\t\tcase \"hierarchical dropdown|static option, allow modify\":\n\t\t\treturn [\n\t\t\t\tmakeJoiLine({ ...obj, label: \"category\" }, settings, isObj),\n\t\t\t\tmakeJoiLine({ ...obj, label: \"brand\" }, settings, isObj),\n\t\t\t];\n\t\tcase \"hierarchical dropdown|static option, no modify\":\n\t\t\treturn [\n\t\t\t\tmakeJoiLine({ ...obj, label: \"product code\" }, settings, isObj),\n\t\t\t];\n\t\tcase \"hierarchical dropdown|thai province\":\n\t\t\treturn [\n\t\t\t\tmakeJoiLine(\n\t\t\t\t\t{\n\t\t\t\t\t\t...obj,\n\t\t\t\t\t\tlabel: \"จังหวัด\",\n\t\t\t\t\t\tplaceholder: \"เช่น กรุงเทพมหานคร\",\n\t\t\t\t\t},\n\t\t\t\t\tsettings,\n\t\t\t\t\tisObj\n\t\t\t\t),\n\t\t\t\tmakeJoiLine(\n\t\t\t\t\t{ ...obj, label: \"เขต/อำเภอ\", placeholder: \"เช่น จตุจักร\" },\n\t\t\t\t\tsettings,\n\t\t\t\t\tisObj\n\t\t\t\t),\n\t\t\t\tmakeJoiLine(\n\t\t\t\t\t{ ...obj, label: \"แขวง/ตำบล\", placeholder: \"เช่น จตุจักร\" },\n\t\t\t\t\tsettings,\n\t\t\t\t\tisObj\n\t\t\t\t),\n\t\t\t\tmakeJoiLine(\n\t\t\t\t\t{\n\t\t\t\t\t\t...obj,\n\t\t\t\t\t\tlabel: \"รหัสไปรษณีย์\",\n\t\t\t\t\t\tfieldType: \"format|thai zipcode\",\n\t\t\t\t\t},\n\t\t\t\t\tsettings,\n\t\t\t\t\tisObj\n\t\t\t\t),\n\t\t\t];\n\t\tdefault:\n\t\t\treturn [];\n\t}\n};\n","import { Chance } from \"../../lib\";\nimport _ from \"lodash\";\nimport { raw, showRaw } from \"./util\";\nimport toSource from \"tosource\";\n\nvar chance = null;\nconst getChance = (seed) => {\n\tif (seed) return new Chance(seed);\n\tif (!chance) chance = new Chance(Math.random());\n\treturn chance;\n};\n\nexport const genChanceString = (editors, count) => {\n\tvar ans = {};\n\tfor (var editor of editors) {\n\t\tvar spec = editorToChance(editor);\n\t\tvar specObj = {};\n\t\tif (Array.isArray(spec))\n\t\t\tfor (var j = 0, jj = spec.length; j < jj; j++)\n\t\t\t\tspecObj[editor.name + \"-\" + j] = spec[j];\n\t\telse specObj[editor.name] = spec;\n\n\t\tfor (var key in specObj) {\n\t\t\tvar { name, args } = specObj[key];\n\t\t\targs = args\n\t\t\t\t? toSource(args)\n\t\t\t\t\t\t.replace(/^\\[\\s*/, \"\")\n\t\t\t\t\t\t.replace(/\\s*\\]$/, \"\")\n\t\t\t\t: \"\";\n\t\t\t_.set(ans, key, raw(`chance.${name}(${args})`));\n\t\t}\n\t}\n\treturn `()=>{const ans=[]; for(let i=0;i<${count};i++)ans.push(${showRaw(\n\t\tJSON.stringify(ans)\n\t)}); return ans;}`;\n};\n\nexport const randomData = (editors, count, seed) => {\n\tvar ans = [];\n\tvar newRandom;\n\tvar chance = getChance(seed);\n\tfor (var i = 0; i < count; i++) {\n\t\tvar newValue = {};\n\t\tfor (var editor of editors) {\n\t\t\tvar spec = editorToChance(editor);\n\t\t\tvar specObj = {};\n\t\t\tif (Array.isArray(spec))\n\t\t\t\tfor (var j = 0, jj = spec.length; j < jj; j++)\n\t\t\t\t\tspecObj[editor.name + \"-\" + j] = spec[j];\n\t\t\telse specObj[editor.name] = spec;\n\n\t\t\tfor (var key in specObj) {\n\t\t\t\tvar { name, args } = specObj[key];\n\t\t\t\tnewRandom = chance[name].apply(chance, args || []);\n\t\t\t\t_.set(newValue, key, newRandom);\n\t\t\t}\n\t\t}\n\t\tans.push(newValue);\n\t}\n\treturn ans;\n};\n\nconst editorToChance = (editor) => {\n\tswitch (editor.fieldType) {\n\t\tcase \"hierarchical dropdown|static option, allow modify\":\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tname: \"pickone\",\n\t\t\t\t\targs: [[\"Hardware Business\", \"Software Business\"]],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"pickone\",\n\t\t\t\t\targs: [[\"Apple\"]],\n\t\t\t\t},\n\t\t\t];\n\t\tcase \"hierarchical dropdown|static option, no modify\":\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tname: \"pickone\",\n\t\t\t\t\targs: [[\"G001\", \"G002\", \"G003\", \"G004\"]],\n\t\t\t\t},\n\t\t\t];\n\t\tcase \"hierarchical dropdown|async option\":\n\t\t\treturn {\n\t\t\t\tname: \"pickone\",\n\t\t\t\targs: [\n\t\t\t\t\t[\n\t\t\t\t\t\t[\"Hardware Business\", \"Intel\"],\n\t\t\t\t\t\t[\"Software Business\", \"Google\"],\n\t\t\t\t\t],\n\t\t\t\t],\n\t\t\t};\n\t\tcase \"hierarchical dropdown|thai province\":\n\t\t\treturn [\n\t\t\t\t{ name: \"pickone\", args: [[\"กรุงเทพมหานคร\"]] },\n\t\t\t\t{ name: \"pickone\", args: [[\"จตุจักร\"]] },\n\t\t\t\t{ name: \"pickone\", args: [[\"จตุจักร\"]] },\n\t\t\t\t{ name: \"pickone\", args: [[\"10900\"]] },\n\t\t\t];\n\t\tcase \"format|url\":\n\t\tcase \"upload|single file\":\n\t\t\treturn { name: \"avatar\", args: [{ protocol: \"https\" }] };\n\t\tcase \"upload|multiple images\":\n\t\tcase \"upload|firebase\":\n\t\tcase \"upload|google cloud storage\":\n\t\t\treturn {\n\t\t\t\tname: \"pickone\",\n\t\t\t\targs: [\n\t\t\t\t\t[\n\t\t\t\t\t\t\"https://www.gravatar.com/avatar/407cedb085e93b2253656ce07a52a898\",\n\t\t\t\t\t],\n\t\t\t\t],\n\t\t\t};\n\t\tcase \"format|regex validation example\":\n\t\tcase \"format|custom validation example\":\n\t\t\treturn { name: \"pickone\", args: [[\"changeme\"]] };\n\t\tcase \"format|thai tel\":\n\t\t\treturn { name: \"pickone\", args: [[\"0812345678\", \"021111111\"]] };\n\t\tcase \"format|email\":\n\t\t\treturn { name: \"email\" };\n\t\tcase \"format|thai zipcode\":\n\t\t\treturn { name: \"pickone\", args: [[\"10210\", \"10400\"]] };\n\t\tcase \"format|thai citizen id\":\n\t\t\treturn {\n\t\t\t\tname: \"pickone\",\n\t\t\t\targs: [[\"0139499973311\", \"0547041689552\"]],\n\t\t\t};\n\t\tcase \"checkbox\":\n\t\t\treturn { name: \"bool\" };\n\t\tcase \"dropdown\":\n\t\t\treturn {\n\t\t\t\tname: \"pickone\",\n\t\t\t\targs: [[\"pizza\", \"steak\", \"sushi\", \"hamburger\", \"noodles\"]],\n\t\t\t};\n\t\tcase \"common|number\":\n\t\t\treturn { name: \"natural\", args: [{ max: 30 }] };\n\t\tcase \"common|date\":\n\t\t\treturn { name: \"date\", args: [] };\n\t\tcase \"common|barcode scanner hardware\":\n\t\t\treturn { name: \"pickone\", args: [[[\"a001\"], [\"a002\"]]] };\n\t\tcase \"common|paragraph\":\n\t\t\treturn { name: \"paragraph\" };\n\t\tcase \"common|password\":\n\t\t\treturn { name: \"pickone\", args: [[null]] };\n\t\tcase \"custom component|dependent input example\":\n\t\t\treturn { name: \"pickone\", args: [[\"{}\"]] };\n\t\tcase \"custom component|async searchable dropdown\":\n\t\t\treturn { name: \"pickone\", args: [[\"a01\", \"a02\"]] };\n\t\tdefault:\n\t\t\treturn { name: \"word\" };\n\t}\n};\n","import _ from \"lodash\";\nimport prettier from \"prettier/standalone\";\nimport parserBabel from \"prettier/parser-babel\";\nimport { makeJoiLine, makeExtraJoiLines } from \"./joi_line\";\nimport { raw, showRaw, func } from \"./util\";\nimport { randomData, genChanceString } from \"./chance\";\nimport { DependentComp, AsyncDropdown, THAddress } from \"./custom_component\";\nimport { SmileOutlined } from \"@ant-design/icons\";\nimport React from \"react\";\n\nconst wait = (ms) => new Promise((res) => setTimeout(res, ms));\n\nconst traverse = (node) => {\n\tif (typeof node === \"string\") return node;\n\n\tvar ans = {};\n\tfor (var key in node) ans[key] = raw(traverse(node[key]));\n\treturn raw(`Joi.object(${JSON.stringify(ans, null, 1)})`);\n};\n\nexport const renderJoi = (editors, settings, isComp) => {\n\tvar ans = {};\n\tfor (var editor of editors) {\n\t\t_.set(ans, editor.name, makeJoiLine(editor, settings));\n\t\tvar extraJoiLines = makeExtraJoiLines(editor, settings);\n\t\tfor (var i = 0, ii = extraJoiLines.length; i < ii; i++)\n\t\t\t_.set(ans, editor.name + \"-\" + i, extraJoiLines[i]);\n\t}\n\treturn showRaw(traverse(ans));\n};\n\nexport const renderProps = (editors, settings, isComp) => {\n\tconst { canCreate, canUpdate, canDelete, querySchema, devMode } = settings;\n\tconst { rowButtonExample, title } = settings;\n\n\t// required\n\tvar ans = { title: title || \"{tableName}\" };\n\n\tif (isComp) {\n\t\tans.getMany = raw(async () => {\n\t\t\tawait wait(500);\n\t\t\treturn randomData(editors, 3);\n\t\t}, isComp);\n\t} else {\n\t\tans.schema = raw(\"schema\", false);\n\t\tif (querySchema) {\n\t\t\tans.querySchema = raw(renderJoi(querySchema, {}));\n\t\t\tans.getMany = raw(\n\t\t\t\t\"async (tableQuery)=>{await wait(500);return mockData();}\"\n\t\t\t);\n\t\t} else\n\t\t\tans.getMany = raw(\"async ()=>{await wait(500);return mockData();}\");\n\t}\n\n\tif (canCreate)\n\t\tans.createMany = func(\"async (a)=>{await wait(500);return a;}\", isComp);\n\tif (canDelete)\n\t\tans.deleteMany = func(\"async ()=>{await wait(500);}\", isComp);\n\tif (canUpdate) ans.updateOne = func(\"async ()=>{await wait(500);}\", isComp);\n\tif (rowButtonExample) {\n\t\tans.rowButtons = [\n\t\t\t{\n\t\t\t\tlabel: \"hello\",\n\t\t\t\ticon: isComp ? (\n\t\t\t\t\t<SmileOutlined />\n\t\t\t\t) : (\n\t\t\t\t\traw(\"<SmileOutlined />\", isComp)\n\t\t\t\t),\n\t\t\t\tonClick: func(\n\t\t\t\t\t`(rowData, updateData)=>{\nalert(JSON.stringify(rowData));\n// updateData(newRowData);\n}`,\n\t\t\t\t\tisComp\n\t\t\t\t),\n\t\t\t},\n\t\t];\n\t}\n\n\t// literal\n\tvar extras = _.pick(settings, [\n\t\t\"disableExcelDownload\",\n\t\t\"disableExcelUpload\",\n\t\t\"uploadPreviewUrl\",\n\t\t\"description\",\n\t\t\"steps\",\n\t]);\n\t_.assign(ans, extras);\n\tans.devMode = devMode || false;\n\tif (ans.steps) ans.steps = ans.steps.split(/\\s*,\\s*/);\n\n\tif (isComp) return ans;\n\treturn showRaw(JSON.stringify(ans, null, 1));\n};\n\nexport const format = (a, isJson) => {\n\tif (isJson) a = \"(\" + a + \")\";\n\treturn prettier.format(a, { parser: \"babel\", plugins: [parserBabel] });\n};\n\nexport const renderImport = (editors, settings) => {\n\tconst ans = new Set();\n\tconst reactImport = new Set();\n\tconst formikAntdImport = new Set();\n\n\tfor (var { fieldType } of editors) {\n\t\tif (fieldType === \"upload|google cloud storage\")\n\t\t\tans.add(\"import axios from 'axios';\");\n\t\telse if (fieldType === \"upload|firebase\") {\n\t\t\tans.add(\"import { initializeApp } from 'firebase/app';\");\n\t\t\tans.add(\n\t\t\t\t\"import { getStorage, ref, uploadBytes, getDownloadURL } from 'firebase/storage';\"\n\t\t\t);\n\t\t\tans.add(\"import { nanoid } from 'nanoid';\");\n\t\t} else if (fieldType === \"custom component|dependent input example\") {\n\t\t\tans.add(\"import {useFormikContext} from 'formik';\");\n\t\t\tans.add(\"import _ from 'lodash';\");\n\t\t\tformikAntdImport.add(\"Input\");\n\t\t\treactImport.add(\"useEffect\");\n\t\t} else if (fieldType === \"custom component|async searchable dropdown\") {\n\t\t\treactImport.add(\"useEffect\");\n\t\t\treactImport.add(\"useState\");\n\t\t\tformikAntdImport.add(\"Select\");\n\t\t} else if (fieldType === \"hierarchical dropdown|thai province\") {\n\t\t\tans.add(\n\t\t\t\t'import CascaderStatic from \"joi-auto-admin/dist/formik/components/cascader_static\";'\n\t\t\t);\n\t\t\tans.add(\n\t\t\t\t'import thAddressData from \"joi-auto-admin/dist/assets/th_address\";'\n\t\t\t);\n\t\t\treactImport.add(\"useEffect\");\n\t\t}\n\t}\n\n\tif (settings.rowButtonExample)\n\t\tans.add('import { SmileOutlined } from \"@ant-design/icons\";');\n\n\tconst reactString = reactImport.size\n\t\t? \",{\" + [...reactImport].join(\",\") + \"}\"\n\t\t: \"\";\n\tans.add(`import React${reactString} from 'react';`);\n\n\tif (formikAntdImport.size)\n\t\tans.add(\n\t\t\t`import {${[...formikAntdImport].join(\",\")}} from 'formik-antd';`\n\t\t);\n\treturn [...ans].join(\"\\n\");\n};\n\nexport const renderFunction = (editors) => {\n\tconst ans = new Set();\n\tfor (var { fieldType } of editors) {\n\t\tif (fieldType === \"upload|firebase\")\n\t\t\tans.add(`\\nlet storage = null;\nconst getFirebase = () => {\nif (!storage) storage = getStorage(initializeApp({\napiKey: \"\",\nauthDomain: \"\",\nprojectId: \"\",\nstorageBucket: \"\",\nmessagingSenderId: \"\",\nappId: \"\",\nmeasurementId: \"\",\n}));\nreturn storage;\n};`);\n\t\telse if (fieldType === \"custom component|dependent input example\")\n\t\t\tans.add(\"\\n\" + DependentComp.str);\n\t\telse if (fieldType === \"custom component|async searchable dropdown\")\n\t\t\tans.add(\"\\n\" + AsyncDropdown.str);\n\t\telse if (fieldType === \"hierarchical dropdown|thai province\")\n\t\t\tans.add(\"\\n\" + THAddress.str);\n\t}\n\tif (!ans.size) return \"\";\n\treturn \"\\n\" + [...ans].join(\"\\n\");\n};\n\nexport const renderTemplate = (editors, settings) => {\n\treturn format(`import { Joi, AutoAdmin, Chance } from 'joi_auto_admin';\n${renderImport(editors, settings)}\n\nconst wait = (ms) => new Promise((res) => setTimeout(res, ms));\nconst chance = new Chance(0);${renderFunction(editors)}\n\nconst schema = ${renderJoi(editors, settings)};\n\nconst mockData = ${genChanceString(editors, 3)};\n\nconst App = ()=>{\n\tconst props = ${renderProps(editors, settings)};\n\treturn <AutoAdmin {...props} />\n}\n\nexport default App;\n`);\n};\n","import { Joi, AutoAdmin } from \"../../lib\";\nimport React from \"react\";\nimport { useMemo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { renderProps, renderTemplate } from \"./template\";\nimport { makeJoiLine, makeExtraJoiLines } from \"./joi_line\";\nimport _ from \"lodash\";\nimport { Spin } from \"antd\";\n\nconst editorSchemaInner = Joi.object({\n\t_id: Joi.string().required(),\n\tname: Joi.string().required().min(1),\n\tlabel: Joi.string(),\n\tfieldType: Joi.string()\n\t\t.required()\n\t\t.valid(\n\t\t\t\"dropdown\",\n\t\t\t\"upload|single file\",\n\t\t\t\"upload|multiple images\",\n\t\t\t\"upload|firebase\",\n\t\t\t\"upload|google cloud storage\",\n\t\t\t\"input\",\n\t\t\t\"format|url\",\n\t\t\t\"format|thai tel\",\n\t\t\t\"format|email\",\n\t\t\t\"format|thai zipcode\",\n\t\t\t\"format|thai citizen id\",\n\t\t\t\"format|regex validation example\",\n\t\t\t\"format|custom validation example\",\n\t\t\t\"custom component|dependent input example\",\n\t\t\t\"custom component|async searchable dropdown\",\n\t\t\t\"hierarchical dropdown|thai province\",\n\t\t\t\"hierarchical dropdown|static option, allow modify\",\n\t\t\t\"hierarchical dropdown|static option, no modify\",\n\t\t\t\"hierarchical dropdown|async option\",\n\t\t\t\"checkbox\",\n\t\t\t\"common|number\",\n\t\t\t\"common|date\",\n\t\t\t\"common|paragraph\",\n\t\t\t\"common|password\",\n\t\t\t\"common|barcode scanner hardware\"\n\t\t),\n\t_fieldType: Joi.any(),\n\tstep: Joi.number(),\n\tplaceholder: Joi.string(),\n\tdefaultValue: Joi.string(),\n\trequire: Joi.boolean(),\n\tdisabled: Joi.boolean(),\n\ttwoColumn: Joi.boolean(),\n\textraMargin: Joi.boolean(),\n\tcolumnWidth: Joi.number(),\n\tcolumnHide: Joi.boolean(),\n\tdisableSorting: Joi.boolean(),\n\tdisableFilter: Joi.boolean(),\n\tappendDivider: Joi.boolean(),\n\tconditional: Joi.array(),\n});\n\nconst editorSchema1 = Joi.array()\n\t.items(editorSchemaInner, Joi.any().strip())\n\t.unique(\"name\");\nconst editorSchema2 = Joi.array().items(editorSchemaInner).unique(\"name\");\n\nconst settingsSchema = Joi.object({\n\ttitle: Joi.string(),\n\tdescription: Joi.string(),\n\tcanCreate: Joi.boolean(),\n\tcanUpdate: Joi.boolean(),\n\tcanDelete: Joi.boolean(),\n\tquerySchema: editorSchema1,\n\tdisableExcelDownload: Joi.boolean(),\n\tdisableExcelUpload: Joi.boolean(),\n\tuploadPreviewUrl: Joi.string(),\n\trowButtonExample: Joi.boolean(),\n\tsteps: Joi.string(),\n});\n\nexport const editorToCode = (editors, settings) => {\n\tvar editors2 = editorSchema1.validate(editors);\n\tvar settings2 = settingsSchema.validate(settings);\n\treturn renderTemplate(editors2.value, settings2.value);\n};\n\nexport const validateEditor = (editors) => editorSchema2.validate(editors);\n\nconst traverse = (node) => {\n\tif (Joi.isSchema(node)) return node;\n\tvar ans = {};\n\tfor (var key in node) ans[key] = traverse(node[key]);\n\treturn Joi.object(ans);\n};\n\nexport const makeJoiObj = (editors, settings) => {\n\tvar ans = {};\n\tfor (var editor of editors) {\n\t\t_.set(ans, editor.name, makeJoiLine(editor, settings, true));\n\t\tvar extraJoiLines = makeExtraJoiLines(editor, settings, true);\n\t\tfor (var i = 0, ii = extraJoiLines.length; i < ii; i++)\n\t\t\t_.set(ans, editor.name + \"-\" + i, extraJoiLines[i]);\n\t}\n\treturn traverse(ans);\n};\n\nexport const App = (props) => {\n\tconst { editors, settings } = props;\n\n\tconst props2 = useMemo(() => {\n\t\tif (!settings) return null;\n\n\t\tconst ans = renderProps(editors, settings, true);\n\t\tans.schema = makeJoiObj(editors, settings);\n\t\tif (settings.querySchema)\n\t\t\tans.querySchema = makeJoiObj(settings.querySchema, {});\n\t\treturn ans;\n\t}, [editors, settings]);\n\n\tif (!editors.length) return \"กรุณาสร้างข้อมูลด้านซ้าย\";\n\tif (!settings)\n\t\treturn (\n\t\t\t<center>\n\t\t\t\t<Spin />\n\t\t\t</center>\n\t\t);\n\treturn <AutoAdmin {...props2} />;\n};\nApp.propTypes = {\n\teditors: PropTypes.array.isRequired,\n\tsettings: PropTypes.object,\n};\nApp.defaultProps = {\n\tsettings: null,\n};\n","import _ from \"lodash\";\nimport { validateEditor } from \"../../logic\";\n\nconst OMIT_SETTING = [\"step\"];\n\nconst findStep = (steps, target) => {\n  const stepValue = steps.findIndex((item) => item.value === target);\n  if (stepValue < 0) {\n    return 0;\n  }\n  return stepValue;\n};\n\nconst cleanDefault = (row) => {\n  if (!row) {\n    return row;\n  }\n  for (const [key, value] of Object.entries(row)) {\n    if (value || value === 0) {\n      row[key] = value;\n    } else {\n      delete row[key];\n    }\n  }\n  return row;\n};\n\nconst cleanColWidth = (colWidth) => {\n  try {\n    return parseInt(colWidth, 10);\n  } catch (error) {\n    return \"\";\n  }\n};\n\nexport const cleanTableSettingBeforeTrans = (setting) => {\n  if (!setting) {\n    return setting;\n  }\n  const newSetting = { ...setting };\n  const omitSetting = [...OMIT_SETTING];\n  if (_.get(newSetting.steps, \"[0]\")) {\n    newSetting.steps = newSetting.steps\n      .map((item, index) => item.value || `label step ${index + 1}`)\n      .join(\",\");\n  }\n  if (!newSetting.steps || !_.get(newSetting.steps, \"[0]\")) {\n    omitSetting.push(\"steps\");\n  }\n  if (!newSetting.querySchema?.query) {\n    omitSetting.push(\"querySchema\");\n  }\n  if (newSetting.querySchema?.query) {\n    const schema = [...newSetting.querySchema.schema];\n    newSetting.querySchema = schema;\n  }\n  return _.omit(newSetting, omitSetting);\n};\n\nexport const cleanFormBeforeTrans = (editor, settingSteps) => {\n  if (!Array.isArray(editor) || !Array.isArray(settingSteps)) {\n    return editor;\n  }\n  const schema = editor.map((item, index) => {\n    let row = { ...item };\n    row.step = findStep(settingSteps, item.step);\n    if (!item.name) {\n      row.name = `name-${index}`;\n    }\n    if (item.columnWidth) {\n      row.columnWidth = cleanColWidth(item.columnWidth);\n    }\n    return cleanDefault(row);\n  });\n  return schema;\n};\n\nexport const validateSchema = (editor) => {\n  const validateSchema = validateEditor(editor);\n  const error = _.get(validateSchema, \"error.details\");\n  if (!_.get(error, \"[0].message\")) {\n    return [true, \"\"];\n  }\n  const message = error.map((item) => {\n    return `- ${item.message}\\n`;\n  });\n  return [false, message.join(\" \")];\n};\n\nexport const handleCfLines = (editors, settings) => {\n  if (!settings?.cfLine?.length) return editors;\n  var ans = _.cloneDeep(editors);\n  var editorKey = _.keyBy(ans, \"_id\");\n  for (var line of settings.cfLine) {\n    var field = editorKey[line.field];\n    var dropdown = editorKey[line.dropdown];\n    if (field && dropdown) field.conditional = [dropdown.name, line.equal];\n  }\n  return ans;\n};\n","import React, { useMemo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport RenderCodeBlocks from \"./code-blocks\";\nimport { MENU } from \"../constants\";\nimport { App as TransView } from \"../../../logic\";\nimport { renderTemplate } from \"../../../logic/template\";\nimport { handleCfLines } from \"../logic\";\n\nconst RightPanelView = (props) => {\n  const { view, editors, settings } = props;\n  const editors2 = useMemo(() => handleCfLines(editors, settings), [\n    editors,\n    settings,\n  ]);\n\n  if (view === MENU.code) {\n    const codeText = renderTemplate(editors2, settings);\n    return <RenderCodeBlocks text={codeText} />;\n  }\n\n  return <TransView editors={editors2} settings={settings} />;\n};\n\nRightPanelView.propTypes = {\n  view: PropTypes.oneOf([MENU.ui, MENU.code]),\n  editors: PropTypes.array,\n  settings: PropTypes.object,\n};\n\nRightPanelView.defaultProps = {\n  view: MENU.ui,\n};\n\nexport default RightPanelView;\n","import _ from \"lodash\";\n\nconst generateId = () => {\n  return Math.floor(Math.random() * 90000) + 10000 + \"\";\n};\n\nexport const getInitRowField = () => {\n  const initRows = [{ ...rowField }, { ...rowField }, { ...rowField }];\n  return initRows.map((item) => {\n    const _id = generateId();\n    return { ...item, _id, name: `name-${_id}` };\n  });\n};\n\nexport const getSingleRow = (stepOptions) => {\n  const _id = generateId();\n  const row = { ...rowField, _id, name: `name-${_id}` };\n  if (_.get(stepOptions, \"[0]\")) row.step = _.get(stepOptions, \"[0].value\");\n  return row;\n};\n\nexport const getInitRowQuerySchema = () => {\n  const initRows = [{ ...rowQuerySchema }];\n  return initRows.map((item) => {\n    const _id = generateId();\n    return { ...item, _id, name: `name-${_id}` };\n  });\n};\n\nexport const getSingleRowQuerySchema = () => {\n  const _id = generateId();\n  return { ...rowQuerySchema, _id, name: `name-${_id}` };\n};\n\nexport const rowField = {\n  name: \"name\",\n  fieldType: \"input\",\n  _fieldType: [\"input\"],\n  placeholder: \"\",\n  defaultValue: \"\",\n  step: \"\",\n  require: false,\n  disabled: false,\n  twoColumn: false,\n  extraMargin: false,\n  columnWidth: \"\",\n  columnHide: false,\n  disabledSorting: false,\n  disableFilter: false,\n};\n\nexport const rowQuerySchema = {\n  name: \"name\",\n  fieldType: \"input\",\n  placeholder: \"\",\n};\n\nexport const disabledDefaultSet = new Set([\n  \"common|barcode scanner hardware\",\n  \"upload|single file\",\n  \"upload|multiple images\",\n  \"upload|firebase\",\n  \"upload|google cloud storage\",\n  \"dropdown\",\n  \"custom component|dependent input example\",\n  \"custom component|async searchable dropdown\",\n  \"common|password\",\n  \"hierarchical dropdown|static option, allow modify\",\n  \"hierarchical dropdown|static option, no modify\",\n  \"hierarchical dropdown|async option\",\n]);\n\nexport const disabledPlaceholderSet = new Set([\n  \"checkbox\",\n  \"upload|single file\",\n  \"upload|multiple images\",\n  \"upload|firebase\",\n  \"upload|google cloud storage\",\n]);\n\nexport const placeholderDefault = {\n  checkbox: \"true/false\",\n  \"common|date\": \"YYYY-MM-DD\",\n  \"format|url\": \"http://www.google.com/...\",\n  \"format|thai tel\": \"0811111111\",\n  \"format|email\": \"abc@example.com\",\n  \"format|thai citizen id\": \"0139499973311\",\n  \"format|thai zipcode\": \"10210\",\n  \"common|number\": \"0/1/2/...\",\n};\n\nexport const fieldOptions = [\n  \"require\",\n  \"disabled\",\n  \"twoColumn\",\n  \"extraMargin\",\n  \"appendDivider\",\n];\n\nexport const columnOptions = [\"columnHide\", \"disableSorting\", \"disableFilter\"];\n\nexport const fieldTree = [\n  { l: \"input\" },\n  { l: \"dropdown\" },\n  { l: \"checkbox\" },\n  {\n    l: \"common\",\n    c: [\n      { l: \"number\" },\n      { l: \"date\" },\n      { l: \"paragraph\" },\n      { l: \"password\" },\n      { l: \"barcode scanner hardware\" },\n    ],\n  },\n  {\n    l: \"format\",\n    c: [\n      { l: \"url\" },\n      { l: \"email\" },\n      { l: \"thai tel\" },\n      { l: \"thai citizen id\" },\n      { l: \"thai zipcode\" },\n      { l: \"regex validation example\" },\n      { l: \"custom validation example\" },\n    ],\n  },\n  {\n    l: \"upload\",\n    c: [\n      { l: \"single file\" },\n      { l: \"multiple images\" },\n      { l: \"firebase\" },\n      { l: \"google cloud storage\" },\n    ],\n  },\n  {\n    l: \"hierarchical dropdown\",\n    c: [\n      { l: \"static option, allow modify\" },\n      { l: \"static option, no modify\" },\n      { l: \"async option\" },\n      { l: \"thai province\" },\n    ],\n  },\n  {\n    l: \"custom component\",\n    c: [{ l: \"async searchable dropdown\" }, { l: \"dependent input example\" }],\n  },\n];\n\nexport const queryFieldTree = [\n  { label: \"input\", value: \"input\" },\n  { label: \"dropdown\", value: \"dropdown\" },\n  { label: \"number\", value: \"common|number\" },\n  { label: \"date\", value: \"common|date\" },\n];\n","export const fullWidth = {\n  width: \"100%\",\n};\n\nexport const Wrapper1 = {\n  padding: \"1rem\",\n};\n\nexport const Wrapper2 = {\n  padding: \"0 1rem\",\n};\n\nexport const contentWhite = {\n  backgroundColor: \"white\",\n  padding: \"2rem\",\n  borderRadius: 8,\n};\n\nexport const gray = {\n  color: \"#ccc\",\n};\n\nexport const layoutMargin = {\n  display: \"flex\",\n  flexDirection: \"column\",\n  margin: \"0 0 1rem 0\",\n};\n\nexport const checkbox = {\n  marginLeft: 0,\n  marginTop: \"0.5rem\",\n};\n\nexport const input = {\n  maxWidth: 500,\n  marginRight: \"1rem\",\n  marginBottom: \"1rem\",\n};\n\nexport const VerticalSpacer = {\n  margin: \"2rem 0\",\n};\n\nexport const rowInput = {\n  marginBottom: \"1rem\",\n};\n","import _ from \"lodash\";\nimport { lookupLabel } from \"../../../logic/lookup_label\";\n\nexport const createOptions = (options) => {\n  if (!Array.isArray(options)) {\n    return [];\n  }\n  return options.map((item) => ({ label: item, value: item }));\n};\n\nexport const createConfig = (index, options, newForm, dataOptions) => {\n  if (!_.get(options, \"[0]\")) {\n    const defaultConfig = {};\n    dataOptions.forEach((item) => {\n      defaultConfig[item] = false;\n    });\n    newForm[index] = {\n      ...(newForm[index] && newForm[index]),\n      ...defaultConfig,\n    };\n    return newForm;\n  }\n  const keyDiffOptions = _.keyBy(_.difference(dataOptions, options));\n  dataOptions.forEach((item) => {\n    if (keyDiffOptions[item]) {\n      newForm[index][item] = false;\n    } else {\n      newForm[index][item] = true;\n    }\n  });\n  return newForm;\n};\n\nexport const createStepOptions = () => {\n  const options = [{ label: \"No step\", value: \"No step\" }];\n  for (let i = 2; i <= 20; i++) {\n    options.push({ label: i + \" step\", value: i });\n  }\n  return options;\n};\n\nexport const getDefaultBooleanConfig = (options) => {\n  if (!Array.isArray(options)) {\n    return options;\n  }\n  return options.find((item) => item.label === \"extraMargin\");\n};\n\nexport const getHeader = (item) => {\n  var name = lookupLabel(item);\n  if (!item.step && item.step !== 0) return name;\n  return `${name} (${item.step})`;\n};\n","import React, { useMemo } from \"react\";\nimport { PlusOutlined, CloseCircleOutlined } from \"@ant-design/icons\";\nimport { Row, Col, Select, Button } from \"antd\";\nimport { lookupLabel } from \"../../../logic/lookup_label\";\n\nconst ConditionalField = (props) => {\n\tconst { formState, setSettingState, settingState } = props;\n\n\tconst lines = settingState.cfLine || [makeLine([])];\n\tconst setLines = (cfLine) => setSettingState({ ...settingState, cfLine });\n\tconst addLine = () => setLines([...lines, makeLine(lines)]);\n\tconst removeLine = (index) => () => {\n\t\tvar newLines = [...lines];\n\t\tnewLines.splice(index, 1);\n\t\tif (!newLines.length)\n\t\t\tsetSettingState({ ...settingState, conditionalField: false });\n\t\tsetLines(newLines);\n\t};\n\tconst editLine = (index, field) => (value) => {\n\t\tvar newLines = [...lines];\n\t\tvar newValue = { ...lines[index], [field]: value };\n\t\tnewLines.splice(index, 1, newValue);\n\t\tsetLines(newLines);\n\t};\n\n\tconst { dropdowns, fields } = useMemo(\n\t\t() => ({\n\t\t\tdropdowns: formState\n\t\t\t\t.filter((a) => a.fieldType === \"dropdown\")\n\t\t\t\t.map((a) => ({ label: lookupLabel(a), value: a._id })),\n\t\t\tfields: formState.map((a) => ({\n\t\t\t\tlabel: lookupLabel(a),\n\t\t\t\tvalue: a._id,\n\t\t\t})),\n\t\t}),\n\t\t[formState]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{lines.map((a, i) => (\n\t\t\t\t<Row gutter={8} key={a._id} style={{ marginTop: 20 }}>\n\t\t\t\t\t<Col span={1}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t<CloseCircleOutlined\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"#ccc\" }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tonClick={removeLine(i)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={7} offset={1}>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t\t\t\tsize={1}\n\t\t\t\t\t\t\tplaceholder=\"When dropdown...\"\n\t\t\t\t\t\t\toptions={dropdowns}\n\t\t\t\t\t\t\tvalue={a.dropdown}\n\t\t\t\t\t\t\tonChange={editLine(i, \"dropdown\")}\n\t\t\t\t\t\t\tdropdownRender={dropdownRender(\n\t\t\t\t\t\t\t\t\"Dropdown field needed.\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={7}>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\toptions={OPTIONS}\n\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t\t\t\tsize={1}\n\t\t\t\t\t\t\tplaceholder=\"equals...\"\n\t\t\t\t\t\t\tvalue={a.equal}\n\t\t\t\t\t\t\tonChange={editLine(i, \"equal\")}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={7}>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\toptions={fields.filter(filterField(a, lines))}\n\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t\t\t\tsize={1}\n\t\t\t\t\t\t\tplaceholder=\"Show this field\"\n\t\t\t\t\t\t\tvalue={a.field}\n\t\t\t\t\t\t\tonChange={editLine(i, \"field\")}\n\t\t\t\t\t\t\tdropdownRender={dropdownRender(\"All fields used.\")}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t))}\n\t\t\t<Button\n\t\t\t\tblock\n\t\t\t\ttype=\"primary\"\n\t\t\t\ticon={<PlusOutlined />}\n\t\t\t\tstyle={{ marginTop: 30 }}\n\t\t\t\tonClick={addLine}\n\t\t\t>\n\t\t\t\tAdd ConditionalField\n\t\t\t</Button>\n\t\t</>\n\t);\n};\n\nconst makeLine = (allLines) => {\n\tvar _id = Math.floor(Math.random() * 10000);\n\tif (!allLines.length) return { _id };\n\treturn { ...allLines[allLines.length - 1], field: null, _id };\n};\n\nconst filterField = (current, lines) => (c) =>\n\t!lines.find((b) => c.value === b.field && b.field !== current.field);\n\nconst dropdownRender = (notFoundText) => (a) => {\n\tif (a.props.options.length) return a;\n\treturn (\n\t\t<>\n\t\t\t{a}\n\t\t\t<center style={{ marginTop: -15, marginBottom: 10 }}>\n\t\t\t\t{notFoundText}\n\t\t\t</center>\n\t\t</>\n\t);\n};\n\nconst OPTIONS = [\n\t{ value: \"pizza\", label: \"Pizza\" },\n\t{ value: \"steak\", label: \"Steak\" },\n\t{ value: \"sushi\", label: \"Sushi\" },\n\t{ value: \"hamburger\", label: \"Hamburger\" },\n\t{ value: \"noodles\", label: \"Noodles\" },\n];\n\nexport default ConditionalField;\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport _ from \"lodash\";\nimport {\n  PlusOutlined,\n  QuestionCircleOutlined,\n  UpOutlined,\n  DownOutlined,\n  DeleteOutlined,\n} from \"@ant-design/icons\";\nimport {\n  Input,\n  Form,\n  Checkbox,\n  Collapse,\n  Row,\n  Col,\n  Typography,\n  Select,\n  Divider,\n  Button,\n  Tooltip,\n} from \"antd\";\nimport { SETTINGS } from \"../constants\";\nimport {\n  queryFieldTree,\n  getInitRowQuerySchema,\n  getSingleRowQuerySchema,\n  disabledPlaceholderSet,\n} from \"./data-field\";\nimport * as styles from \"./styles\";\nimport * as logic from \"./logic\";\nimport ConditionalField from \"./conditional_field\";\n\nconst RenderSetting = (props) => {\n  const { settingState, setSettingState } = props;\n  const [optionsStep] = useState(() => logic.createStepOptions());\n\n  const onChangeCheckbox = (type) => {\n    const newSettings = { ...settingState };\n    if (newSettings[type]) {\n      delete newSettings[type];\n    } else {\n      newSettings[type] = true;\n    }\n    setSettingState(newSettings);\n  };\n\n  const onChangeField = (key, value) => {\n    const newSettings = { ...settingState };\n    newSettings[key] = value;\n    if (key === \"step\") {\n      onChangeSteps(newSettings, value);\n      return;\n    }\n    setSettingState(newSettings);\n  };\n\n  const onChangeSteps = (state, numberOfStep) => {\n    if (numberOfStep === \"No step\") {\n      state.step = numberOfStep;\n      state.steps = [];\n    }\n    const steps = [];\n    for (let i = 1; i <= numberOfStep; i++) {\n      steps.push({ placeholder: `label step ${i}`, value: `label step ${i}` });\n    }\n    state.steps = [...steps];\n    setSettingState(state);\n  };\n\n  const onChangeInputSteps = (index, value) => {\n    const newSettings = { ...settingState };\n    newSettings.steps[index].value = value;\n    setSettingState(newSettings);\n  };\n\n  const onChangeCheckboxQuery = () => {\n    const newSettings = _.cloneDeep(settingState);\n    if (newSettings.querySchema.query) {\n      newSettings.querySchema.schema = [...getInitRowQuerySchema()];\n    }\n    newSettings.querySchema.query = !newSettings.querySchema.query;\n    setSettingState(newSettings);\n  };\n\n  const onChangeConditionalField = () => {\n    const newSettings = { ...settingState };\n    newSettings.conditionalField = !settingState.conditionalField;\n    setSettingState(newSettings);\n  };\n\n  const onChangeFieldQuerySchema = (index, key, value) => {\n    if (!key) {\n      return;\n    }\n    const newSettings = _.cloneDeep(settingState);\n    if (!newSettings.querySchema.schema[index]) {\n      return;\n    }\n    newSettings.querySchema.schema[index][key] = value;\n    setSettingState(newSettings);\n  };\n\n  const onAddQuerySchema = () => {\n    const newSettings = _.cloneDeep(settingState);\n    newSettings.querySchema.schema = [\n      ...newSettings.querySchema.schema,\n      { ...getSingleRowQuerySchema() },\n    ];\n    setSettingState(newSettings);\n  };\n\n  const onDeleteQuerySchema = (index) => {\n    const newSettings = _.cloneDeep(settingState);\n    if (!_.get(newSettings.querySchema?.schema, \"[1]\")) {\n      newSettings.querySchema.query = false;\n      newSettings.querySchema.schema = [...getInitRowQuerySchema()];\n    } else {\n      newSettings.querySchema.schema.splice(index, 1);\n    }\n    setSettingState(newSettings);\n  };\n\n  const onMoveUp = (index) => {\n    if (index === 0) return;\n    const newSettings = _.cloneDeep(settingState);\n    const { schema } = newSettings.querySchema;\n    schema.splice(index - 1, 2, schema[index], schema[index - 1]);\n    setSettingState(newSettings);\n  };\n\n  const onMoveDown = (index) => {\n    if (index === settingState.querySchema.schema.length - 1) return;\n    const newSettings = _.cloneDeep(settingState);\n    const { schema } = newSettings.querySchema;\n    schema.splice(index, 2, schema[index + 1], schema[index]);\n    setSettingState(newSettings);\n  };\n\n  return (\n    <Form>\n      <Typography.Title level={5}>Table Settings</Typography.Title>\n      <Input\n        style={styles.input}\n        placeholder=\"title\"\n        value={settingState?.title}\n        onChange={(event) => onChangeField(\"title\", event.target.value)}\n      />\n      <Input\n        style={styles.input}\n        placeholder=\"description\"\n        value={settingState?.description}\n        onChange={(event) => onChangeField(\"description\", event.target.value)}\n      />\n      <div style={styles.layoutMargin}>\n        {Array.isArray(SETTINGS) &&\n          SETTINGS.map((item, index) => (\n            <Checkbox\n              key={index.toString()}\n              style={{\n                margin: index === 0 ? \"0.2rem 0 0.5rem 0\" : \"0 0 0.5rem 0\",\n              }}\n              checked={settingState[item]}\n              onChange={() => onChangeCheckbox(item)}\n            >\n              {item}\n            </Checkbox>\n          ))}\n        <Divider />\n        <div>\n          <Typography.Title level={5}>\n            Multi-step Form\n            <Tooltip\n              overlayInnerStyle={{ width: 400 }}\n              title='For complex form, you can divide your form into multiple steps. First, specify all the step names below. Then, go to \"Fields\" panel to assign each field to their respective step.'\n            >\n              <QuestionCircleOutlined\n                style={{ marginLeft: 10, color: \"#ccc\" }}\n              />\n            </Tooltip>\n          </Typography.Title>\n          <Row>\n            <Typography.Text style={{ padding: \"0.25rem 0.5rem 0 0\" }}>\n              Form Steps\n            </Typography.Text>\n            {Array.isArray(optionsStep) && (\n              <Select\n                defaultValue={settingState?.step || optionsStep[0].value}\n                style={{ flex: 1 }}\n                onChange={(value) => onChangeField(\"step\", value)}\n              >\n                {optionsStep.map((st, si) => (\n                  <Select.Option key={si.toString()} value={st.value}>\n                    {st.label}\n                  </Select.Option>\n                ))}\n              </Select>\n            )}\n          </Row>\n          <div style={{ paddingTop: \"1rem\" }}>\n            {Array.isArray(settingState?.steps) &&\n              settingState.steps.map((item, index) => (\n                <Row key={index.toString()} style={{ padding: \"0.5rem 0\" }}>\n                  <Col style={{ padding: \"0.25rem 0.5rem 0 0\", width: 65 }}>\n                    <Typography.Text>{`step ${index + 1}`}</Typography.Text>\n                  </Col>\n                  <Col flex=\"1\">\n                    <Input\n                      placeholder={item.placeholder}\n                      value={item.value}\n                      onChange={(event) =>\n                        onChangeInputSteps(index, event.target.value)\n                      }\n                    />\n                  </Col>\n                </Row>\n              ))}\n          </div>\n        </div>\n        <Divider />\n        <div>\n          <Typography.Title level={5}>\n            Conditional Fields\n            <Tooltip\n              overlayInnerStyle={{ width: 400 }}\n              title=\"Some fields should be visible only when certain conditions are met. For example, the form may ask about the number of your children. This field should only show when your marriage status is 'married' or 'divorced' but not 'single'.\"\n            >\n              <QuestionCircleOutlined\n                style={{ marginLeft: 10, color: \"#ccc\" }}\n              />\n            </Tooltip>\n          </Typography.Title>\n          <Checkbox\n            checked={settingState.conditionalField || false}\n            onChange={() => onChangeConditionalField()}\n          >\n            enable conditional fields\n          </Checkbox>\n          {settingState.conditionalField && <ConditionalField {...props} />}\n        </div>\n        <Divider />\n        <div>\n          <Typography.Title level={5}>\n            Table Query\n            <Tooltip\n              overlayInnerStyle={{ width: 400 }}\n              title=\"You can specify the query used for table data. First, design your UI below. Then, implement the query logic in 'getMany' function later on.\"\n            >\n              <QuestionCircleOutlined\n                style={{ marginLeft: 10, color: \"#ccc\" }}\n              />\n            </Tooltip>\n          </Typography.Title>\n          <Checkbox\n            checked={settingState.querySchema?.query || false}\n            onChange={() => onChangeCheckboxQuery()}\n          >\n            enable table query\n          </Checkbox>\n          {settingState.querySchema?.query && (\n            <>\n              <div style={{ padding: \"1rem 0 0 0\" }}>\n                {_.get(settingState.querySchema?.schema, \"[0]\") && (\n                  <Collapse defaultActiveKey={[\"0\"]} accordion>\n                    {settingState.querySchema.schema.map((qs, qi) => (\n                      <Collapse.Panel\n                        key={qi.toString()}\n                        header={logic.getHeader(qs)}\n                        extra={\n                          <>\n                            <Button\n                              icon={<UpOutlined style={styles.gray} />}\n                              type=\"text\"\n                              onClick={(event) => {\n                                onMoveUp(qi);\n                                event.stopPropagation();\n                              }}\n                            />\n                            <Button\n                              icon={<DownOutlined style={styles.gray} />}\n                              type=\"text\"\n                              onClick={(event) => {\n                                onMoveDown(qi);\n                                event.stopPropagation();\n                              }}\n                            />\n                            <Button\n                              icon={<DeleteOutlined style={styles.gray} />}\n                              type=\"text\"\n                              onClick={(event) => {\n                                onDeleteQuerySchema(qi);\n                                event.stopPropagation();\n                              }}\n                            />\n                          </>\n                        }\n                      >\n                        <Row style={styles.rowInput}>\n                          <Col flex=\"1\">\n                            <Row>\n                              <Typography.Text\n                                style={{ padding: \"0.25rem 0.5rem 0 0\" }}\n                              >\n                                FieldType\n                              </Typography.Text>\n                              <Select\n                                defaultValue={queryFieldTree[0]}\n                                value={qs.fieldType}\n                                style={{ flex: 1 }}\n                                onChange={(value) =>\n                                  onChangeFieldQuerySchema(\n                                    qi,\n                                    \"fieldType\",\n                                    value\n                                  )\n                                }\n                                options={queryFieldTree}\n                              />\n                            </Row>\n                          </Col>\n                          <Col span=\"1\" />\n                          <Col flex=\"1\">\n                            <Input\n                              placeholder=\"label\"\n                              value={qs.label}\n                              onChange={(event) =>\n                                onChangeFieldQuerySchema(\n                                  qi,\n                                  \"label\",\n                                  event.target.value\n                                )\n                              }\n                            />\n                          </Col>\n                        </Row>\n                        <Row style={styles.rowInput}>\n                          <Col flex=\"1\">\n                            <Input\n                              placeholder=\"name\"\n                              value={qs.name}\n                              onChange={(event) =>\n                                onChangeFieldQuerySchema(\n                                  qi,\n                                  \"name\",\n                                  event.target.value\n                                )\n                              }\n                            />\n                          </Col>\n                          <Col span=\"1\" />\n                          <Col flex=\"1\">\n                            <Input\n                              placeholder=\"placeholder\"\n                              value={qs.placeholder}\n                              disabled={disabledPlaceholderSet.has(\n                                qs.fieldType\n                              )}\n                              onChange={(event) => {\n                                onChangeFieldQuerySchema(\n                                  qi,\n                                  \"placeholder\",\n                                  event.target.value\n                                );\n                              }}\n                            />\n                          </Col>\n                        </Row>\n                      </Collapse.Panel>\n                    ))}\n                  </Collapse>\n                )}\n              </div>\n              <div>\n                <Button\n                  block\n                  type=\"primary\"\n                  icon={<PlusOutlined />}\n                  style={styles.VerticalSpacer}\n                  onClick={onAddQuerySchema}\n                >\n                  Add Query\n                </Button>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </Form>\n  );\n};\n\nRenderSetting.propTypes = {\n  formState: PropTypes.array.isRequired,\n  setSettingState: PropTypes.func.isRequired,\n};\n\nexport default RenderSetting;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Form,\n  Button,\n  Collapse,\n  Select,\n  Row,\n  Col,\n  Input,\n  Checkbox,\n  Divider,\n  Typography,\n  Cascader,\n} from \"antd\";\nimport _ from \"lodash\";\nimport {\n  fieldOptions,\n  columnOptions,\n  placeholderDefault,\n  fieldTree,\n  disabledDefaultSet,\n  disabledPlaceholderSet,\n} from \"./data-field\";\nimport * as styles from \"./styles\";\nimport * as logic from \"./logic\";\nimport { UpOutlined, DownOutlined, DeleteOutlined } from \"@ant-design/icons\";\n\nconst FormFields = (props) => {\n  const { formState, setFormState, settingState } = props;\n\n  const [dataFieldOptions] = useState(() => logic.createOptions(fieldOptions));\n  const [dataColumnOptions] = useState(() =>\n    logic.createOptions(columnOptions)\n  );\n\n  useEffect(() => {\n    if (_.get(settingState?.steps, \"[0]\")) {\n      onSetDefaultStep();\n    }\n    var allInputs = document.querySelectorAll(\"input\");\n    for (var i = 0, ii = allInputs.length; i < ii; i++)\n      allInputs[i].setAttribute(\"size\", \"1\");\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [settingState]);\n\n  const onSetDefaultStep = () => {\n    let newForm = [...formState];\n    if (!Array.isArray(newForm)) {\n      return;\n    }\n    newForm = newForm.map((item) => {\n      const rowForm = { ...item };\n      if (!rowForm.step) {\n        rowForm.step = _.get(settingState.steps, \"[0].value\");\n      }\n      const isStepValueChanged =\n        rowForm.step &&\n        !settingState.steps.find((s) => s.value === rowForm.step);\n      if (isStepValueChanged) {\n        rowForm.step = _.get(settingState.steps, \"[0].value\");\n      }\n      return rowForm;\n    });\n    setFormState(newForm);\n  };\n\n  const onDeleteField = (index) => {\n    if (!Array.isArray(formState) || formState.length === 1) return;\n    const newForm = [...formState];\n    newForm.splice(index, 1);\n    setFormState(newForm);\n  };\n\n  const onMoveUp = (index) => {\n    if (!Array.isArray(formState) || index === 0) {\n      return;\n    }\n    const newForm = [...formState];\n    newForm.splice(index - 1, 2, formState[index], formState[index - 1]);\n    setFormState(newForm);\n  };\n\n  const onMoveDown = (index) => {\n    if (!Array.isArray(formState) || index === formState.length - 1) {\n      return;\n    }\n    const newForm = [...formState];\n    newForm.splice(index, 2, formState[index + 1], formState[index]);\n    setFormState(newForm);\n  };\n\n  const onChangeField = (index, key, value) => {\n    if (!Array.isArray(formState) || !key) {\n      return;\n    }\n    let newForm = [...formState];\n    if (!newForm[index]) {\n      return;\n    }\n    newForm[index][key] = value;\n    if (key === \"fieldType\" && disabledDefaultSet.has(value)) {\n      newForm[index].defaultValue = \"\";\n    }\n    setFormState([...newForm]);\n  };\n\n  const onChangeConfig = (key, index, options) => {\n    let newForm = [...formState];\n    const data = key === \"field\" ? fieldOptions : columnOptions;\n    const newOptionConfig = logic.createConfig(index, options, newForm, data);\n    setFormState([...newOptionConfig]);\n  };\n\n  return (\n    <Form>\n      {formState.length && (\n        <Collapse defaultActiveKey={formState[0].name} accordion>\n          {formState.map((item, index) => (\n            <Collapse.Panel\n              key={item.name}\n              header={logic.getHeader(item)}\n              extra={\n                <>\n                  <Button\n                    icon={<UpOutlined style={styles.gray} />}\n                    type=\"text\"\n                    onClick={(event) => {\n                      onMoveUp(index);\n                      event.stopPropagation();\n                    }}\n                  />\n                  <Button\n                    icon={<DownOutlined style={styles.gray} />}\n                    type=\"text\"\n                    onClick={(event) => {\n                      onMoveDown(index);\n                      event.stopPropagation();\n                    }}\n                  />\n                  <Button\n                    icon={<DeleteOutlined style={styles.gray} />}\n                    type=\"text\"\n                    onClick={(event) => {\n                      onDeleteField(index);\n                      event.stopPropagation();\n                    }}\n                  />\n                </>\n              }\n            >\n              <Row style={styles.rowInput}>\n                <Col flex=\"90px\">\n                  <Typography.Text\n                    style={{\n                      height: 32,\n                      lineHeight: \"32px\",\n                    }}\n                  >\n                    FieldType\n                  </Typography.Text>\n                </Col>\n                <Col flex=\"auto\">\n                  <Cascader\n                    showSearch\n                    allowClear={false}\n                    fieldNames={{ label: \"l\", value: \"l\", children: \"c\" }}\n                    options={fieldTree}\n                    value={item._fieldType}\n                    style={{ width: \"100%\" }}\n                    dropdownRender={(a) => (\n                      <div className=\"large-field-type\">{a}</div>\n                    )}\n                    onChange={(value) => {\n                      onChangeField(index, \"_fieldType\", value);\n                      onChangeField(index, \"fieldType\", value.join(\"|\"));\n                    }}\n                  />\n                </Col>\n              </Row>\n              <Row style={styles.rowInput}>\n                <Col flex=\"1\">\n                  <Input\n                    placeholder=\"label\"\n                    value={item.label}\n                    onChange={(event) =>\n                      onChangeField(index, \"label\", event.target.value)\n                    }\n                  />\n                </Col>\n                <Col span=\"1\" />\n                <Col flex=\"1\">\n                  <Input\n                    placeholder=\"name\"\n                    value={item.name}\n                    onChange={(event) =>\n                      onChangeField(index, \"name\", event.target.value)\n                    }\n                  />\n                </Col>\n              </Row>\n              <Row style={styles.rowInput}>\n                <Col flex=\"1\">\n                  <Input\n                    placeholder=\"placeholder\"\n                    value={item.placeholder}\n                    disabled={disabledPlaceholderSet.has(item.fieldType)}\n                    onChange={(event) =>\n                      onChangeField(index, \"placeholder\", event.target.value)\n                    }\n                  />\n                </Col>\n                <Col span=\"1\" />\n                <Col flex=\"1\">\n                  <Input\n                    placeholder={\n                      \"defaultValue \" +\n                      (placeholderDefault[item.fieldType]\n                        ? \"ex. \" + placeholderDefault[item.fieldType]\n                        : \"\")\n                    }\n                    disabled={disabledDefaultSet.has(item.fieldType)}\n                    value={item.defaultValue}\n                    onChange={(event) =>\n                      onChangeField(index, \"defaultValue\", event.target.value)\n                    }\n                  />\n                </Col>\n              </Row>\n              {_.get(settingState?.steps, \"[0]\") && (\n                <Row style={styles.rowInput}>\n                  <Col flex=\"1\">\n                    <Row>\n                      <Col flex=\"45px\">\n                        <Typography.Text\n                          style={{\n                            height: 32,\n                            lineHeight: \"32px\",\n                          }}\n                        >\n                          Step\n                        </Typography.Text>\n                      </Col>\n                      <Col flex=\"auto\">\n                        <Select\n                          defaultValue={\n                            !_.isNil(item.step)\n                              ? item.step\n                              : settingState.steps[0].value\n                          }\n                          style={{ width: \"100%\" }}\n                          value={item.step || settingState.steps[0].value}\n                          onChange={(value) =>\n                            onChangeField(index, \"step\", value)\n                          }\n                        >\n                          {settingState.steps.map((st, si) => (\n                            <Select.Option key={si.toString()} value={st.value}>\n                              {st.value || `step ${si}`}\n                            </Select.Option>\n                          ))}\n                        </Select>\n                      </Col>\n                    </Row>\n                  </Col>\n                  <Col span=\"1\" />\n                  <Col flex=\"1\"></Col>\n                </Row>\n              )}\n              <Checkbox.Group\n                options={dataFieldOptions || []}\n                onChange={(option) => onChangeConfig(\"field\", index, option)}\n                style={{ marginTop: 10 }}\n              />\n              <Divider type=\"horizontal\" />\n              <Row>\n                <Col span=\"15\">\n                  <Checkbox.Group\n                    options={dataColumnOptions || []}\n                    onChange={(option) =>\n                      onChangeConfig(\"column\", index, option)\n                    }\n                    style={{ marginBottom: \"1rem\", lineHeight: \"32px\" }}\n                  />\n                </Col>\n                <Col span=\"1\" />\n                <Col span=\"8\">\n                  <Input\n                    type=\"number\"\n                    placeholder=\"columnWidth\"\n                    value={item.columnWidth}\n                    onChange={(event) =>\n                      onChangeField(index, \"columnWidth\", event.target.value)\n                    }\n                  />\n                </Col>\n              </Row>\n            </Collapse.Panel>\n          ))}\n        </Collapse>\n      )}\n    </Form>\n  );\n};\n\nFormFields.propTypes = {\n  formState: PropTypes.array.isRequired,\n  setFormState: PropTypes.func.isRequired,\n  settingState: PropTypes.object,\n};\n\nexport default FormFields;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport RenderSetting from \"./setting\";\nimport RenderFormFields from \"./form-fields\";\nimport { MENU_FORM } from \"../constants\";\nimport * as styles from \"./styles\";\nimport _ from \"lodash\";\n\nconst LeftPanelView = (props) => {\n  const { view } = props;\n  const otherProps = _.omit(props, [\"view\"]) || {};\n\n  if (view === MENU_FORM.setting) {\n    return (\n      <div style={styles.Wrapper1}>\n        <RenderSetting {...otherProps} />\n      </div>\n    );\n  }\n  return (\n    <div style={styles.Wrapper2}>\n      <RenderFormFields {...otherProps} />\n    </div>\n  );\n};\n\nLeftPanelView.propTypes = {\n  view: PropTypes.oneOf([MENU_FORM.form, MENU_FORM.setting]),\n  formState: PropTypes.array.isRequired,\n  setFormState: PropTypes.func.isRequired,\n  settingState: PropTypes.object.isRequired,\n  setSettingState: PropTypes.func.isRequired,\n};\n\nLeftPanelView.defaultProps = {\n  view: MENU_FORM.form,\n};\n\nexport default LeftPanelView;\n","const panelColor = \"rgb(35,39,46)\";\nconst panelColor2 = \"#dfe6e9\";\n\nexport const LayoutContainer = {\n  display: \"flex\",\n  flexDirection: \"column\",\n  width: \"100%\",\n  height: \"100%\",\n  minWidth: 800,\n};\n\nexport const panelContainer = {\n  flex: 1,\n  display: \"flex\",\n  justifyContent: \"space-between\",\n  width: \"100%\",\n};\n\nexport const resizableContainer = {\n  height: \"100%\",\n  width: 5,\n  cursor: \"col-resize\",\n};\n\nexport const leftPanelContainer = {\n  backgroundColor: \"white\",\n  padding: \"1rem\",\n  marginLeft: 6,\n  marginBottom: 6,\n  borderRadius: 8,\n  border: `1px solid ${panelColor}`,\n  position: \"relative\",\n};\n\nexport const rightPanelContainer = {\n  backgroundColor: panelColor,\n};\n\nexport const rightPanelContainer2 = {\n  backgroundColor: panelColor2,\n};\n\nexport const LeftContent = {\n  height: \"100%\",\n};\n\nexport const brandingText = {\n  marginLeft: \"1rem\",\n  top: 6,\n  display: \"inline\",\n  position: \"relative\",\n};\n\nexport const githubStar = {\n  marginLeft: 20,\n  marginTop: 3,\n  verticalAlign: \"middle\",\n};\n\nexport const githubText = { top: 2, position: \"relative\" };\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useRef, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { CheckCircleTwoTone, CloseCircleTwoTone } from \"@ant-design/icons\";\nimport { Row, Button } from \"antd\";\nimport { useWindowSize } from \"./hooks\";\nimport { MENU_FORM } from \"../constants\";\nimport * as styles from \"../styles\";\nimport * as innerStyles from \"./styles\";\n\nconst MIN_WIDTH = 400;\nconst OTHER_ELEM_SIZE = 52;\nconst INNER_ELEM_SIZE = 72;\n\nconst PanelView = (props) => {\n  const {\n    leftView,\n    rightView,\n    rightViewStyle,\n    menu,\n    bottomBar,\n    currentView,\n    validateSchema,\n  } = props;\n  const splitPanelRef = useRef();\n  const leftPanelRef = useRef();\n  const [isDragging, setIsDragging] = useState(false);\n  const [separatorXPosition, setSeparatorXPosition] = useState();\n  const [leftPanelWidth, setLeftPanelWidth] = useState();\n  const [windowHeight] = useWindowSize();\n  const [showError, setShowError] = useState(false);\n\n  useEffect(() => {\n    document.addEventListener(\"mousemove\", onMouseMove);\n    document.addEventListener(\"touchmove\", onTouchMove);\n    document.addEventListener(\"mouseup\", onMouseUp);\n\n    return () => {\n      document.removeEventListener(\"mousemove\", onMouseMove);\n      document.removeEventListener(\"touchmove\", onTouchMove);\n      document.removeEventListener(\"mouseup\", onMouseUp);\n    };\n  });\n\n  useEffect(() => {\n    if (validateSchema?.isValidate && showError) {\n      setShowError(false);\n    }\n  }, [showError, validateSchema]);\n\n  const onEventMouseDown = (event) => {\n    if (!event) {\n      return;\n    }\n    setSeparatorXPosition(event.clientX);\n    if (!isDragging) {\n      setIsDragging(true);\n    }\n    if (!leftPanelWidth && leftPanelRef.current) {\n      setLeftPanelWidth(leftPanelRef.current.clientWidth);\n    }\n  };\n\n  const onMouseMove = (e) => {\n    if (isDragging) {\n      e.preventDefault();\n    }\n    onMove(e.clientX);\n  };\n\n  const onTouchMove = (e) => {\n    if (!e) {\n      return;\n    }\n    onMove(e.touches[0].clientX);\n  };\n\n  const onMouseUp = () => {\n    setSeparatorXPosition(undefined);\n    setIsDragging(false);\n  };\n\n  const onMove = (clientX) => {\n    if (!clientX) {\n      return;\n    }\n    if (isDragging && leftPanelWidth && separatorXPosition) {\n      const newLeftWidth = leftPanelWidth + clientX - separatorXPosition;\n      setSeparatorXPosition(clientX);\n      if (newLeftWidth < MIN_WIDTH) {\n        setLeftPanelWidth(MIN_WIDTH);\n        return;\n      }\n      if (splitPanelRef.current) {\n        const splitPaneWidth = splitPanelRef.current.clientWidth;\n        if (newLeftWidth > splitPaneWidth - MIN_WIDTH) {\n          setLeftPanelWidth(splitPaneWidth - MIN_WIDTH);\n          return;\n        }\n      }\n      setLeftPanelWidth(newLeftWidth);\n    }\n  };\n\n  const getElemSize = () => {\n    const defaultSize = OTHER_ELEM_SIZE + INNER_ELEM_SIZE;\n    if (currentView === MENU_FORM.form) {\n      return defaultSize + 40 + 60;\n    }\n    return defaultSize;\n  };\n\n  return (\n    <div ref={splitPanelRef} style={styles.panelContainer}>\n      <div\n        ref={leftPanelRef}\n        style={{\n          ...styles.leftPanelContainer,\n          width: leftPanelWidth || \"50%\",\n          ...(windowHeight && {\n            height: windowHeight - OTHER_ELEM_SIZE,\n          }),\n        }}\n      >\n        <div style={{ height: 40 }}>{menu}</div>\n        {currentView === MENU_FORM.form && (\n          <Row\n            style={{\n              alignItems: \"center\",\n              margin: \"0.5rem 1rem 1rem 1rem\",\n              height: 32,\n            }}\n          >\n            {validateSchema?.isValidate && (\n              <CheckCircleTwoTone\n                twoToneColor=\"#52c41a\"\n                style={{ fontSize: 24 }}\n              />\n            )}\n            {!validateSchema?.isValidate && (\n              <CloseCircleTwoTone\n                twoToneColor=\"#eb2f96\"\n                style={{ fontSize: 24 }}\n              />\n            )}\n            <span style={{ paddingLeft: \"0.5rem\" }}>Validate Schema</span>\n            {!validateSchema?.isValidate && (\n              <Button\n                style={{ marginLeft: 16 }}\n                type=\"primary\"\n                danger\n                onClick={() => setShowError(!showError)}\n              >\n                {showError ? \"HIDE ERROR\" : \"SHOW ERROR\"}\n              </Button>\n            )}\n          </Row>\n        )}\n        <div\n          style={{\n            overflow: \"auto\",\n            height: \"100%\",\n            ...(windowHeight && {\n              maxHeight: windowHeight - getElemSize(),\n            }),\n          }}\n        >\n          {leftView}\n        </div>\n        {currentView === MENU_FORM.form && (\n          <div style={{ height: 40, paddingTop: 8 }}>{bottomBar}</div>\n        )}\n      </div>\n      <div style={styles.resizableContainer} onMouseDown={onEventMouseDown} />\n      <div\n        style={{\n          ...(leftPanelRef.current && {\n            height: windowHeight - OTHER_ELEM_SIZE,\n          }),\n          ...(rightViewStyle && rightViewStyle),\n          ...innerStyles.rightPanel,\n        }}\n      >\n        <div>\n          {!showError && rightView}\n          {showError && (\n            <>\n              <h2 style={{ color: \"white\" }}>SCHEMA ERROR</h2>\n              <span style={{ color: \"white\", fontSize: 20 }}>\n                {validateSchema?.message}\n              </span>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nPanelView.propTypes = {\n  currentView: PropTypes.oneOf([MENU_FORM.form, MENU_FORM.setting]).isRequired,\n  menu: PropTypes.any,\n  bottomBar: PropTypes.any,\n  leftView: PropTypes.any.isRequired,\n  rightView: PropTypes.any.isRequired,\n  rightViewStyle: PropTypes.object,\n  validateSchema: PropTypes.object.isRequired,\n};\n\nPanelView.defaultProps = {\n  rightViewStyle: null,\n  menu: null,\n};\n\nexport default PanelView;\n","import { useLayoutEffect, useState } from \"react\";\n\nexport const useWindowSize = () => {\n  const [size, setSize] = useState([0, 0]);\n  useLayoutEffect(() => {\n    function updateSize() {\n      setSize([window.innerHeight, window.innerWidth]);\n    }\n    window.addEventListener(\"resize\", updateSize);\n    updateSize();\n    return () => window.removeEventListener(\"resize\", updateSize);\n  }, []);\n  return size;\n};\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport { Row, Col, Typography, Button } from \"antd\";\nimport _ from \"lodash\";\nimport { PlusOutlined } from \"@ant-design/icons\";\nimport MenuView from \"./views/menu\";\nimport MenuFormView from \"./views/menu-form\";\nimport RightPanelView from \"./right-panel-views\";\nimport LeftPanelView from \"./left-panel-views\";\nimport PanelContainerView from \"./views/panel\";\nimport { MENU, MENU_FORM } from \"./constants\";\nimport {\n  getInitRowField,\n  getInitRowQuerySchema,\n  getSingleRow,\n} from \"./left-panel-views/data-field\";\n\nimport * as styles from \"./styles\";\nimport * as logic from \"./logic\";\n\nconst DELAY_TIMER = 500;\n\nconst EditorScreen = () => {\n  const [currentMenuState, setCurrentMenuState] = useState({\n    current: MENU.ui,\n  });\n  const [currentMenuFormState, setCurrentMenuFormState] = useState({\n    current: MENU_FORM.form,\n  });\n  const [formState, setFormState] = useState(() => getInitRowField());\n  const [settingState, setSettingState] = useState(() => ({\n    title: \"Table Header\",\n    canCreate: true,\n    canUpdate: true,\n    canDelete: true,\n    querySchema: {\n      query: false,\n      schema: [...getInitRowQuerySchema()],\n    },\n    steps: [],\n  }));\n  const [tableSettingProps, setTableSettingProps] = useState();\n  const [schemaProps, setSchemaProps] = useState();\n  const [schemaValidateState, setSchemaValidateState] = useState({\n    isValidate: true,\n    message: \"\",\n  });\n\n  useEffect(() => {\n    if (_.get(settingState, \"title\")) {\n      debounceTableTrans();\n    }\n  }, [settingState]);\n\n  useEffect(() => {\n    if (_.get(formState, \"[0]\")) {\n      debounceSchemaTrans();\n    }\n  }, [formState]);\n\n  const onSettingChange = () => {\n    const setting = logic.cleanTableSettingBeforeTrans(settingState);\n    setTableSettingProps(setting);\n  };\n\n  const onFormSchemaChange = () => {\n    const schema = logic.cleanFormBeforeTrans(formState, settingState?.steps);\n    setSchemaProps(schema);\n    const [isValidate, message] = logic.validateSchema(schema);\n    setSchemaValidateState({ isValidate, message });\n  };\n\n  const onAddField = () => {\n    if (!Array.isArray(formState)) {\n      return;\n    }\n    const newForm = [...formState];\n    newForm.push({ ...getSingleRow(settingState?.steps) });\n    setFormState(newForm);\n  };\n\n  const debounceTableTrans = _.debounce(onSettingChange, DELAY_TIMER);\n  const debounceSchemaTrans = _.debounce(onFormSchemaChange, DELAY_TIMER);\n\n  const onEventResetForm = () => {\n    setSettingState({\n      title: \"Table Header\",\n      canCreate: true,\n      canUpdate: true,\n      canDelete: true,\n      querySchema: {\n        query: false,\n        schema: [...getInitRowQuerySchema()],\n      },\n      steps: [],\n    });\n    setFormState(() => getInitRowField());\n  };\n\n  return (\n    <div style={styles.LayoutContainer}>\n      <Row>\n        <Col flex=\"10\">\n          <Typography.Title level={3} style={styles.brandingText}>\n            Joi-auto-admin Generator\n          </Typography.Title>\n          <iframe\n            src=\"https://ghbtns.com/github-btn.html?user=heartnetkung&repo=joi-auto-admin&type=star&count=true\"\n            frameBorder=\"0\"\n            scrolling=\"0\"\n            width=\"90\"\n            height=\"20\"\n            title=\"GitHub\"\n            style={styles.githubStar}\n          />\n          <Typography.Text style={styles.githubText}>\n            Please star my project if you like it. :D\n          </Typography.Text>\n        </Col>\n        <Col flex=\"1\">\n          <MenuView\n            currentMenu={currentMenuState}\n            setCurrentMenu={setCurrentMenuState}\n          />\n        </Col>\n      </Row>\n      <PanelContainerView\n        validateSchema={schemaValidateState}\n        currentView={currentMenuFormState.current}\n        menu={\n          <MenuFormView\n            currentMenu={currentMenuFormState}\n            setCurrentMenu={setCurrentMenuFormState}\n            onClearForm={onEventResetForm}\n          />\n        }\n        bottomBar={\n          <Button\n            block\n            type=\"primary\"\n            icon={<PlusOutlined />}\n            onClick={onAddField}\n          >\n            Add Field\n          </Button>\n        }\n        leftView={\n          <>\n            <LeftPanelView\n              view={currentMenuFormState.current}\n              formState={formState}\n              setFormState={setFormState}\n              settingState={settingState}\n              setSettingState={setSettingState}\n            />\n          </>\n        }\n        rightView={\n          <RightPanelView\n            view={currentMenuState.current}\n            settings={tableSettingProps}\n            editors={schemaProps || formState}\n          />\n        }\n        rightViewStyle={\n          currentMenuState.current === MENU.ui\n            ? styles.rightPanelContainer2\n            : styles.rightPanelContainer\n        }\n      />\n    </div>\n  );\n};\n\nEditorScreen.propTypes = {};\n\nexport default EditorScreen;\n","import React from \"react\";\nimport EditorScreen from \"./screens/editor-tool\";\n\nconst RenderScreen = () => {\n  return <EditorScreen />;\n};\n\nRenderScreen.propTypes = {};\n\nexport default RenderScreen;\n","import ReactDOM from \"react-dom\";\nimport \"antd/dist/antd.css\";\nimport \"./lib/index.css\";\n// import App from \"./App3\";\n// import App from \"./App4_2\";\n// import App from \"./App5\";\n// import App from \"./App6\";\n// import App from \"./App7\";\n// import App from \"./App8\";\n// import App from \"./App4\";\n// import App from \"./App9\";\n// import App from \"./App20\";\n// import App from \"./App21\";\nimport React from \"react\";\nimport App from \"./editor\";\n\n// strict mode disabled because antd doesn't support it\n// https://github.com/ant-design/ant-design/issues/22493\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}