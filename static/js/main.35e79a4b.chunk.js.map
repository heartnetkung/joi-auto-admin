{"version":3,"sources":["editor/screens/editor-tool/constants.js","editor/screens/editor-tool/views/menu.js","editor/screens/editor-tool/views/styles.js","editor/screens/editor-tool/views/menu-form.js","editor/screens/editor-tool/right-panel-views/code-blocks.js","lib/table/row_menu.js","lib/table/table_menu.js","lib/table/logic.js","lib/shared/file_upload.js","lib/table/other_menu.js","lib/shared/hook.js","lib/table/index.js","lib/controller/util.js","lib/formik/logic.js","lib/formik/submit_line.js","lib/formik/components/barcode.js","lib/formik/components/cascader_static.js","lib/formik/components/file_upload.js","lib/formik/field.js","lib/formik/inner-form.js","lib/formik/form.js","lib/controller/header.js","lib/controller/edit_modal.js","lib/joi/error_message.js","lib/joi/prepare_joi.js","lib/assets/fallback_image.js","lib/formik/components/col_image.js","lib/joi/joi_wrapper.js","lib/shared/xlsx.js","lib/joi/serialize.js","lib/controller/excel_error_modal.js","lib/controller/index.js","lib/controller/open_form_modal.js","editor/logic/util.js","editor/logic/custom_component.js","editor/logic/joi_line.js","editor/logic/chance.js","editor/logic/template.js","editor/logic/index.js","editor/screens/editor-tool/right-panel-views/index.js","editor/screens/editor-tool/left-panel-views/data-field.js","editor/screens/editor-tool/left-panel-views/styles.js","editor/screens/editor-tool/left-panel-views/logic.js","editor/screens/editor-tool/left-panel-views/setting.js","editor/screens/editor-tool/left-panel-views/form-fields.js","editor/screens/editor-tool/left-panel-views/index.js","editor/screens/editor-tool/styles.js","editor/screens/editor-tool/views/panel.js","editor/screens/editor-tool/views/hooks.js","editor/screens/editor-tool/logic.js","editor/screens/editor-tool/index.js","editor/index.js","index.js"],"names":["MENU","MENU_FORM","SETTINGS","MenuView","props","currentMenu","setCurrentMenu","onClick","e","current","key","selectedKeys","mode","style","float","flexDirection","minWidth","marginRight","Item","rowMenu","display","marginBottom","button","rightPanel","flex","borderRadius","padding","overflow","position","MenuFormView","onClearForm","onEventClick","type","styles","ghost","block","danger","RenderCodeBlocks","text","useState","language","theme","dracula","RowMenu","buttons","record","updateDataAtRow","map","action","index","NOOP","label","defaultProps","TableMenu","deleteButtonLabel","createButtonLabel","selectedRows","onCreate","onDelete","setSelectedRows","otherMenu","onDelete2","useCallback","a","textAlign","margin","length","icon","DeleteOutlined","PlusOutlined","overlay","placement","sorter","b","dataIndex","this","_","get","onFilter","value","render","addFilter","data","column","filters","chain","join","identity","uniq","sortBy","ans","disableSorting","bind","disableFilter","FileUploader","handleFile","children","accept","props2","omit","hiddenFileInput","useRef","event","click","ref","onChange","target","files","OtherMenu","onDownloadExcel","onUploadExcel","onExampleExcel","downloadExcelLabel","uploadExcelLabel","exampleExcelLabel","DownloadOutlined","UploadOutlined","EyeOutlined","useAPI","func","loadingInit","manualComplete","loading","apiState","setApiState","setData","apply","useModal","visible","setVisible","onClose","usePersistFn","fn","fnRef","persistFn","args","TableComp","schema","rowButtons","onEdit","paginationSize","tableScroll","columns","useMemo","filter","cellHide","rowButtons2","unshift","EditOutlined","width","push","title","rowSelection","selectedRowKeys","smallScreen","window","innerWidth","isMatch","setMatch","listener","matches","useEffect","mediaQuery","matchMedia","addListener","removeListener","useMaxWidth","tableScroll2","x","y","tableStyle","undefined","Math","min","opacity","dataSource","pagination","defaultPageSize","scroll","rowKey","alert","content","Modal","success","error","message","appendId","_id","nanoid","touchAll","context","validateForm","errors","Object","keys","setTouched","setNestedObjectValues","SubmitLine","steps","currentStep","prevStep","nextStep","submitButtonLabel","resetButtonLabel","useFormikContext","touch","executed","submitStyle","next","submitCount","isValid","isSubmitting","setTimeout","touchFirstSubmit","marginTop","disabled","OMIT_FIELDS","Text","Typography","Barcode","loadBarcodeName","name","barcodes","setBarcodes","inputValue","setInputValue","onKeyDown","random","preventDefault","remove","i","helpers","validator","BarcodeLine","loadItemName","memo","itemName","setItemName","then","catch","span","size","CloseOutlined","shape","marginLeft","CascaderStatic","names","fieldNames","notFound","options","cascaderOptions","nft","notFoundText","setFieldValue","values","options2","setOptions2","l","v","c","setValue","diffValue","convertNames","appendNotFoundText","syncFromOtherFields","showSearch","path","some","toLowerCase","indexOf","forEach","displayRender","labels","value2","names2","ii","Array","isArray","nodeArray","isLeaf","node","newNode","find","theValue","lastValue","traverse","FileUpload","multiple","dataType","uploadFileType","uploadFile","uploadFileInit","fileListState","setFileListState","abortRef","AbortController","urlToFileList","abort","onUpload","onSuccess","onError","file","uploadURL","signal","aborted","status","uri","split","url","URL","createObjectURL","console","onChangeFile","info","newFileList","fileList","slice","response","listFile","renderHelper","listType","customRequest","noop","encodeURIComponent","pop","WeekPicker","DatePicker","MonthPicker","Field","fieldType","required","validate","meta","labelCol","wrapperCol","colSpan","offset","className","containerStyle","onFieldRender","appendDivider","placeholder","defaultValue","moment","Password","TextArea","valid","entries","k","Option","InnerForm","formSpec","inline","isInline","isPreviousLeft","twoColumn","hasNext","calculateSpan","spec","fieldHide","step","Step","Steps","CombinedForm","onSubmit","initialValues","setStep","useSteps","onSubmit2","postData","actions","pick","test","toDefaultValues","colon","gutter","justify","Title","Paragraph","Header","description","small","headerContainerStyle","titleStyle","descriptionStyle","name2","title2","level","EditModal","isEdit","createHeader","editHeader","initialValue","centered","footer","onCancel","maskClosable","showIcon","errorTranslation","errorObj","limit","getErrorMessage","replace","found","prepare","joiObj","describeObj","devMode","paths","flags","presence","fork","allow","fixEmptyString","optional","handleDevMode","metas","handleFieldHide","append","Joi","any","IMAGE_FALLBACK","ColImage","src","fallback","PreviewGroup","item","toString","OMIT_META","JoiWrapper","isSchema","Error","describe","handleCellShow","defaultValues","set","JoiField","hasCellShow","cellShow","field","getMeta","guessFieldType","_extractedSchema","getExtractedSchema","default","getColumn","extract","pattern","email","scheme","$this","ellipsis","cellEllipsis","cellFormat","cellWidth","m","p1","p2","p3","wordWrap","wordBreak","maxWidth","numeral","format","Date","only","validLabel","getUploadUrl","firebaseConfig","rawError","details","tableToExcel","dataArray","fileName","handleNested","worksheet","utils","json_to_sheet","dateNF","workbook","book_new","book_append_sheet","writeFile","parseExcelDate","date","SSF","parse_date_code","momentInput","M","d","h","H","s","S","parseZone","toDate","excelToTable","fileObject","Promise","res","rej","reader","FileReader","onload","result","read","firstSheet","Sheets","SheetNames","sheet_to_json","parse","onerror","readAsBinaryString","obj","isObject","prototype","call","SerializeError","captureStackTrace","constructor","deserializeTable","table","deserializeRow","mapError","line","excelRow","columnCache","keyBy","attempt","abortEarly","serializeTable","showDisabled","rowData","newRow","COLUMNS","ExcelErrorModal","ExclamationCircleFilled","color","INITIAL_FORM_STATUS","Controller","getMany","createMany","updateOne","deleteMany","uploadPreviewUrl","largeComponent","querySchema","disableExcelDownload","disableExcelUpload","editModalData","setEditModalData","excelError","setExcelError","getManyStatus","doGetMany","deleteStatus","doDelete","editModalControl","excelModalControl","schema2","querySchema2","tableData","originalData","unset","returnData","setSubmitting","selectedSet","Set","has","onQuery","query","open","focus","rawExcel","newRows","newData","componentSize","getOne","FormModal","setError","raw","isObj","regex","showRaw","softEval","Function","str","wait","ms","DependentComp","values2","JSON","stringify","AsyncDropdown","choices","setChoices","fetchChoices","data2","optionFilterProp","filterOption","input","option","makeJoiLine","editor","settings","newFieldType","suffix","require","concat","extraMargin","assign","columnWidth","joiList","joi","makeObject","toSource","makeString","makeExtraJoiLines","extend","$notFound","chance","randomData","editors","count","seed","newRandom","Chance","getChance","newValue","editorToChance","specObj","j","jj","protocol","max","renderJoi","isComp","extraJoiLines","renderProps","canCreate","canUpdate","canDelete","extras","renderTemplate","reactImport","formikAntdImport","add","reactString","renderImport","renderFunction","genChanceString","isJson","prettier","parser","plugins","parserBabel","editorSchemaInner","object","string","_fieldType","number","boolean","columnHide","editorSchema1","array","items","strip","unique","editorSchema2","makeJoiObj","App","RightPanelView","view","codeText","generateId","floor","getInitRowField","rowField","id","getSingleRow","stepOptions","row","lodash","getInitRowQuerySchema","rowQuerySchema","getSingleRowQuerySchema","disabledSorting","disabledDefaultList","placeholderDefault","checkbox","fieldOptions","columnOptions","fieldTree","queryFieldTree","Wrapper1","Wrapper2","gray","layoutMargin","VerticalSpacer","rowInput","checkIsDisabledDefault","findIndex","createOptions","RenderSetting","settingState","setSettingState","logic","optionsStep","cloneState","onChangeField","newSettings","onChangeSteps","state","numberOfStep","onChangeFieldQuerySchema","checked","onChangeCheckbox","st","si","paddingTop","onChangeInputSteps","onChangCheckboxQuery","defaultActiveKey","accordion","qs","qi","Panel","header","extra","splice","onDeleteQuerySchema","stopPropagation","ft","fi","FormFields","formState","setFormState","dataFieldOptions","dataColumnOptions","onSetDefaultStep","newForm","rowForm","hasOwnProperty","onChangeConfig","newOptionConfig","dataOptions","defaultConfig","keyDiffOptions","difference","UpOutlined","onMoveUp","DownOutlined","onMoveDown","onDeleteField","allowClear","isNil","Group","LeftPanelView","otherProps","panelColor","LayoutContainer","height","panelContainer","justifyContent","resizableContainer","cursor","leftPanelContainer","backgroundColor","border","rightPanelContainer","rightPanelContainer2","MIN_WIDTH","PanelView","leftView","rightView","rightViewStyle","menu","bottomBar","currentView","validateSchema","splitPanelRef","leftPanelRef","isDragging","setIsDragging","separatorXPosition","setSeparatorXPosition","leftPanelWidth","setLeftPanelWidth","setSize","useLayoutEffect","updateSize","innerHeight","addEventListener","removeEventListener","useWindowSize","windowHeight","showError","setShowError","document","onMouseMove","onTouchMove","onMouseUp","isValidate","onMove","clientX","touches","newLeftWidth","splitPaneWidth","clientWidth","alignItems","CheckCircleTwoTone","twoToneColor","fontSize","CloseCircleTwoTone","paddingLeft","maxHeight","defaultSize","OTHER_ELEM_SIZE","onMouseDown","innerStyles","OMIT_SETTING","cleanFormBeforeTrans","settingSteps","stepValue","findStep","colWidth","parseInt","cleanColWidth","cleanDefault","EditorScreen","currentMenuState","setCurrentMenuState","currentMenuFormState","setCurrentMenuFormState","tableSettingProps","setTableSettingProps","schemaProps","setSchemaProps","schemaValidateState","setSchemaValidateState","debounceTableTrans","debounceSchemaTrans","debounce","setting","newSetting","omitSetting","left","top","RenderScreen","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.35e79a4b.chunk.js","sourcesContent":["export const MENU = {\n  ui: \"UI\",\n  code: \"Code\",\n};\n\nexport const MENU_FORM = {\n  form: \"Fields\",\n  setting: \"Settings\",\n};\n\nexport const SETTINGS = [\n  \"canCreate\",\n  \"canUpdate\",\n  \"canDelete\",\n  \"disableExcelDownload\",\n  \"disableExcelUpload\",\n  \"largeComponent\",\n];\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Menu } from \"antd\";\nimport { MENU } from \"../constants\";\n\nconst MenuView = (props) => {\n  const { currentMenu, setCurrentMenu } = props;\n\n  const onEventClick = (e) => {\n    setCurrentMenu({ current: e.key });\n  };\n\n  return (\n    <Menu\n      onClick={onEventClick}\n      selectedKeys={[currentMenu.current]}\n      mode=\"horizontal\"\n      style={{ float: \"right\", flexDirection: 'row-reverse', minWidth: 150, marginRight: 5 }}\n    >\n      <Menu.Item key={MENU.code}>{MENU.code}</Menu.Item>\n      <Menu.Item key={MENU.ui}>{MENU.ui}</Menu.Item>\n    </Menu>\n  );\n};\n\nMenuView.propTypes = {\n  currentMenu: PropTypes.object.isRequired,\n  setCurrentMenu: PropTypes.func.isRequired,\n};\n\nexport default MenuView;\n","export const rowMenu = {\n  display: \"flex\",\n  marginBottom: \"1rem\",\n};\n\nexport const button = {\n  marginRight: \"1rem\",\n};\n\nexport const rightPanel = {\n  flex: 1,\n  borderRadius: 8,\n  marginRight: 6,\n  marginBottom: 6,\n  padding: \"2rem 1rem\",\n  overflow: \"auto\",\n  position: \"relative\",\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button } from \"antd\";\nimport { MENU_FORM } from \"../constants\";\nimport * as styles from \"./styles\";\n\nconst MenuFormView = (props) => {\n  const { currentMenu, setCurrentMenu, onClearForm } = props;\n\n  const onEventClick = (type) => {\n    setCurrentMenu({ current: type });\n  };\n\n  return (\n    <div style={styles.rowMenu}>\n      <Button\n        type=\"primary\"\n        ghost={currentMenu?.current !== MENU_FORM.form}\n        block\n        onClick={() => onEventClick(MENU_FORM.form)}\n      >\n        {MENU_FORM.form}\n      </Button>\n      <Button\n        type=\"primary\"\n        ghost={currentMenu?.current !== MENU_FORM.setting}\n        block\n        style={styles.button}\n        onClick={() => onEventClick(MENU_FORM.setting)}\n      >\n        {MENU_FORM.setting}\n      </Button>\n      <Button type=\"dashed\" danger onClick={onClearForm}>\n        Reset\n      </Button>\n    </div>\n  );\n};\n\nMenuFormView.propTypes = {\n  currentMenu: PropTypes.object.isRequired,\n  setCurrentMenu: PropTypes.func.isRequired,\n  onClearForm: PropTypes.func.isRequired,\n};\n\nexport default MenuFormView;\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { CopyBlock, dracula } from \"react-code-blocks\";\n\nconst RenderCodeBlocks = (props) => {\n  const { text } = props;\n  const [language] = useState(\"jsx\");\n  if (!props) {\n    return null;\n  }\n\n  return <CopyBlock text={text} language={language} theme={dracula} />;\n};\n\nRenderCodeBlocks.propTypes = {\n  text: PropTypes.string,\n};\n\nexport default RenderCodeBlocks;\n","import { Button, Space } from \"antd\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nconst RowMenu = (props) => {\n\tconst { buttons, record, updateDataAtRow } = props;\n\n\treturn (\n\t\t<Space>\n\t\t\t{buttons.map((action, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\t{...action}\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\taction.onClick\n\t\t\t\t\t\t\t\t? () => action.onClick(record, updateDataAtRow)\n\t\t\t\t\t\t\t\t: NOOP\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{action.label}\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\t})}\n\t\t</Space>\n\t);\n};\n\nRowMenu.propTypes = {\n\tbuttons: PropTypes.array.isRequired,\n\trecord: PropTypes.any.isRequired,\n\tupdateDataAtRow: PropTypes.func,\n};\n\nRowMenu.defaultProps = {\n\tupdateDataAtRow: null,\n};\n\nconst NOOP = () => {};\n\nexport default RowMenu;\n","import { Button, Space, Dropdown } from \"antd\";\nimport { DeleteOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport PropTypes from \"prop-types\";\nimport { useCallback } from \"react\";\nimport React from 'react';\n\nconst TableMenu = (props) => {\n\tconst { deleteButtonLabel, createButtonLabel, selectedRows } = props;\n\tconst { onCreate, onDelete, setSelectedRows, otherMenu } = props;\n\n\tconst onDelete2 = useCallback(async () => {\n\t\tawait onDelete(selectedRows);\n\t\tsetSelectedRows([]);\n\t}, [selectedRows, onDelete, setSelectedRows]);\n\n\treturn (\n\t\t<div style={{ textAlign: \"right\", margin: 10 }}>\n\t\t\t<Space>\n\t\t\t\t{!!selectedRows.length && onDelete && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"danger\"\n\t\t\t\t\t\tonClick={onDelete2}\n\t\t\t\t\t\ticon={<DeleteOutlined />}\n\t\t\t\t\t>\n\t\t\t\t\t\t{deleteButtonLabel}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{!selectedRows.length && onCreate && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\tonClick={onCreate}\n\t\t\t\t\t\ticon={<PlusOutlined />}\n\t\t\t\t\t>\n\t\t\t\t\t\t{createButtonLabel}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{otherMenu && (\n\t\t\t\t\t<Dropdown overlay={otherMenu} placement=\"bottomRight\">\n\t\t\t\t\t\t<Button>เมนูอื่นๆ</Button>\n\t\t\t\t\t</Dropdown>\n\t\t\t\t)}\n\t\t\t</Space>\n\t\t</div>\n\t);\n};\n\nTableMenu.propTypes = {\n\tselectedRows: PropTypes.array.isRequired,\n\tsetSelectedRows: PropTypes.func.isRequired,\n\tcreateButtonLabel: PropTypes.string,\n\tdeleteButtonLabel: PropTypes.string,\n\totherMenu: PropTypes.node,\n\tonCreate: PropTypes.func,\n\tonDelete: PropTypes.func,\n};\nTableMenu.defaultProps = {\n\tcreateButtonLabel: \"สร้าง\",\n\tdeleteButtonLabel: \"ลบ\",\n\tonCreate: null,\n\tonDelete: null,\n\totherMenu: null,\n};\n\nexport default TableMenu;\n","import _ from \"lodash\";\n\nconst sorter = function (a, b) {\n  var { dataIndex } = this;\n  return _.get(a, dataIndex) > _.get(b, dataIndex) ? -1 : 1;\n};\n\nconst onFilter = function (value, record) {\n  var { dataIndex, render } = this;\n  if (render) return render(record[dataIndex]) === value;\n  return record[dataIndex] === value;\n};\n\nexport const addFilter = (data) => {\n  return (column) => {\n    var filters = _.chain(data)\n      .map(column.dataIndex.join(\".\"))\n      .map(column.render || _.identity)\n      .uniq()\n      .sortBy()\n      .map((a) => ({ text: a, value: a }))\n      .value();\n    var ans = { ...column };\n    if (!column.disableSorting) ans.sorter = sorter.bind(ans);\n    if (filters.length < 50 && filters.length && !column.disableFilter) {\n      ans.onFilter = onFilter.bind(ans);\n      ans.filters = filters;\n    }\n    return ans;\n  };\n};\n","import { useRef } from \"react\";\nimport { Button } from \"antd\";\nimport PropTypes from \"prop-types\";\nimport _ from \"lodash\";\nimport React from 'react';\n\nconst FileUploader = (props) => {\n\tconst { handleFile, children, accept } = props;\n\n\tconst props2 = _.omit(props, [\"handleFile\", \"children\"]);\n\tconst hiddenFileInput = useRef(null);\n\tconst handleClick = (event) => hiddenFileInput.current.click();\n\tconst handleChange = (event) => handleFile(event.target.files[0]);\n\n\treturn (\n\t\t<>\n\t\t\t<Button {...props2} onClick={handleClick}>\n\t\t\t\t{children}\n\t\t\t</Button>\n\t\t\t<input\n\t\t\t\taccept={accept}\n\t\t\t\ttype=\"file\"\n\t\t\t\tref={hiddenFileInput}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t/>\n\t\t</>\n\t);\n};\nFileUploader.propTypes = {\n\thandleFile: PropTypes.func.isRequired,\n\tchildren: PropTypes.oneOfType([\n\t\tPropTypes.arrayOf(PropTypes.node),\n\t\tPropTypes.node,\n\t]).isRequired,\n\taccept: PropTypes.string.isRequired /*example: \".xlsx\"*/,\n};\n\nexport default FileUploader;\n","import {\n\tDownloadOutlined,\n\tUploadOutlined,\n\tEyeOutlined,\n} from \"@ant-design/icons\";\nimport PropTypes from \"prop-types\";\nimport { Menu, Button } from \"antd\";\nimport FileUpload from \"../shared/file_upload\";\nimport React from 'react';\n\nconst OtherMenu = (props) => {\n\tconst { onDownloadExcel, onUploadExcel, onExampleExcel } = props;\n\tconst { downloadExcelLabel, uploadExcelLabel, exampleExcelLabel } = props;\n\n\treturn (\n\t\t<Menu>\n\t\t\t{onDownloadExcel && (\n\t\t\t\t<Menu.Item key=\"1\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tonClick={onDownloadExcel}\n\t\t\t\t\t\ticon={<DownloadOutlined />}\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tstyle={{ textAlign: \"left\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{downloadExcelLabel}\n\t\t\t\t\t</Button>\n\t\t\t\t</Menu.Item>\n\t\t\t)}\n\t\t\t{onUploadExcel && (\n\t\t\t\t<Menu.Item key=\"2\">\n\t\t\t\t\t<FileUpload\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\thandleFile={onUploadExcel}\n\t\t\t\t\t\ticon={<UploadOutlined />}\n\t\t\t\t\t\taccept=\".xlsx\"\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tstyle={{ textAlign: \"left\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{uploadExcelLabel}\n\t\t\t\t\t</FileUpload>\n\t\t\t\t</Menu.Item>\n\t\t\t)}\n\t\t\t{onExampleExcel && (\n\t\t\t\t<Menu.Item key=\"3\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tonClick={onExampleExcel}\n\t\t\t\t\t\ticon={<EyeOutlined />}\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tstyle={{ textAlign: \"left\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{exampleExcelLabel}\n\t\t\t\t\t</Button>\n\t\t\t\t</Menu.Item>\n\t\t\t)}\n\t\t</Menu>\n\t);\n};\nOtherMenu.propTypes = {\n\tonDownloadExcel: PropTypes.func,\n\tonUploadExcel: PropTypes.func,\n\tonExampleExcel: PropTypes.func,\n\tdownloadExcelLabel: PropTypes.string,\n\tuploadExcelLabel: PropTypes.string,\n\texampleExcelLabel: PropTypes.string,\n};\nOtherMenu.defaultProps = {\n\tonDownloadExcel: null,\n\tonUploadExcel: null,\n\tonExampleExcel: null,\n\tdownloadExcelLabel: \"ดาวน์โหลด Excel\",\n\tuploadExcelLabel: \"อัพโหลด Excel\",\n\texampleExcelLabel: \"ตัวอย่าง Excel อัพโหลด\",\n};\n\nexport default OtherMenu;\n","import { useState, useRef, useEffect } from \"react\";\n\nexport const useAPI = (func, loadingInit, manualComplete) => {\n\tconst [apiState, setApiState] = useState({\n\t\tloading: !!loadingInit,\n\t\tdata: null,\n\t});\n\tconst setData = (data) => setApiState({ loading: false, data });\n\n\tconst doRun = async function (a, b) {\n\t\tsetApiState((a) => ({ loading: true, data: a.data }));\n\t\ttry {\n\t\t\tvar data = await func.apply(null, arguments);\n\t\t\tif (!manualComplete) setData(data);\n\t\t\treturn data;\n\t\t} catch (e) {\n\t\t\tsetApiState((a) => ({ loading: false, data: null }));\n\t\t\tthrow e;\n\t\t}\n\t};\n\n\treturn [apiState, doRun, setData];\n};\n\nexport const useModal = () => {\n\tconst [visible, setVisible] = useState(false);\n\tconst onClose = () => setVisible(false);\n\treturn { visible, onClose, setVisible };\n};\n\nexport const usePersistFn = (fn) => {\n\tconst fnRef = useRef(fn);\n\tfnRef.current = fn;\n\n\tconst persistFn = useRef();\n\tif (!persistFn.current)\n\t\tpersistFn.current = function (...args) {\n\t\t\treturn fnRef.current.apply(this, args);\n\t\t};\n\n\treturn persistFn.current;\n};\n\nexport const useMaxWidth = (width) => {\n\tconst [isMatch, setMatch] = useState(window.innerWidth <= width);\n\tconst listener = (a) => setMatch(a.matches);\n\t/* eslint-disable react-hooks/exhaustive-deps */\n\tuseEffect(() => {\n\t\tvar mediaQuery = window.matchMedia(`(max-width: ${width}px)`);\n\t\tmediaQuery.addListener(listener);\n\t\treturn () => mediaQuery.removeListener(listener);\n\t}, []);\n\treturn isMatch;\n};\n","import { Table, Row } from \"antd\";\nimport { useState, useMemo } from \"react\";\nimport { EditOutlined } from \"@ant-design/icons\";\nimport PropTypes from \"prop-types\";\nimport RowMenu from \"./row_menu\";\nimport TableMenu from \"./table_menu\";\nimport { addFilter } from \"./logic\";\nimport OtherMenu from \"./other_menu\";\nimport { useMaxWidth } from \"../shared/hook\";\nimport React from \"react\";\n\nconst TableComp = (props) => {\n  const { data, schema, rowButtons, onEdit, paginationSize } = props;\n  const { onDelete, onCreate, tableScroll, updateDataAtRow } = props;\n  const { loading, onDownloadExcel, onUploadExcel, onExampleExcel } = props;\n\n  const [selectedRows, setSelectedRows] = useState([]);\n\n  const columns = useMemo(() => {\n    var ans = schema.columns\n      .map(addFilter(data))\n      .filter((column) => !column.cellHide);\n\n    var rowButtons2 = [...rowButtons];\n    if (onEdit)\n      rowButtons2.unshift({ icon: <EditOutlined />, onClick: onEdit });\n\n    if (rowButtons2.length) {\n      const render = (text, record) => (\n        <RowMenu\n          buttons={rowButtons2}\n          record={record}\n          updateDataAtRow={updateDataAtRow}\n        />\n      );\n      const width = 60 * rowButtons2.length + 20;\n      ans.push({ title: \"เมนู\", width, render });\n    }\n\n    return ans;\n  }, [schema, data, rowButtons, onEdit, updateDataAtRow]);\n\n  const rowSelection = !!onDelete && {\n    selectedRowKeys: selectedRows,\n    onChange: setSelectedRows,\n  };\n\n  const smallScreen = useMaxWidth(575);\n  const tableScroll2 = smallScreen ? { x: true, y: true } : tableScroll;\n  const tableStyle = smallScreen\n    ? undefined\n    : { minWidth: Math.min(columns.length * 130, 800) };\n\n  return (\n    <>\n      <div style={{ opacity: loading ? 0.5 : 1 }}>\n        <TableMenu\n          selectedRows={selectedRows}\n          setSelectedRows={setSelectedRows}\n          onDelete={onDelete}\n          onCreate={onCreate}\n          otherMenu={\n            !onDownloadExcel && !onUploadExcel && !onExampleExcel ? null : (\n              <OtherMenu\n                onDownloadExcel={onDownloadExcel}\n                onUploadExcel={onUploadExcel}\n                onExampleExcel={onExampleExcel}\n              />\n            )\n          }\n        />\n      </div>\n      <Row>\n        <Table\n          loading={loading}\n          columns={columns}\n          dataSource={data}\n          pagination={{ defaultPageSize: paginationSize }}\n          scroll={tableScroll2}\n          rowSelection={rowSelection}\n          rowKey=\"_id\"\n          style={tableStyle}\n        />\n      </Row>\n    </>\n  );\n};\n\nTableComp.propTypes = {\n  rowButtons: PropTypes.array,\n  onCreate: PropTypes.func,\n  onDelete: PropTypes.func,\n  onEdit: PropTypes.func,\n  schema: PropTypes.object.isRequired,\n  paginationSize: PropTypes.number,\n  tableScroll: PropTypes.object,\n  loading: PropTypes.bool,\n  onDownloadExcel: PropTypes.func,\n  onUploadExcel: PropTypes.func,\n  onExampleExcel: PropTypes.func,\n  updateDataAtRow: PropTypes.func,\n};\n\nTableComp.defaultProps = {\n  rowButtons: [],\n  onDelete: null,\n  onCreate: null,\n  onEdit: null,\n  paginationSize: 20,\n  tableScroll: { y: 600, x: true },\n  loading: false,\n  onDownloadExcel: null,\n  onUploadExcel: null,\n  onExampleExcel: null,\n  updateDataAtRow: null,\n};\n\nexport default TableComp;\n","import { Modal } from \"antd\";\nimport { nanoid } from \"nanoid\";\n\nexport const alert = {\n\tsuccess: (content) => Modal.success({ content }),\n\terror: (e) => Modal.error({ content: e.message || e + \"\" }),\n};\n\nexport const appendId = (a) => {\n\tif (a._id === undefined) return { ...a, _id: nanoid() };\n\treturn a;\n};\n","import { useState } from \"react\";\nimport { setNestedObjectValues } from \"formik\";\n\nexport const calculateSpan = (formSpec, isInline) => {\n\tif (isInline)\n\t\treturn formSpec.map((a) => ({\n\t\t\t...a,\n\t\t\tcolSpan: 8,\n\t\t\tlabelCol: { span: 10 },\n\t\t\twrapperCol: { span: 14 },\n\t\t}));\n\n\tvar ans = [];\n\tvar isPreviousLeft = false;\n\tfor (var i = 0, ii = formSpec.length; i < ii; i++) {\n\t\tvar current = formSpec[i];\n\t\tif (!current.twoColumn) {\n\t\t\tans.push(current);\n\t\t\tisPreviousLeft = false;\n\t\t} else if (isPreviousLeft === false) {\n\t\t\t//left\n\t\t\tvar hasNext = formSpec[i + 1]?.twoColumn;\n\t\t\tans.push({\n\t\t\t\t...current,\n\t\t\t\tcolSpan: hasNext ? 12 : 24,\n\t\t\t\tlabelCol: hasNext ? { span: 8 } : { span: 4 },\n\t\t\t\twrapperCol: hasNext ? { span: 14 } : { span: 7 },\n\t\t\t});\n\t\t\tisPreviousLeft = true;\n\t\t} else {\n\t\t\t//right\n\t\t\tans.push({\n\t\t\t\t...current,\n\t\t\t\tcolSpan: 12,\n\t\t\t\tlabelCol: { span: 5 },\n\t\t\t\twrapperCol: { span: 15 },\n\t\t\t\tclassName: \"right-column-label\",\n\t\t\t});\n\t\t\tisPreviousLeft = false;\n\t\t}\n\t}\n\treturn ans;\n};\n\nexport const useSteps = (steps) => {\n\tconst [currentStep, setStep] = useState(steps.length ? 0 : -1);\n\tconst nextStep = () =>\n\t\tcurrentStep < steps.length - 1 && setStep(currentStep + 1);\n\tconst prevStep = () => currentStep > 0 && setStep(currentStep - 1);\n\treturn { nextStep, prevStep, currentStep };\n};\n\nexport const touchAll = async (context) => {\n\tconst errors = await context.validateForm();\n\tif (Object.keys(errors).length === 0) return true;\n\telse context.setTouched(setNestedObjectValues(errors, true));\n};\n\nexport const touchFirstSubmit = (context, ref) => {\n\tconst { executed } = ref.current;\n\tif (!context.submitCount || executed) return;\n\tif (context.isValid || context.isSubmitting) return;\n\n\tref.current.executed = true;\n\tsetTimeout(() =>\n\t\tcontext.setTouched(setNestedObjectValues(context.errors, true))\n\t);\n};\n","import React from \"react\";\nimport { SubmitButton, ResetButton } from \"formik-antd\";\nimport { useFormikContext } from \"formik\";\nimport PropTypes from \"prop-types\";\nimport { Space, Button } from \"antd\";\nimport { useRef } from \"react\";\nimport { touchAll, touchFirstSubmit } from \"./logic\";\n\nconst SubmitLine = (props) => {\n\tconst { steps, currentStep, prevStep, nextStep } = props;\n\tconst { submitButtonLabel, resetButtonLabel } = props;\n\n\tconst context = useFormikContext();\n\tconst touch = useRef({ executed: false });\n\tconst submitStyle =\n\t\tsteps.length - 1 <= currentStep ? undefined : { display: \"none\" };\n\n\tconst next = async () => {\n\t\tconst success = await touchAll(context);\n\t\tif (success) nextStep();\n\t};\n\n\ttouchFirstSubmit(context, touch);\n\n\treturn (\n\t\t<center style={steps.length ? { marginTop: 10 } : null}>\n\t\t\t<Space>\n\t\t\t\t{steps.length && currentStep ? (\n\t\t\t\t\t<Button onClick={prevStep}>ย้อนกลับ</Button>\n\t\t\t\t) : null}\n\t\t\t\t{steps.length && steps.length - 1 > currentStep ? (\n\t\t\t\t\t<Button type=\"primary\" onClick={next}>\n\t\t\t\t\t\tถ้ดไป\n\t\t\t\t\t</Button>\n\t\t\t\t) : null}\n\t\t\t\t{!steps.length ? (\n\t\t\t\t\t<ResetButton>{resetButtonLabel}</ResetButton>\n\t\t\t\t) : null}\n\t\t\t\t<SubmitButton\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\tstyle={submitStyle}\n\t\t\t\t\tdisabled={false}\n\t\t\t\t>\n\t\t\t\t\t{submitButtonLabel}\n\t\t\t\t</SubmitButton>\n\t\t\t</Space>\n\t\t</center>\n\t);\n};\n\nSubmitLine.propTypes = {\n\tcurrentStep: PropTypes.number.isRequired,\n\tprevStep: PropTypes.func.isRequired,\n\tnextStep: PropTypes.func.isRequired,\n\tsteps: PropTypes.array.isRequired,\n\tresetButtonLabel: PropTypes.string,\n\tsubmitButtonLabel: PropTypes.string,\n};\n\nSubmitLine.defaultProps = {\n\tresetButtonLabel: \"ล้างค่า\",\n\tsubmitButtonLabel: \"ยืนยัน\",\n};\n\nexport default SubmitLine;\n","import PropTypes from \"prop-types\";\nimport { Input } from \"formik-antd\";\nimport { useState, useEffect, useRef, memo } from \"react\";\nimport _ from \"lodash\";\nimport React from \"react\";\nimport { Typography, Divider, Col, Row, Button } from \"antd\";\nimport { CloseOutlined } from \"@ant-design/icons\";\nimport { FieldArray } from \"formik\";\nimport { usePersistFn } from \"../../shared/hook\";\n\nconst OMIT_FIELDS = [\"loadBarcodeName\"];\nconst { Text } = Typography;\n\nconst Barcode = (props) => {\n  const { loadBarcodeName, name } = props;\n\n  const props2 = _.omit(props, OMIT_FIELDS);\n  const [barcodes, setBarcodes] = useState([]);\n  const [inputValue, setInputValue] = useState(\"\");\n  const ref = useRef(null);\n\n  const onKeyDown = usePersistFn(async (event) => {\n    if (event.key !== \"Enter\") return;\n    if (ref.current) ref.current.push(inputValue);\n    setBarcodes((a) => [...a, { inputValue, _id: Math.random() }]);\n    setInputValue(\"\");\n    event.preventDefault();\n  });\n\n  const remove = usePersistFn((index) => {\n    if (ref.current) ref.current.remove(index);\n    setBarcodes((a) => a.filter((a, i) => i !== index));\n  });\n\n  const render = usePersistFn((helpers) => {\n    ref.current = helpers;\n    return (\n      <>\n        <Input\n          {...props2}\n          onKeyDown={onKeyDown}\n          validator={null}\n          name={\"$\" + name}\n          value={inputValue}\n          onChange={(event) => setInputValue(event.target.value)}\n        />\n        <Divider />\n        {barcodes.map((a, i) => (\n          <BarcodeLine\n            key={a._id}\n            index={i}\n            loadItemName={loadBarcodeName}\n            name={name}\n            remove={remove}\n            value={a.inputValue}\n          />\n        ))}\n      </>\n    );\n  });\n\n  return <FieldArray name={name} render={render} />;\n};\n\nBarcode.propTypes = {\n  loadBarcodeName: PropTypes.func.isRequired,\n};\n\nBarcode.defaultProps = {};\n\nconst BarcodeLine = memo((props) => {\n  const { index, loadItemName, name, value, remove } = props;\n  const [itemName, setItemName] = useState(\"\");\n\n  /* eslint-disable react-hooks/exhaustive-deps */\n  useEffect(() => {\n    loadItemName(value)\n      .then((a) => setItemName(a || \"ไม่พบข้อมูล\"))\n      .catch(() => setItemName(\"ไม่พบข้อมูล\"));\n  }, []);\n\n  return (\n    <>\n      <Row>\n        <Col span={8}>\n          <Input\n            disabled={true}\n            size=\"small\"\n            style={{ marginBottom: 5 }}\n            name={name + `[${index}]`}\n          />\n        </Col>\n        <Col span={16}>\n          <Button\n            icon={<CloseOutlined />}\n            size=\"small\"\n            shape=\"circle\"\n            style={{ marginLeft: 20 }}\n            onClick={() => remove(index)}\n          />\n          <Text style={{ marginLeft: 20 }}>{itemName}</Text>\n        </Col>\n      </Row>\n    </>\n  );\n});\n\nexport default Barcode;\n","import _ from \"lodash\";\nimport React, { useEffect, useState } from \"react\";\nimport { useFormikContext } from \"formik\";\nimport { Cascader } from \"antd\";\nimport PropTypes from \"prop-types\";\n\nconst CascaderStatic = (props) => {\n\tconst { names, fieldNames, name, notFound } = props;\n\tconst { cascaderOptions: options, notFoundText: nft } = props;\n\tconst { setFieldValue, values } = useFormikContext();\n\tconst [options2, setOptions2] = useState([]);\n\tconst { label: l, value: v, children: c } = fieldNames;\n\tconst [value, setValue] = useState([]);\n\tconst diffValue = convertNames(names, []).map((a) => _.get(values, a));\n\n\tconst syncToOtherFields = (value) => {\n\t\tvar notFound = false;\n\t\tconvertNames(names, value).forEach((a, i) => {\n\t\t\tif (!a) return;\n\t\t\tif (value[i] === nft) {\n\t\t\t\tnotFound = true;\n\t\t\t\tsetFieldValue(a, \"\", false);\n\t\t\t} else setFieldValue(a, value[i], false);\n\t\t});\n\t\tif (notFound) setFieldValue(name + \".$notFound\", true, false);\n\t};\n\n\tconst filter = (inputValue, path) =>\n\t\tpath.some(\n\t\t\t(a) => a[l].toLowerCase().indexOf(inputValue.toLowerCase()) > -1\n\t\t);\n\n\tuseEffect(() => {\n\t\tif (!notFound) setOptions2(options);\n\t\telse setOptions2(appendNotFoundText(options, l, c, v, nft));\n\t}, [notFound, options, l, c, v, nft]);\n\n\tuseEffect(() => {\n\t\tvar data = syncFromOtherFields(values, names, options, l, c, v, nft);\n\t\tsetValue(data.ans);\n\t\tif (data.notFound && data.ans.length)\n\t\t\tsetFieldValue(name + \".$notFound\", true, false);\n\t\t/* eslint-disable react-hooks/exhaustive-deps */\n\t}, [...diffValue, options, l, c, v, nft]);\n\n\tconst displayRender = (labels) => {\n\t\tif (!value.length) return null;\n\t\tconst value2 = [];\n\t\tconst names2 = convertNames(names, value);\n\t\tfor (let i = 0, ii = value.length; i < ii; i++)\n\t\t\tif (names2[i]) value2.push(labels[i] || value[i]);\n\t\treturn value2.join(\" / \");\n\t};\n\n\treturn (\n\t\t<Cascader\n\t\t\t{..._.omit(props, [\n\t\t\t\t\"names\",\n\t\t\t\t\"notFound\",\n\t\t\t\t\"notFoundText\",\n\t\t\t\t\"cascaderOptions\",\n\t\t\t])}\n\t\t\toptions={options2}\n\t\t\tshowSearch={{ filter }}\n\t\t\tonChange={syncToOtherFields}\n\t\t\tdisplayRender={displayRender}\n\t\t\tfieldNames={fieldNames}\n\t\t\tvalue={value}\n\t\t\tname={name + \".$value\"}\n\t\t/>\n\t);\n};\n\nconst convertNames = (names, value) => {\n\tif (Array.isArray(names)) return names;\n\tvar ans = [];\n\tans[value.length ? value.length - 1 : 0] = names;\n\treturn ans;\n};\n\nconst appendNotFoundText = (nodeArray, l, c, v, nft) => {\n\tvar ans = [];\n\tvar isLeaf = false;\n\tfor (var node of nodeArray) {\n\t\tvar newNode = { ...node };\n\t\tif (node[c]) newNode[c] = appendNotFoundText(node[c], l, c, v, nft);\n\t\telse isLeaf = true;\n\t\tans.push(newNode);\n\t}\n\tif (isLeaf) ans.push({ [l]: nft, [v]: nft });\n\treturn ans;\n};\n\nconst syncFromOtherFields = (values, names, node, l, c, v, nft) => {\n\tvar notFound = false;\n\tvar ans = [];\n\tif (Array.isArray(names)) {\n\t\tnames.forEach((name, i) => {\n\t\t\tvar newNode = node.find((a) => a[v] === _.get(values, name));\n\t\t\tif (!newNode) notFound = true;\n\t\t\telse if (newNode[c]) node = newNode[c];\n\t\t});\n\t\tnames.forEach((name, i) => {\n\t\t\tconst theValue = _.get(values, name);\n\t\t\tif (!name || !theValue) return;\n\t\t\tans[i] = theValue === nft ? \"\" : theValue;\n\t\t});\n\t} else {\n\t\tvar lastValue = _.get(values, names);\n\t\tvar traverse = (nodeArray, path) => {\n\t\t\tfor (var node of nodeArray) {\n\t\t\t\tif (node[v] === lastValue) {\n\t\t\t\t\tans = [...path, node[v]];\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (node[c]) {\n\t\t\t\t\tvar ret = traverse(node[c], [...path, node[v]]);\n\t\t\t\t\tif (!ret) return false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\t\tnotFound = traverse(node, []);\n\t}\n\treturn { ans, notFound };\n};\n\nCascaderStatic.propTypes = {\n\tname: PropTypes.string.isRequired,\n\tnotFound: PropTypes.bool,\n\tnotFoundText: PropTypes.string,\n\tnames: PropTypes.oneOfType([PropTypes.string, PropTypes.array]).isRequired,\n\tfieldNames: PropTypes.object,\n\tcascaderOptions: PropTypes.array.isRequired,\n};\n\nCascaderStatic.defaultProps = {\n\tnotFound: false,\n\tnotFoundText: \"อื่นๆ\",\n\tfieldNames: undefined,\n};\n\nexport default CascaderStatic;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { FieldArray, useFormikContext } from \"formik\";\nimport PropTypes from \"prop-types\";\nimport { Upload, Button } from \"antd\";\nimport { UploadOutlined } from \"@ant-design/icons\";\nimport { alert } from \"../../controller/util\";\nimport { usePersistFn } from \"../../shared/hook\";\nimport _ from \"lodash\";\n\nconst FileUpload = (props) => {\n  const { name, label, multiple, accept, dataType, disabled } = props;\n  const { uploadFileType, uploadFile, uploadFileInit } = props;\n  const [fileListState, setFileListState] = useState([]);\n  const { values, setFieldValue } = useFormikContext();\n  const abortRef = useRef(null);\n  if (abortRef.current === null) abortRef.current = new AbortController();\n\n  useEffect(() => {\n    let value = _.get(values, name);\n    if (typeof value === \"string\") value = [value];\n    if (Array.isArray(value)) setFileListState(value.map(urlToFileList));\n    uploadFileInit();\n    return () => abortRef.current.abort();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [name]);\n\n  const onUpload = usePersistFn(async (options) => {\n    const { onSuccess, onError, file } = options;\n    if (!file) return;\n\n    try {\n      const uploadURL = await uploadFile(file);\n      if (!abortRef.current.signal.aborted)\n        onSuccess({\n          status: 200,\n          uri: uploadURL.split(/[#?]/)[0],\n          url: URL.createObjectURL(file),\n        });\n    } catch (error) {\n      console.error(error);\n      onError({});\n      alert.error(\"อัพโหลดไฟล์ไม่สำเร็จ\");\n    }\n  });\n\n  const onChangeFile = usePersistFn((info) => {\n    let newFileList = info.fileList.slice(multiple ? 0 : -1);\n    newFileList = newFileList.map((file) => {\n      if (file.response) {\n        file.uri = file.response.uri;\n        file.url = file.response.url;\n      }\n      return file;\n    });\n    setFileListState(newFileList);\n\n    let listFile = newFileList.map((a) => a.uri).filter((a) => !!a);\n    if (dataType === \"string\") listFile = listFile[0];\n    setFieldValue(name, listFile, false);\n  });\n\n  const renderHelper = usePersistFn(() => {\n    return (\n      <>\n        <Upload\n          name={name}\n          listType={uploadFileType === \"image\" ? \"picture\" : null}\n          multiple={multiple}\n          accept={accept}\n          fileList={fileListState}\n          onChange={onChangeFile}\n          customRequest={onUpload}\n          disabled={disabled}\n        >\n          <Button icon={<UploadOutlined />} disabled={disabled}>\n            {label}\n          </Button>\n        </Upload>\n      </>\n    );\n  });\n\n  return <FieldArray name={name} render={renderHelper} />;\n};\n\nFileUpload.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  multiple: PropTypes.bool,\n  accept: PropTypes.string,\n  uploadFile: PropTypes.func.isRequired,\n  uploadFileInit: PropTypes.func,\n  uploadFileType: PropTypes.oneOf([\"image\", \"file\"]).isRequired,\n  dataType: PropTypes.oneOf([\"string\", \"array\"]).isRequired,\n  disabled: PropTypes.bool,\n};\n\nFileUpload.defaultProps = {\n  label: \"อัพโหลดไฟล์\",\n  multiple: false,\n  accept: \"*\",\n  disabled: false,\n  uploadFileInit: _.noop,\n};\n\nconst urlToFileList = (a) => ({\n  name: encodeURIComponent(a.split(/[#?]/)[0].split(/\\//).pop()),\n  url: a,\n  uri: a,\n});\n\nexport default FileUpload;\n","import PropTypes from \"prop-types\";\nimport {\n\tInput,\n\tInputNumber,\n\tCheckbox,\n\tDatePicker,\n\tForm,\n\tSelect,\n\tSwitch,\n} from \"formik-antd\";\nimport Barcode from \"./components/barcode\";\nimport CascaderStatic from \"./components/cascader_static\";\nimport FileUpload from \"./components/file_upload\";\nimport moment from \"moment\";\nimport React from \"react\";\nimport { Col, Divider } from \"antd\";\n\nconst { WeekPicker, MonthPicker } = DatePicker;\n\nconst Field = (props) => {\n\tconst { fieldType, label, required, name, validate, meta } = props;\n\tconst { labelCol, wrapperCol, colSpan, offset, className } = props;\n\tconst { containerStyle, onFieldRender, type, appendDivider } = props;\n\tconst props2 = { ...meta, name };\n\n\treturn (\n\t\t<>\n\t\t\t<Col\n\t\t\t\tspan={colSpan || 24}\n\t\t\t\toffset={offset}\n\t\t\t\tclassName={className}\n\t\t\t\tstyle={containerStyle}\n\t\t\t>\n\t\t\t\t<Form.Item\n\t\t\t\t\tlabel={label}\n\t\t\t\t\trequired={required}\n\t\t\t\t\tname={name}\n\t\t\t\t\tvalidate={validate}\n\t\t\t\t\tlabelCol={labelCol}\n\t\t\t\t\twrapperCol={wrapperCol}\n\t\t\t\t>\n\t\t\t\t\t{fieldType === \"Custom\" &&\n\t\t\t\t\t\tonFieldRender &&\n\t\t\t\t\t\tonFieldRender(props2)}\n\t\t\t\t\t{fieldType === \"Barcode\" && (\n\t\t\t\t\t\t<Barcode\n\t\t\t\t\t\t\tplaceholder=\"พิมพ์แล้วกด Enter เช่น a001\"\n\t\t\t\t\t\t\t{...props2}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"CascaderStatic\" && (\n\t\t\t\t\t\t<CascaderStatic {...props2} />\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"Checkbox\" && <Checkbox {...props2} />}\n\t\t\t\t\t{fieldType === \"DatePicker\" && (\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\tplaceholder=\"เลือกวันที่\"\n\t\t\t\t\t\t\t{...props2}\n\t\t\t\t\t\t\tdefaultValue={\n\t\t\t\t\t\t\t\tprops2.defaultValue &&\n\t\t\t\t\t\t\t\tmoment(props2.defaultValue)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstyle={{ ...props2.style, width: \"100%\" }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"WeekPicker\" && <WeekPicker {...props2} />}\n\t\t\t\t\t{fieldType === \"MonthPicker\" && <MonthPicker {...props2} />}\n\t\t\t\t\t{fieldType === \"Input\" && <Input {...props2} />}\n\t\t\t\t\t{fieldType === \"InputEmail\" && (\n\t\t\t\t\t\t<Input {...props2} type=\"email\" />\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"InputNumber\" && (\n\t\t\t\t\t\t<InputNumber\n\t\t\t\t\t\t\t{...props2}\n\t\t\t\t\t\t\tstyle={{ ...props2.style, width: \"100%\" }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"InputURL\" && (\n\t\t\t\t\t\t<Input {...props2} type=\"url\" />\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"InputPhone\" && (\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tplaceholder=\"เช่น 0811111111\"\n\t\t\t\t\t\t\t{...props2}\n\t\t\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"InputPassword\" && (\n\t\t\t\t\t\t<Input.Password {...props2} />\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"TextArea\" && <Input.TextArea {...props2} />}\n\t\t\t\t\t{fieldType === \"Select\" && (\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tplaceholder=\"เลือก\"\n\t\t\t\t\t\t\t{...props2}\n\t\t\t\t\t\t\tstyle={{ ...props2.style, textAlign: \"left\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{props2.valid &&\n\t\t\t\t\t\t\t\tObject.entries(props2.valid).map(([k, v]) => (\n\t\t\t\t\t\t\t\t\t<Select.Option key={k} value={k}>\n\t\t\t\t\t\t\t\t\t\t{v}\n\t\t\t\t\t\t\t\t\t</Select.Option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t)}\n\t\t\t\t\t{fieldType === \"Switch\" && <Switch {...props2} />}\n\t\t\t\t\t{fieldType === \"FileUpload\" && (\n\t\t\t\t\t\t<FileUpload {...props2} dataType={type} />\n\t\t\t\t\t)}\n\t\t\t\t</Form.Item>\n\t\t\t</Col>\n\t\t\t{appendDivider && (\n\t\t\t\t<Col span={20} offset={2}>\n\t\t\t\t\t<Divider style={{ marginBottom: 48 }} />{\" \"}\n\t\t\t\t</Col>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nField.propTypes = {\n\tfieldType: PropTypes.oneOf([\n\t\t\"Barcode\",\n\t\t\"Checkbox\",\n\t\t\"DatePicker\",\n\t\t\"WeekPicker\",\n\t\t\"MonthPicker\",\n\t\t\"Input\",\n\t\t\"InputNumber\",\n\t\t\"InputPhone\",\n\t\t\"InputEmail\",\n\t\t\"InputURL\",\n\t\t\"InputPassword\",\n\t\t\"TextArea\",\n\t\t\"Select\",\n\t\t\"Switch\",\n\t\t\"FileUpload\",\n\t\t\"Custom\",\n\t\t\"CascaderStatic\",\n\t]).isRequired,\n\tname: PropTypes.string.isRequired,\n\tvalidate: PropTypes.func.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\trequired: PropTypes.bool.isRequired,\n\tmeta: PropTypes.object.isRequired,\n\tcolSpan: PropTypes.number,\n\toffset: PropTypes.number,\n\tlabelCol: PropTypes.object,\n\twrapperCol: PropTypes.object,\n\tclassName: PropTypes.string,\n\tcontainerStyle: PropTypes.object,\n\tonFieldRender: PropTypes.func,\n\tappendDivider: PropTypes.bool,\n};\nField.defaultProps = {\n\tlabelCol: undefined,\n\twrapperCol: undefined,\n\tcolSpan: undefined,\n\toffset: undefined,\n\tclassName: undefined,\n\tcontainerStyle: undefined,\n\tonFieldRender: undefined,\n\tappendDivider: false,\n};\n\nexport default Field;\n","import PropTypes from \"prop-types\";\nimport React, { useMemo } from \"react\";\nimport { useFormikContext } from \"formik\";\nimport Field from \"./field\";\nimport { calculateSpan } from \"./logic\";\n\nconst InnerForm = (props) => {\n\tconst { formSpec, inline, currentStep } = props;\n\tconst { values } = useFormikContext();\n\n\tconst formSpec2 = useMemo(() => {\n\t\treturn calculateSpan(\n\t\t\tformSpec.filter((spec) => {\n\t\t\t\tconst { fieldHide, step } = spec;\n\t\t\t\tif (typeof fieldHide === \"function\") {\n\t\t\t\t\tif (fieldHide(values)) return false;\n\t\t\t\t} else if (fieldHide) return false;\n\t\t\t\tif (currentStep !== -1 && currentStep !== step) return false;\n\t\t\t\treturn true;\n\t\t\t}),\n\t\t\tinline\n\t\t);\n\t}, [formSpec, values, inline, currentStep]);\n\n\treturn formSpec2.map((props) => (\n\t\t<Field {...props} key={props.name} currentStep={currentStep} />\n\t));\n};\n\nInnerForm.propTypes = {\n\tformSpec: PropTypes.array.isRequired,\n\tinline: PropTypes.bool.isRequired,\n\tcurrentStep: PropTypes.number.isRequired,\n};\n\nexport default InnerForm;\n","import { Form, SubmitButton } from \"formik-antd\";\nimport { Formik } from \"formik\";\nimport PropTypes from \"prop-types\";\nimport { Row, Col, Divider, Steps } from \"antd\";\nimport { useSteps } from \"./logic\";\nimport React from \"react\";\nimport SubmitLine from \"./submit_line\";\nimport _ from \"lodash\";\nimport InnerForm from \"./inner-form\";\nimport { usePersistFn } from \"../shared/hook\";\n\nconst { Step } = Steps;\n\nconst CombinedForm = (props) => {\n\tconst { onSubmit, inline, initialValues, steps } = props;\n\tconst { resetButtonLabel, submitButtonLabel, schema } = props;\n\tconst { nextStep, prevStep, currentStep } = useSteps(steps);\n\n\tconst onSubmit2 = usePersistFn(async (postData, actions) => {\n\t\tvar names = schema.formSpec.map((a) => a.name);\n\t\tvar ans = _.pick(\n\t\t\tpostData,\n\t\t\tnames.filter((a) => !/^\\$|\\.\\$/.test(a))\n\t\t);\n\t\tawait onSubmit(ans, actions, postData);\n\t});\n\n\treturn (\n\t\t<Formik\n\t\t\tinitialValues={initialValues || schema.toDefaultValues()}\n\t\t\tonSubmit={onSubmit2}\n\t\t>\n\t\t\t{() => (\n\t\t\t\t<Form\n\t\t\t\t\tlabelCol={{ span: 4 }}\n\t\t\t\t\twrapperCol={{ span: 18 }}\n\t\t\t\t\tcolon={!inline}\n\t\t\t\t>\n\t\t\t\t\t{steps.length ? (\n\t\t\t\t\t\t<Row style={{ marginBottom: 40, marginTop: 20 }}>\n\t\t\t\t\t\t\t<Col offset={2} span={20}>\n\t\t\t\t\t\t\t\t<Steps size=\"small\" current={currentStep}>\n\t\t\t\t\t\t\t\t\t{steps.map((a) => (\n\t\t\t\t\t\t\t\t\t\t<Step key={a} title={a} />\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Steps>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t) : null}\n\n\t\t\t\t\t<Row gutter={8} justify={inline ? \"center\" : undefined}>\n\t\t\t\t\t\t<InnerForm\n\t\t\t\t\t\t\tformSpec={schema.formSpec}\n\t\t\t\t\t\t\tcurrentStep={currentStep}\n\t\t\t\t\t\t\tinline={inline}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{inline && (\n\t\t\t\t\t\t\t<Col span={4}>\n\t\t\t\t\t\t\t\t<SubmitButton\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 24 }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{submitButtonLabel}\n\t\t\t\t\t\t\t\t</SubmitButton>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Row>\n\t\t\t\t\t{inline && <Divider style={{ marginTop: 10 }} />}\n\t\t\t\t\t{!inline && (\n\t\t\t\t\t\t<SubmitLine\n\t\t\t\t\t\t\tsteps={steps}\n\t\t\t\t\t\t\tcurrentStep={currentStep}\n\t\t\t\t\t\t\tprevStep={prevStep}\n\t\t\t\t\t\t\tnextStep={nextStep}\n\t\t\t\t\t\t\tsubmitButtonLabel={submitButtonLabel}\n\t\t\t\t\t\t\tresetButtonLabel={resetButtonLabel}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Form>\n\t\t\t)}\n\t\t</Formik>\n\t);\n};\n\nCombinedForm.propTypes = {\n\tinitialValues: PropTypes.any,\n\tonSubmit: PropTypes.func.isRequired,\n\tschema: PropTypes.object,\n\tinline: PropTypes.bool,\n\tsteps: PropTypes.array,\n};\n\nCombinedForm.defaultProps = {\n\tinitialValues: null,\n\tschema: null,\n\tinline: false,\n\tsteps: [],\n};\n\nexport default CombinedForm;\n","import { Typography } from \"antd\";\nimport PropTypes from \"prop-types\";\nimport React from 'react';\n\nconst { Title, Paragraph } = Typography;\n\nconst Header = (props) => {\n\tconst { title, description, name, small, icon } = props;\n\tconst { headerContainerStyle, titleStyle, descriptionStyle } = props;\n\n\tconst name2 = name.length && /[a-z]/i.test(name[0]) ? \" \" + name : name;\n\tconst title2 = title || `ข้อมูล${name2}`;\n\n\treturn (\n\t\t<div style={headerContainerStyle}>\n\t\t\t<Title level={small ? 3 : 2} style={titleStyle}>\n\t\t\t\t{icon} {title2}\n\t\t\t</Title>\n\t\t\t{description && (\n\t\t\t\t<Paragraph style={descriptionStyle}>{description}</Paragraph>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nHeader.propTypes = {\n\ttitle: PropTypes.string,\n\tdescription: PropTypes.string,\n\tname: PropTypes.string,\n\theaderContainerStyle: PropTypes.object,\n\tsmall: PropTypes.bool,\n\ticon: PropTypes.node,\n};\n\nHeader.defaultProps = {\n\ttitle: \"\",\n\tdescription: \"\",\n\tname: \"\",\n\theaderContainerStyle: { marginBottom: 20, textAlign: \"center\" },\n\ttitleStyle: {},\n\tdescriptionStyle: { textAlign: \"left\" },\n\tsmall: false,\n\ticon: null,\n};\n\nexport default Header;\n","import PropTypes from \"prop-types\";\nimport { Modal, Alert } from \"antd\";\nimport Form from \"../formik/form\";\nimport Header from \"./header\";\nimport React from \"react\";\n\nconst EditModal = (props) => {\n\tconst { visible, onClose, isEdit, schema, onSubmit, steps } = props;\n\tconst { createHeader, editHeader, error, initialValue } = props;\n\tconst title = steps.length ? \"\" : isEdit ? editHeader : createHeader;\n\n\t//need to unmount in order for initialValue to work\n\tif (!visible) return null;\n\n\treturn (\n\t\t<Modal\n\t\t\tcentered\n\t\t\tvisible={visible}\n\t\t\twidth={800}\n\t\t\tfooter={null}\n\t\t\tonCancel={onClose}\n\t\t\tmaskClosable={false}\n\t\t>\n\t\t\t{title && <Header title={title} small />}\n\t\t\t{error && (\n\t\t\t\t<Alert\n\t\t\t\t\tmessage={error.message || error}\n\t\t\t\t\ttype=\"error\"\n\t\t\t\t\tshowIcon\n\t\t\t\t\tstyle={{ margin: 30, marginBottom: 20, marginTop: -10 }}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<Form\n\t\t\t\tinitialValues={initialValue}\n\t\t\t\tschema={schema}\n\t\t\t\tonSubmit={onSubmit}\n\t\t\t\tsteps={steps}\n\t\t\t/>\n\t\t</Modal>\n\t);\n};\n\nEditModal.propTypes = {\n\tisEdit: PropTypes.bool.isRequired,\n\tvisible: PropTypes.bool.isRequired,\n\tonClose: PropTypes.func.isRequired,\n\tschema: PropTypes.object.isRequired,\n\tsteps: PropTypes.array.isRequired,\n\teditHeader: PropTypes.string,\n\tcreateHeader: PropTypes.string,\n\terror: PropTypes.instanceOf(Error),\n\tinitialValue: PropTypes.object,\n\tonSubmit: PropTypes.func.isRequired,\n};\n\nEditModal.defaultProps = {\n\tcreateHeader: \"เพิ่มข้อมูลใหม่\",\n\teditHeader: \"แก้ไขข้อมูล\",\n\terror: null,\n\tinitialValue: undefined,\n};\n\nexport default EditModal;\n","const errorTranslation = {\n\t\"any.required\": \"จำเป็นต้องกรอก\",\n\t\"string.empty\": \"จำเป็นต้องกรอก\",\n\t\"string.uri\": \"URL ไม่ถูกต้อง\",\n\t\"string.min\": (errorObj) =>\n\t\t`ต้องกรอกไม่ต่ำกว่า ${errorObj.context.limit} ตัวอักษร`,\n\t\"string.max\": (errorObj) =>\n\t\t`ต้องกรอกไม่เกิน ${errorObj.context.limit} ตัวอักษร`,\n\t\"string.email\": \"อีเมลไม่ถูกต้อง\",\n\t\"number.base\": \"ต้องเป็นตัวเลข\",\n};\n\nexport const getErrorMessage = (errorObj, label) => {\n\tlabel = label || errorObj?.context?.label;\n\n\tvar { message, type, context } = errorObj;\n\tif (type === \"any.custom\") return context?.error?.message;\n\tif (/[ก-ฮ]/.test(message.replace(/\"[^\"]+\"/g, \"\"))) return message;\n\tif (/pattern/.test(type) && label)\n\t\tif (/fails to match the required pattern/.test(message))\n\t\t\treturn `${label}ไม่ถูกต้อง`;\n\t\telse return message;\n\n\tvar found = errorTranslation[type];\n\tif (!found && label) return `${label}ไม่ถูกต้อง (${message})`;\n\tif (!found) return `ค่าไม่ถูกต้อง (${message})`;\n\n\tif (typeof found === \"string\") return found;\n\treturn found(errorObj);\n};\n","import Joi from \"joi/lib/index\";\n\n// https://stackoverflow.com/questions/42370881/allow-string-to-be-null-or-empty-in-joi-and-express-validation\n// https://github.com/sideway/joi/issues/482\nexport const fixEmptyString = (joiObj, describeObj) => {\n\tconst traverse = (node, path, ans) => {\n\t\tif (node?.flags?.label && node?.type === \"string\")\n\t\t\tif (node?.flags?.presence !== \"required\") ans.push(path);\n\n\t\tvar keys = node.keys;\n\t\tif (keys)\n\t\t\tfor (var key in keys) traverse(keys[key], [...path, key], ans);\n\t};\n\n\tvar paths = [];\n\ttraverse(describeObj, [], paths);\n\treturn joiObj.fork(paths, (schema) => schema.allow(\"\"));\n};\n\nexport const handleDevMode = (joiObj, describeObj) => {\n\tconst traverse = (node, path) => {\n\t\tif (node?.flags?.label && node?.flags?.presence) {\n\t\t\tdelete node.flags.presence;\n\t\t\tpaths.push(path);\n\t\t}\n\n\t\tvar keys = node.keys;\n\t\tif (keys) for (var key in keys) traverse(keys[key], [...path, key]);\n\t};\n\n\tconst paths = [];\n\ttraverse(describeObj, []);\n\treturn joiObj.fork(paths, (a) => a.optional());\n};\n\nexport const handleFieldHide = (joiObj, describeObj) => {\n\tconst traverse = (node, path, ans) => {\n\t\tif (node?.flags?.label && node?.metas?.[0]?.fieldHide) ans.push(path);\n\n\t\tvar keys = node.keys;\n\t\tif (keys)\n\t\t\tfor (var key in keys) traverse(keys[key], [...path, key], ans);\n\t};\n\n\tvar paths = [];\n\ttraverse(describeObj, [], paths);\n\treturn joiObj.fork(paths, (schema) => schema.optional());\n};\n\nexport const prepare = (joiObj, describeObj, devMode) => {\n\tjoiObj = fixEmptyString(joiObj, describeObj);\n\tif (devMode) joiObj = handleDevMode(joiObj, describeObj);\n\tjoiObj = handleFieldHide(joiObj, describeObj);\n\treturn joiObj.append({ _id: Joi.any() });\n};\n","export const IMAGE_FALLBACK =\n  \"data:image/png;base64,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\";\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Image } from \"antd\";\nimport { IMAGE_FALLBACK } from \"../../assets/fallback_image\";\n\nconst ColImage = (props) => {\n  const { src, width } = props;\n\n  if (typeof src === \"string\")\n    return <Image src={src} width={width} fallback={IMAGE_FALLBACK} />;\n\n  if (!Array.isArray(src))\n    return <Image src=\"error\" width={width} fallback={IMAGE_FALLBACK} />;\n\n  return (\n    <Image.PreviewGroup>\n      {src.map((item, index) => (\n        <Image\n          key={index.toString()}\n          src={item}\n          width={width}\n          style={{ padding: \"0 0.5rem 0.5rem 0\" }}\n          fallback={IMAGE_FALLBACK}\n        />\n      ))}\n    </Image.PreviewGroup>\n  );\n};\n\nColImage.propTypes = {\n  src: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  width: PropTypes.number,\n};\n\nColImage.defaultProps = {\n  width: 100,\n};\n\nexport default ColImage;\n","import Joi from \"joi/lib/index\";\nimport { getErrorMessage } from \"./error_message\";\nimport _ from \"lodash\";\nimport numeral from \"numeral\";\nimport moment from \"moment\";\nimport { prepare } from \"./prepare_joi\";\nimport React from \"react\";\nimport ColImage from \"../formik/components/col_image\";\n\nconst OMIT_META = [\n\t\"twoColumn\",\n\t\"defaultValue\",\n\t\"fieldType\",\n\t\"validLabel\",\n\t\"cellFormat\",\n\t\"cellWidth\",\n\t\"cellEllipsis\",\n\t\"cellHide\",\n\t\"fieldHide\",\n\t\"containerStyle\",\n\t\"step\",\n\t\"disableSorting\",\n\t\"disableFilter\",\n\t\"onFieldRender\",\n\t\"appendDivider\",\n];\n\nclass JoiWrapper {\n\tconstructor(joiObj, devMode) {\n\t\tif (!Joi.isSchema(joiObj)) throw new Error(\"Invalid Joi Object\");\n\n\t\tthis.describe = joiObj.describe();\n\t\tthis.joiObj = prepare(joiObj, this.describe, devMode);\n\t\tthis.formSpec = [];\n\t\ttraverse(this.describe, [], this.formSpec, this.joiObj);\n\t\thandleCellShow(this.formSpec);\n\t\tthis.columns = this.formSpec.map((a) => a.column);\n\t\tthis.toDefaultValues = this.toDefaultValues.bind(this);\n\t}\n\n\ttoDefaultValues() {\n\t\tif (!this.defaultValues) {\n\t\t\tvar ans = (this.defaultValues = {});\n\t\t\tfor (var { name, defaultValue } of this.formSpec) {\n\t\t\t\tif (typeof defaultValue === \"function\")\n\t\t\t\t\tdefaultValue = defaultValue();\n\t\t\t\tif (defaultValue !== undefined) _.set(ans, name, defaultValue);\n\t\t\t}\n\t\t}\n\t\treturn this.defaultValues;\n\t}\n}\n\nconst traverse = (node, path, ans, joiObj) => {\n\tif (node?.flags?.label) ans.push(new JoiField(node, path, joiObj));\n\n\tvar keys = node.keys;\n\tif (keys)\n\t\tfor (var key in keys) traverse(keys[key], [...path, key], ans, joiObj);\n};\n\nconst handleCellShow = (formSpec) => {\n\tvar hasCellShow = false;\n\tfor (var item of formSpec)\n\t\tif (item.meta.cellShow) {\n\t\t\thasCellShow = true;\n\t\t\tbreak;\n\t\t}\n\n\tif (hasCellShow)\n\t\tfor (var spec of formSpec)\n\t\t\tif (spec.meta.cellShow) delete spec.meta.cellShow;\n\t\t\telse spec.column.cellHide = true;\n};\n\nclass JoiField {\n\tconstructor(field, path, joiObj) {\n\t\tvar meta = this.getMeta(field);\n\n\t\tthis.required = field?.flags?.presence === \"required\";\n\t\tthis.label = field?.flags?.label;\n\t\tthis.name = path.join(\".\");\n\t\tthis.fieldType = this.guessFieldType(field, meta);\n\t\tthis._extractedSchema = this.getExtractedSchema(joiObj, path);\n\t\tthis.validate = this.validate.bind(this);\n\t\tthis.type = field.type;\n\t\tthis.defaultValue = field?.flags?.default;\n\t\tthis.column = this.getColumn(meta, this);\n\n\t\t//remove excess data from meta\n\t\tthis.twoColumn = meta.twoColumn;\n\t\tthis.fieldHide = meta.fieldHide;\n\t\tthis.containerStyle = meta.containerStyle;\n\t\tthis.step = meta.step;\n\t\tthis.onFieldRender = meta.onFieldRender;\n\t\tthis.appendDivider = meta.appendDivider;\n\t\tthis.meta = _.omit(meta, OMIT_META);\n\t}\n\n\tgetExtractedSchema(joiObj, path) {\n\t\tvar { fieldType } = this;\n\t\tvar ans = joiObj.extract(path);\n\t\tif (fieldType === \"InputPhone\")\n\t\t\treturn ans.pattern(/^0([2]|[6]|[0-9][0-9])[0-9]{7}$/);\n\t\tif (fieldType === \"InputEmail\") return ans.email();\n\t\tif (fieldType === \"InputURL\")\n\t\t\treturn ans.uri({ scheme: [\"http\", \"https\"] });\n\t\treturn ans;\n\t}\n\n\tgetColumn(meta, $this) {\n\t\tvar { fieldType, type, label, name } = $this;\n\t\tvar ans = {\n\t\t\tellipsis: meta.cellEllipsis,\n\t\t\trender: meta.cellFormat,\n\t\t\twidth: meta.cellWidth,\n\t\t\tcellHide: meta.cellHide,\n\t\t\tdisableSorting: meta.disableSorting,\n\t\t\tdisableFilter: meta.disableFilter,\n\t\t\ttitle: label,\n\t\t\tdataIndex: name.split(\".\"),\n\t\t\tkey: name,\n\t\t\ttype,\n\t\t\tfieldType,\n\t\t};\n\n\t\tif (!ans.width) {\n\t\t\tif (type === \"number\") ans.width = 80;\n\t\t\telse if (type === \"date\") ans.width = 130;\n\t\t\telse if (fieldType === \"FileUpload\") ans.width = 150;\n\t\t\telse if (fieldType === \"InputURL\") ans.width = 250;\n\t\t\telse if (fieldType === \"TextArea\") ans.width = 250;\n\t\t}\n\n\t\tif (!ans.ellipsis) {\n\t\t\tif (fieldType === \"TextArea\") ans.ellipsis = true;\n\t\t}\n\n\t\tif (!ans.render) {\n\t\t\tif (fieldType === \"Select\") ans.render = (a) => meta.valid[a];\n\t\t\telse if (fieldType === \"InputPhone\")\n\t\t\t\tans.render = (a) => {\n\t\t\t\t\tif (typeof a !== \"string\") return a;\n\t\t\t\t\treturn a.replace(\n\t\t\t\t\t\t/(\\d{2,3})(\\d{3})(\\d{4})/,\n\t\t\t\t\t\t(m, p1, p2, p3) => [p1, p2, p3].join(\"-\")\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\telse if (\n\t\t\t\tfieldType === \"InputURL\" ||\n\t\t\t\tfieldType === \"TextArea\" ||\n\t\t\t\t(fieldType === \"FileUpload\" && meta.uploadFileType !== \"image\")\n\t\t\t)\n\t\t\t\tans.render = (a) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\twordWrap: \"break-word\",\n\t\t\t\t\t\t\twordBreak: \"break-word\",\n\t\t\t\t\t\t\tmaxWidth: 250,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttitle={a}\n\t\t\t\t\t>\n\t\t\t\t\t\t{a}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\telse if (\n\t\t\t\tfieldType === \"FileUpload\" &&\n\t\t\t\tmeta.uploadFileType === \"image\"\n\t\t\t)\n\t\t\t\tans.render = (a) => <ColImage src={a} />;\n\t\t\telse if (type === \"number\")\n\t\t\t\tans.render = (a) => (a == null ? \"\" : numeral(a).format(\"0,0\"));\n\t\t\telse if (type === \"boolean\")\n\t\t\t\tans.render = (a) => (a == null ? \"\" : a ? \"ใช่\" : \"ไม่ใช่\");\n\t\t\telse if (type === \"date\")\n\t\t\t\tans.render = (a) =>\n\t\t\t\t\ta == null\n\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t: a instanceof Date\n\t\t\t\t\t\t? moment(a).format(\"YYYY-MM-DD\")\n\t\t\t\t\t\t: a;\n\t\t\telse if (type === \"array\")\n\t\t\t\tans.render = (a) =>\n\t\t\t\t\ta == null ? \"\" : Array.isArray(a) ? a.join(\", \") : a;\n\t\t}\n\n\t\treturn ans;\n\t}\n\n\tgetMeta(field) {\n\t\tvar metas = field?.metas;\n\t\tvar ans = {};\n\t\tif (Array.isArray(metas) && metas.length === 1) ans = { ...metas[0] };\n\n\t\tif (field?.flags?.only && field?.allow) {\n\t\t\tvar { validLabel } = ans;\n\t\t\tvar allow = field?.allow;\n\t\t\tif (!Array.isArray(validLabel)) validLabel = allow;\n\t\t\telse if (validLabel?.length !== field?.allow?.length)\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"validLabel is required and must have the equal length\"\n\t\t\t\t);\n\t\t\tvar valid = (ans.valid = {});\n\t\t\tfor (var i = 0, ii = allow.length; i < ii; i++)\n\t\t\t\tvalid[allow[i]] = validLabel[i];\n\t\t}\n\n\t\treturn ans;\n\t}\n\n\tguessFieldType(field, meta) {\n\t\tif (meta.fieldType) return meta.fieldType;\n\t\tif (meta.onFieldRender) return \"Custom\";\n\t\tif (meta.loadBarcodeName) return \"Barcode\";\n\t\tif (meta.getUploadUrl || meta.firebaseConfig || meta.uploadFile)\n\t\t\treturn \"FileUpload\";\n\t\tif (Array.isArray(meta.cascaderOptions)) return \"CascaderStatic\";\n\t\tif (field.type === \"boolean\") return \"Checkbox\";\n\t\tif (field.type === \"date\") return \"DatePicker\";\n\t\tif (field.type === \"number\") return \"InputNumber\";\n\t\tif (meta.valid) return \"Select\";\n\t\treturn \"Input\";\n\t}\n\n\tvalidate(value) {\n\t\tvar rawError = this._extractedSchema.validate(value);\n\t\tif (this.required && !value)\n\t\t\treturn getErrorMessage(\n\t\t\t\t{ type: \"any.required\", message: \"\" },\n\t\t\t\tthis.label\n\t\t\t);\n\n\t\tif (!rawError.error || !Array.isArray(rawError.error.details))\n\t\t\treturn null;\n\n\t\tfor (var errorObj of rawError.error.details)\n\t\t\treturn getErrorMessage(errorObj, this.label);\n\n\t\treturn null;\n\t}\n}\n\nexport { JoiField, JoiWrapper };\n","import { utils, writeFile, read, SSF } from \"xlsx\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\n\nexport const tableToExcel = (dataArray, fileName) => {\n\tdataArray.forEach(handleNested);\n\tvar worksheet = utils.json_to_sheet(dataArray, { dateNF: \"yyyy-mm-dd\" });\n\tif (!fileName) return worksheet;\n\n\tvar workbook = utils.book_new();\n\tutils.book_append_sheet(workbook, worksheet, \"Sheet 1\");\n\twriteFile(workbook, fileName);\n};\n\nexport const parseExcelDate = (date) => {\n\tvar a = SSF.parse_date_code(date);\n\tvar momentInput = { y: a.y, M: a.m - 1, d: a.d, h: a.H, m: a.M, s: a.S };\n\treturn moment(momentInput).parseZone(new Date()).toDate();\n};\n\nexport const excelToTable = (fileObject) =>\n\tnew Promise((res, rej) => {\n\t\tvar reader = new FileReader();\n\t\treader.onload = (e) => {\n\t\t\ttry {\n\t\t\t\tvar data = e.target.result;\n\t\t\t\tvar workbook = read(data, { type: \"binary\" });\n\t\t\t\tvar firstSheet = workbook.Sheets[workbook.SheetNames[0]];\n\t\t\t\tvar ans = utils.sheet_to_json(firstSheet);\n\t\t\t\tres(ans.map(parse));\n\t\t\t} catch (error) {\n\t\t\t\trej(error);\n\t\t\t}\n\t\t};\n\t\treader.onerror = () => rej(reader.error);\n\t\treader.readAsBinaryString(fileObject);\n\t});\n\nconst parse = (a) => {\n\treturn _.omit(a, \"__rowNum__\");\n};\n\nconst handleNested = (obj) => {\n\tfor (var key in obj) {\n\t\tvar value = obj[key];\n\t\tif (isObject(value))\n\t\t\tthrow new Error(\"XLSX layer does not support object\");\n\t\tif (Array.isArray(value))\n\t\t\tthrow new Error(\"XLSX layer does not support array\");\n\t}\n};\n\nconst isObject = (x) => Object.prototype.toString.call(x) === \"[object Object]\";\n","import _ from \"lodash\";\nimport { parseExcelDate } from \"../shared/xlsx\";\nimport moment from \"moment\";\nimport { getErrorMessage } from \"./error_message\";\nimport Joi from \"joi/lib/index\";\n\nexport class SerializeError extends Error {\n\tconstructor(errors) {\n\t\tsuper(\"SerializeError\");\n\t\tthis.name = \"SerializeError\";\n\t\tthis.errors = errors;\n\t\tError.captureStackTrace(this, this.constructor);\n\t}\n}\n\nexport const deserializeTable = (table, schema) => {\n\tvar errors = [];\n\tvar ans = [];\n\tfor (var i = 0, ii = table.length; i < ii; i++) {\n\t\ttry {\n\t\t\tans.push(deserializeRow(table[i], schema, \"\"));\n\t\t} catch (error) {\n\t\t\terrors = [...errors, ...error.details.map(mapError(i))];\n\t\t}\n\t}\n\n\tif (errors.length) throw new SerializeError(errors);\n\treturn ans;\n};\n\nconst mapError = (i) => {\n\treturn (a) => ({\n\t\tline: i + 2,\n\t\tlabel: a.context?.label,\n\t\tmessage: getErrorMessage(a),\n\t\ttype: a.type,\n\t});\n};\n\nconst deserializeRow = (excelRow, schema) => {\n\tif (!schema.columnCache)\n\t\tschema.columnCache = _.keyBy(schema.columns, \"title\");\n\n\tvar ans = {};\n\tfor (var x in excelRow) {\n\t\tvar column = schema.columnCache[x];\n\t\tif (!column || column.disabled) continue;\n\n\t\tvar current = excelRow[x];\n\t\tif (column.type === \"array\" && typeof current === \"string\")\n\t\t\tcurrent = current.split(/\\s*,\\s*/);\n\t\telse if (column.type === \"date\" && typeof current === \"string\")\n\t\t\tcurrent = moment(current).parseZone(new Date()).toDate();\n\t\telse if (column.type === \"date\") current = parseExcelDate(current);\n\n\t\t_.set(ans, column.dataIndex, current);\n\t}\n\treturn Joi.attempt(ans, schema.joiObj, { abortEarly: false });\n};\n\nexport const serializeTable = (table, schema, showDisabled) => {\n\tvar ans = [];\n\tfor (var rowData of table) {\n\t\tvar newRow = {};\n\t\tfor (var column of schema.columns) {\n\t\t\tif (!showDisabled && column.disabled) continue;\n\t\t\tvar current = _.get(rowData, column.dataIndex);\n\n\t\t\tif (column.type === \"array\") current += \"\";\n\t\t\telse if (column.type === \"date\")\n\t\t\t\tcurrent = moment(current).format(\"YYYY-MM-DD\");\n\n\t\t\tnewRow[column.title] = current;\n\t\t}\n\t\tans.push(newRow);\n\t}\n\treturn ans;\n};\n","import PropTypes from \"prop-types\";\nimport { Modal, Table } from \"antd\";\nimport Header from \"./header\";\nimport { ExclamationCircleFilled } from \"@ant-design/icons\";\nimport React from 'react';\n\nconst COLUMNS = [\n\t{ title: \"บรรทัด\", dataIndex: \"line\", width: 100 },\n\t{ title: \"คอลัมน์\", dataIndex: \"label\", width: 100 },\n\t{ title: \"ปัญหาที่พบ\", dataIndex: \"message\" },\n].map((a) => ({ ...a, key: a.dataIndex }));\n\nconst ExcelErrorModal = (props) => {\n\tconst { visible, onClose, errors, title } = props;\n\tconst dataSource = errors.map((a, i) => ({ ...a, key: i }));\n\n\treturn (\n\t\t<Modal\n\t\t\tcentered\n\t\t\tvisible={visible}\n\t\t\twidth={600}\n\t\t\tfooter={null}\n\t\t\tonCancel={onClose}\n\t\t>\n\t\t\t<Header title={title} icon={<ExclamationCircleFilled style={{color:'#faad14'}} />} small />\n\t\t\t<Table\n\t\t\t\tcolumns={COLUMNS}\n\t\t\t\tdataSource={dataSource}\n\t\t\t\ttableScroll={{ y: 600 }}\n\t\t\t\tpagination={false}\n\t\t\t\tsize=\"small\"\n\t\t\t/>\n\t\t</Modal>\n\t);\n};\n\nExcelErrorModal.propTypes = {\n\tvisible: PropTypes.bool.isRequired,\n\tonClose: PropTypes.func.isRequired,\n\terrors: PropTypes.array,\n\ttitle: PropTypes.string,\n};\nExcelErrorModal.defaultProps = {\n\terrors: [],\n\ttitle: \"อัพโหลดไม่สำเร็จ\",\n};\n\nexport default ExcelErrorModal;\n","import PropTypes from \"prop-types\";\nimport { useState, useEffect, useMemo } from \"react\";\nimport Table from \"../table\";\nimport { alert, appendId } from \"./util\";\nimport { useModal, useAPI, usePersistFn } from \"../shared/hook\";\nimport EditModal from \"./edit_modal\";\nimport Header from \"./header\";\nimport { JoiWrapper } from \"../joi/joi_wrapper\";\nimport { tableToExcel, excelToTable } from \"../shared/xlsx\";\nimport { deserializeTable, serializeTable } from \"../joi/serialize\";\nimport ExcelErrorModal from \"./excel_error_modal\";\nimport Form from \"../formik/form\";\nimport Joi from \"joi/lib/index\";\nimport React from \"react\";\nimport _ from \"lodash\";\nimport { ConfigProvider } from \"antd\";\n\nconst INITIAL_FORM_STATUS = { isEdit: false, initialValue: null, error: null };\n\nconst Controller = (props) => {\n\tconst { getMany, createMany, updateOne, deleteMany, devMode } = props;\n\tconst { name, description, uploadPreviewUrl, largeComponent } = props;\n\tconst { schema, querySchema, rowButtons, tableScroll, steps } = props;\n\tconst { disableExcelDownload, disableExcelUpload } = props;\n\n\tconst [editModalData, setEditModalData] = useState(INITIAL_FORM_STATUS);\n\tconst [excelError, setExcelError] = useState([]);\n\tconst [getManyStatus, doGetMany, setData] = useAPI(getMany, true, true);\n\tconst [deleteStatus, doDelete] = useAPI(deleteMany);\n\tconst editModalControl = useModal();\n\tconst excelModalControl = useModal();\n\tconst schema2 = useMemo(() => new JoiWrapper(schema, devMode), [\n\t\tschema,\n\t\tdevMode,\n\t]);\n\tconst querySchema2 = useMemo(\n\t\t() => querySchema && new JoiWrapper(querySchema, devMode),\n\t\t[querySchema, devMode]\n\t);\n\n\tconst onCreate = usePersistFn(() => {\n\t\tsetEditModalData(INITIAL_FORM_STATUS);\n\t\teditModalControl.setVisible(true);\n\t});\n\n\tconst onEdit = usePersistFn((obj) => {\n\t\tsetEditModalData({ isEdit: true, initialValue: obj, error: null });\n\t\teditModalControl.setVisible(true);\n\t});\n\n\tconst updateDataAtRow = usePersistFn((rowData) => {\n\t\tvar tableData = getManyStatus.data;\n\t\tsetData(tableData.map((a) => (a._id === rowData._id ? rowData : a)));\n\t});\n\n\tconst onSubmit = usePersistFn(async (data, actions, originalData) => {\n\t\tsetEditModalData((a) => ({ ...a, error: null }));\n\t\ttry {\n\t\t\tdata = Joi.attempt(data, schema2.joiObj);\n\t\t\tschema2.formSpec\n\t\t\t\t.map((a) => a.name)\n\t\t\t\t.filter((a) => /^\\$|\\.\\$/.test(a))\n\t\t\t\t.forEach((a) => _.unset(data, a));\n\n\t\t\tif (editModalData.isEdit) {\n\t\t\t\tawait updateOne(data, originalData);\n\t\t\t\tupdateDataAtRow(originalData);\n\t\t\t\talert.success(\"แก้ไขข้อมูลเรียบร้อย\");\n\t\t\t\teditModalControl.setVisible(false);\n\t\t\t} else {\n\t\t\t\tvar returnData = await createMany([data]);\n\t\t\t\tif (!Array.isArray(returnData) || returnData.length !== 1)\n\t\t\t\t\treturn alert.error(\"ข้อมูลจากเซิฟเวอร์ไม่ถูกต้อง\");\n\t\t\t\tdata = appendId(returnData[0]);\n\t\t\t\tsetData([data, ...getManyStatus.data]);\n\t\t\t\talert.success(\"สร้างข้อมูลเรียบร้อย\");\n\t\t\t\teditModalControl.setVisible(false);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsetEditModalData((a) => ({ ...a, error: e }));\n\t\t\tactions.setSubmitting(false);\n\t\t}\n\t});\n\n\tconst onDelete = usePersistFn(async (selectedKeys) => {\n\t\ttry {\n\t\t\tvar { data } = getManyStatus;\n\t\t\tvar selectedSet = new Set(selectedKeys);\n\t\t\tvar values = data.filter((a) => selectedSet.has(a._id));\n\t\t\tawait doDelete(values);\n\t\t\tsetData(data.filter((a) => !selectedSet.has(a._id)));\n\t\t} catch (e) {\n\t\t\talert.error(e);\n\t\t}\n\t});\n\n\t/* eslint-disable react-hooks/exhaustive-deps */\n\tuseEffect(() => {\n\t\tdoGetMany({})\n\t\t\t.then((data) => setData(data.map(appendId)))\n\t\t\t.catch((error) => alert.error(error));\n\t}, [schema]);\n\n\tconst onQuery = usePersistFn(async (query) => {\n\t\ttry {\n\t\t\tquery = Joi.attempt(query, querySchema2.joiObj);\n\t\t\tvar data = await doGetMany(query);\n\t\t\tsetData(data.map(appendId));\n\t\t} catch (e) {\n\t\t\talert.error(e);\n\t\t}\n\t});\n\n\tconst onDownloadExcel = usePersistFn(() => {\n\t\tif (!getManyStatus.data) return;\n\t\tvar table = serializeTable(getManyStatus.data, schema2, true);\n\t\ttableToExcel(table, \"export.xlsx\");\n\t});\n\tconst onExampleExcel = usePersistFn(() => {\n\t\tif (uploadPreviewUrl)\n\t\t\treturn window.open(uploadPreviewUrl, \"_blank\").focus();\n\t\tif (!getManyStatus.data) return;\n\t\tvar table = serializeTable(getManyStatus.data.slice(0, 3), schema2);\n\t\ttableToExcel(table, \"example.xlsx\");\n\t});\n\tconst onUploadExcel = usePersistFn(async (a) => {\n\t\ttry {\n\t\t\tvar rawExcel = await excelToTable(a);\n\t\t\tvar newRows = deserializeTable(rawExcel, schema2);\n\t\t\tvar newData = await createMany(newRows, newRows);\n\t\t\tif (!Array.isArray(newData) || newData.length !== newRows.length)\n\t\t\t\treturn alert.error(\"ข้อมูลจากเซิฟเวอร์ไม่ถูกต้อง\");\n\n\t\t\tsetData([...newData.map(appendId), ...getManyStatus.data]);\n\t\t\talert.success(\"อัพโหลดเรียบร้อย\");\n\t\t} catch (e) {\n\t\t\tif (e.name !== \"SerializeError\") return alert.error(e);\n\t\t\tsetExcelError(e.errors);\n\t\t\texcelModalControl.setVisible(true);\n\t\t}\n\t});\n\n\treturn (\n\t\t<ConfigProvider componentSize={largeComponent ? \"large\" : undefined}>\n\t\t\t<Header name={name} description={description} />\n\t\t\t{querySchema && (\n\t\t\t\t<Form\n\t\t\t\t\tschema={querySchema2}\n\t\t\t\t\tonSubmit={onQuery}\n\t\t\t\t\tsubmitButtonLabel=\"ดึงข้อมูล\"\n\t\t\t\t\tinline\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<Table\n\t\t\t\t{...getManyStatus}\n\t\t\t\tloading={getManyStatus.loading || deleteStatus.loading}\n\t\t\t\tschema={schema2}\n\t\t\t\tquerySchema={querySchema}\n\t\t\t\trowButtons={rowButtons}\n\t\t\t\tonEdit={updateOne && onEdit}\n\t\t\t\tonCreate={createMany && onCreate}\n\t\t\t\tonDelete={deleteMany && onDelete}\n\t\t\t\tonDownloadExcel={\n\t\t\t\t\t!disableExcelDownload && getManyStatus.data?.length\n\t\t\t\t\t\t? onDownloadExcel\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\tonUploadExcel={\n\t\t\t\t\t!disableExcelUpload && createMany ? onUploadExcel : null\n\t\t\t\t}\n\t\t\t\tonExampleExcel={\n\t\t\t\t\t!disableExcelUpload &&\n\t\t\t\t\tcreateMany &&\n\t\t\t\t\t(uploadPreviewUrl || getManyStatus.data?.length)\n\t\t\t\t\t\t? onExampleExcel\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\ttableScroll={tableScroll}\n\t\t\t\tupdateDataAtRow={updateDataAtRow}\n\t\t\t/>\n\t\t\t<EditModal\n\t\t\t\t{...editModalControl}\n\t\t\t\t{...editModalData}\n\t\t\t\tschema={schema2}\n\t\t\t\tonSubmit={onSubmit}\n\t\t\t\tsteps={steps}\n\t\t\t/>\n\t\t\t<ExcelErrorModal {...excelModalControl} errors={excelError} />\n\t\t</ConfigProvider>\n\t);\n};\n\nController.propTypes = {\n\t// API\n\tgetMany: PropTypes.func.isRequired,\n\tcreateMany: PropTypes.func,\n\tupdateOne: PropTypes.func,\n\tdeleteMany: PropTypes.func,\n\n\t// modifier\n\tname: PropTypes.string.isRequired,\n\tdescription: PropTypes.string,\n\ttableScroll: PropTypes.object,\n\trowButtons: PropTypes.array,\n\tlargeComponent: PropTypes.bool,\n\n\t// form\n\tschema: PropTypes.object.isRequired,\n\tquerySchema: PropTypes.object,\n\tsteps: PropTypes.array,\n\tdevMode: PropTypes.bool,\n\n\t//excel\n\tdisableExcelDownload: PropTypes.bool,\n\tdisableExcelUpload: PropTypes.bool,\n\tuploadPreviewUrl: PropTypes.string,\n};\n\nController.defaultProps = {\n\tgetOne: null,\n\tcreateMany: null,\n\tupdateOne: null,\n\tdeleteMany: null,\n\tdescription: \"\",\n\ttableScroll: undefined,\n\trowButtons: [],\n\tquerySchema: null,\n\tdisableExcelDownload: false,\n\tdisableExcelUpload: false,\n\tuploadPreviewUrl: null,\n\tsteps: [],\n\tdevMode: false,\n\tlargeComponent: false,\n};\n\nexport default Controller;\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport EditModal from \"./edit_modal\";\nimport { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Joi from \"joi/lib/index\";\nimport { JoiWrapper } from \"../joi/joi_wrapper\";\nimport { alert } from \"./util\";\nimport { ConfigProvider } from \"antd\";\n\nexport const openFormModal = (props) => {\n\tif (!props.schema) throw new Error(\"schema required\");\n\tconst div = document.createElement(\"div\");\n\n\tconst onClose = () => {\n\t\tconst unmountResult = ReactDOM.unmountComponentAtNode(div);\n\t\tif (unmountResult && div.parentNode) div.parentNode.removeChild(div);\n\t};\n\n\tdocument.body.appendChild(div);\n\tconst props2 = {\n\t\t...props,\n\t\tonClose,\n\t\tschema: new JoiWrapper(props.schema, props.devMode),\n\t};\n\tsetTimeout(() => ReactDOM.render(<FormModal {...props2} />, div));\n};\n\nconst FormModal = (props) => {\n\tconst { onClose, schema, title, onSubmit, steps, largeComponent } = props;\n\tconst [error, setError] = useState(null);\n\n\tconst onSubmit2 = async (data, actions, originalData) => {\n\t\tsetError(null);\n\t\ttry {\n\t\t\tdata = Joi.attempt(data, schema.joiObj);\n\t\t\tawait onSubmit(data, originalData);\n\t\t\talert.success(\"บันทึกข้อมูลเรียบร้อย\");\n\t\t\tonClose();\n\t\t} catch (e) {\n\t\t\tsetError(e);\n\t\t\tactions.setSubmitting(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<ConfigProvider componentSize={largeComponent ? \"large\" : undefined}>\n\t\t\t<EditModal\n\t\t\t\tisEdit={false}\n\t\t\t\tvisible={true}\n\t\t\t\tonClose={onClose}\n\t\t\t\tschema={schema}\n\t\t\t\tsteps={steps}\n\t\t\t\tcreateHeader={title}\n\t\t\t\terror={error}\n\t\t\t\tonSubmit={onSubmit2}\n\t\t\t/>\n\t\t</ConfigProvider>\n\t);\n};\n\nFormModal.propTypes = {\n\tonClose: PropTypes.func.isRequired,\n\tschema: PropTypes.object.isRequired,\n\tonSubmit: PropTypes.func.isRequired,\n\ttitle: PropTypes.string,\n\tsteps: PropTypes.array,\n\tlargeComponent: PropTypes.bool,\n};\n\nFormModal.defaultProps = {\n\tsteps: [],\n\ttitle: null,\n\tlargeComponent: false,\n};\n","export const raw = (a, isObj) =>\n\tisObj ? a : \"\\u0092\" + a.toString() + \"\\u0092\";\n\nexport const regex = (a, isObj) =>\n\tisObj ? a : \"\\u0092\" + a.toString().replace(/\\\\/g, \"\\u0091\") + \"\\u0092\";\n\nexport const showRaw = (a, isObj) => {\n\tif (isObj) return a;\n\treturn a\n\t\t.replace(/\\u0092\\\\*\"/g, \"\")\n\t\t.replace(/\\\\*\"\\u0092/g, \"\")\n\t\t.replace(/\\\\+n/g, \"\\n\")\n\t\t.replace(/\\\\+\"/g, '\"')\n\t\t.replace(/\\\\+'/g, \"'\")\n\t\t.replace(/\\u0092/g, \"\")\n\t\t.replace(/\\u0091/g, \"\\\\\");\n};\n\nexport const softEval = (a, type) => {\n\ttry {\n\t\t// eslint-disable-next-line\n\t\tvar ans = Function('\"use strict\";return (' + a + \")\")();\n\t\treturn ans == null ? a : ans;\n\t} catch (e) {\n\t\tif (type === \"array\") return a.split(/\\s*,\\s*/);\n\t\treturn a;\n\t}\n};\n\n// soft eval for function without dependencies\n// this bad eval-based implementation is selected since Function.toString() doesn't work with Babel\nexport const func = (str, isObj) => {\n\tif (!isObj) return raw(str, isObj);\n\t// eslint-disable-next-line\n\treturn Function(\n\t\t'\"use strict\";var wait = (ms) => new Promise((res) => setTimeout(res, ms));return (' +\n\t\t\tstr +\n\t\t\t\")\"\n\t)();\n};\n","import _ from \"lodash\";\nimport { Input, Select } from \"formik-antd\";\nimport React, { useEffect, useState } from \"react\";\nimport { useFormikContext } from \"formik\";\n\nconst wait = (ms) => new Promise((res) => setTimeout(res, ms));\n\nexport const DependentComp = (props) => {\n\tconst { values, setFieldValue } = useFormikContext();\n\tconst values2 = JSON.stringify(_.set({ ...values }, props.name, null));\n\tuseEffect(() => {\n\t\tsetFieldValue(props.name, values2, false);\n\t\t/* eslint-disable react-hooks/exhaustive-deps */\n\t}, [values2, props.name]);\n\treturn <Input disabled {...props} />;\n};\n\nDependentComp.str = `const DependentComp = (props)=>{\nconst {values,setFieldValue} = useFormikContext();\nconst values2 = JSON.stringify(_.set({ ...values }, props.name, null));\nuseEffect(()=>{\n// you can also use setFieldValue to mutate other fields\nsetFieldValue(props.name,values2,false);},[values2,props.name])\nreturn <Input disabled {...props}/>;\n}`;\n\nexport const AsyncDropdown = (props) => {\n\tconst [choices, setChoices] = useState([]);\n\tconst fetchChoices = async () => {\n\t\tawait wait(500);\n\t\treturn [\n\t\t\t{ label: \"Toyota\", value: \"a01\" },\n\t\t\t{ label: \"Hyundai\", value: \"a02\" },\n\t\t];\n\t};\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tconst data = await fetchChoices();\n\t\t\t// remap value so that value is also searchable\n\t\t\tconst data2 = data.map(({ label, value }) => ({\n\t\t\t\tlabel: label + \" \" + value,\n\t\t\t\tvalue,\n\t\t\t}));\n\t\t\tsetChoices(data2);\n\t\t})();\n\t}, []);\n\treturn (\n\t\t<Select\n\t\t\t{...props}\n\t\t\tshowSearch\n\t\t\toptionFilterProp=\"label\"\n\t\t\toptions={choices}\n\t\t\tfilterOption={(input, option) =>\n\t\t\t\toption.label.toLowerCase().indexOf(input.toLowerCase()) >= 0\n\t\t\t}\n\t\t></Select>\n\t);\n};\n\nAsyncDropdown.str = `const AsyncDropdown = (props) => {\nconst [choices, setChoices] = useState([]);\nconst fetchChoices = async () => {\nawait wait(500);\nreturn [\n{ label: \"Toyota\", value: \"a01\" },\n{ label: \"Hyundai\", value: \"a02\" },\n];\n};\nuseEffect(() => {\n(async () => {\nconst data = await fetchChoices();\n// remap value so that value is also searchable\nconst data2 = data.map(({ label, value }) => ({\nlabel: label + \" \" + value,\nvalue,\n}));\nsetChoices(data2);\n})();\n}, []);\nreturn (\n<Select\n{...props}\nshowSearch\noptionFilterProp=\"label\"\noptions={choices}\nfilterOption={(input, option) =>\noption.label.toLowerCase().indexOf(input.toLowerCase()) >= 0\n}\n></Select>\n);\n}\n`;\n","import { Joi } from \"../../lib\";\nimport _ from \"lodash\";\nimport { raw, softEval, func, regex } from \"./util\";\nimport toSource from \"tosource\";\nimport { DependentComp, AsyncDropdown } from \"./custom_component\";\n\nconst makeObject = (joiList) => {\n\tvar ans = Joi;\n\tfor (var joi of joiList) ans = ans[joi.name](...(joi.args || []));\n\treturn ans;\n};\n\nconst makeString = (joiList) => {\n\tvar ans = \"Joi\";\n\tfor (var joi of joiList) {\n\t\tvar args = joi.args || [];\n\t\tans += `.${joi.name}(${args.map((a) =>\n\t\t\ttoSource(a).replace(/\\n/g, \"\")\n\t\t)})`;\n\t}\n\treturn ans;\n};\n\n// return [{funcName, args}]\nexport const makeJoiLine = (editor, settings, isObj) => {\n\tvar ans = [];\n\tvar type = \"string\";\n\tvar newFieldType = \"\";\n\tvar suffix = [];\n\tswitch (editor.fieldType) {\n\t\tcase \"common|text area\":\n\t\t\tnewFieldType = \"TextArea\";\n\t\t\tbreak;\n\t\tcase \"custom component|dependent input example\":\n\t\t\teditor = {\n\t\t\t\tonFieldRender: isObj\n\t\t\t\t\t? DependentComp\n\t\t\t\t\t: raw(\"DependentComp\", isObj),\n\t\t\t\t...editor,\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"custom component|async searchable dropdown\":\n\t\t\teditor = {\n\t\t\t\tonFieldRender: isObj\n\t\t\t\t\t? AsyncDropdown\n\t\t\t\t\t: raw(\"AsyncDropdown\", isObj),\n\t\t\t\t...editor,\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"hierarchical dropdown|static option, allow modify\":\n\t\t\teditor = {\n\t\t\t\t...editor,\n\t\t\t\tcascaderOptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tl: \"Hardware Business\",\n\t\t\t\t\t\tc: [{ l: \"Apple\" }, { l: \"Intel\" }],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tl: \"Software Business\",\n\t\t\t\t\t\tc: [{ l: \"Apple\" }, { l: \"Google\" }],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tnames: [editor.name + \"-0\", editor.name + \"-1\"],\n\t\t\t\tfieldNames: { label: \"l\", value: \"l\", children: \"c\" },\n\t\t\t\tcellHide: true,\n\t\t\t\tnotFound: true,\n\t\t\t};\n\t\t\ttype = \"object\";\n\t\t\tbreak;\n\t\tcase \"hierarchical dropdown|static option, no modify\":\n\t\t\teditor = {\n\t\t\t\t...editor,\n\t\t\t\tcascaderOptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tl: \"Vegetable\",\n\t\t\t\t\t\tv: \"Vegetable\",\n\t\t\t\t\t\tc: [\n\t\t\t\t\t\t\t{ l: \"Tomato (G001)\", v: \"G001\" },\n\t\t\t\t\t\t\t{ l: \"Carrot (G002)\", v: \"G002\" },\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tl: \"Fruit\",\n\t\t\t\t\t\tv: \"Fruit\",\n\t\t\t\t\t\tc: [\n\t\t\t\t\t\t\t{ l: \"Apple (G003)\", v: \"G003\" },\n\t\t\t\t\t\t\t{ l: \"Banana (G004)\", v: \"G004\" },\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tnames: editor.name + \"-0\",\n\t\t\t\tfieldNames: { label: \"l\", value: \"v\", children: \"c\" },\n\t\t\t\tcellHide: true,\n\t\t\t};\n\t\t\ttype = \"object\";\n\t\t\tbreak;\n\t\tcase \"format|url\":\n\t\t\tnewFieldType = \"InputURL\";\n\t\t\tbreak;\n\t\tcase \"format|thai tel\":\n\t\t\tnewFieldType = \"InputPhone\";\n\t\t\tbreak;\n\t\tcase \"format|email\":\n\t\t\tnewFieldType = \"InputEmail\";\n\t\t\tbreak;\n\t\tcase \"common|password\":\n\t\t\teditor = { ...editor, cellHide: true };\n\t\t\tnewFieldType = \"InputPassword\";\n\t\t\tbreak;\n\t\tcase \"format|thai zipcode\":\n\t\t\teditor = { placeholder: \"เช่น 10210\", ...editor };\n\t\t\tsuffix.push({ name: \"pattern\", args: [regex(/^\\d{5}$/, isObj)] });\n\t\t\tsuffix.push({ name: \"message\", args: [\"รหัสไปรษณีย์ไม่ถูกต้อง\"] });\n\t\t\tbreak;\n\t\tcase \"format|regex validation example\":\n\t\t\tsuffix.push({\n\t\t\t\tname: \"pattern\",\n\t\t\t\targs: [regex(/^changeme$/, isObj)],\n\t\t\t});\n\t\t\tsuffix.push({ name: \"message\", args: [\"changeme error\"] });\n\t\t\tbreak;\n\t\tcase \"format|custom validation example\":\n\t\t\tsuffix.push({\n\t\t\t\tname: \"custom\",\n\t\t\t\targs: [\n\t\t\t\t\tfunc(\n\t\t\t\t\t\t`(a)=>{if (!/^changeme$/.test(a)) throw new Error(\"changeme error\");return a;}`,\n\t\t\t\t\t\tisObj\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t});\n\t\t\tbreak;\n\t\tcase \"format|thai citizen id\":\n\t\t\teditor = { placeholder: \"เช่น 0139499973311\", ...editor };\n\t\t\tsuffix.push({\n\t\t\t\tname: \"custom\",\n\t\t\t\targs: [\n\t\t\t\t\tfunc(\n\t\t\t\t\t\t`(id)=>{\nif (!/^\\u0091d{13}$/.test(id)) throw new Error(\"เลขประชาชนต้องเป็นเลข 13 หลัก\");\nvar digits = [];\nfor(var i = 0; i < 13; i++) digits.push(parseInt(id[i]));\nvar checksum = 0;\nfor(var j = 0; j < 12; i++) checksum += (13 - j) * digits[j];\nvar digit13 = checksum % 11;\ndigit13 = digit13 > 1 ? 11 - digit13 : 1 - digit13;\nif (digit13 !== digits[12]) throw new Error(\"เลขประชาชนไม่ถูกต้อง\");\nreturn id;}`,\n\t\t\t\t\t\tisObj\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t});\n\t\t\tbreak;\n\t\tcase \"checkbox\":\n\t\t\ttype = \"boolean\";\n\t\t\tbreak;\n\t\tcase \"number\":\n\t\tcase \"date\":\n\t\t\ttype = editor.fieldType;\n\t\t\tbreak;\n\t\tcase \"common|barcode scanner\":\n\t\t\ttype = \"array\";\n\t\t\tsuffix.push({ name: \"min\", args: [1] });\n\t\t\teditor = {\n\t\t\t\t...editor,\n\t\t\t\tcontainerStyle: { marginBottom: 30 },\n\t\t\t\tloadBarcodeName: func(\n\t\t\t\t\t'async (a) => {await wait(500); if (a === \"a001\") return \"iPhone\";}',\n\t\t\t\t\tisObj\n\t\t\t\t),\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"dropdown\":\n\t\t\tsuffix.push({ name: \"valid\", args: [\"m\", \"f\"] });\n\t\t\teditor = { ...editor, validLabel: [\"ชาย\", \"หญิง\"] };\n\t\t\tbreak;\n\t\tcase \"upload|multiple images\":\n\t\t\teditor = {\n\t\t\t\t...editor,\n\t\t\t\tmultiple: true,\n\t\t\t\tuploadFile: func(\n\t\t\t\t\t'async (fileObj) => {await wait(500); return \"https://www.gravatar.com/avatar/1\"}',\n\t\t\t\t\tisObj\n\t\t\t\t),\n\t\t\t\tuploadFileType: \"image\",\n\t\t\t\taccept: \".png,.jpeg,.jpg,.gif\",\n\t\t\t};\n\t\t\ttype = \"array\";\n\t\t\tbreak;\n\t\tcase \"upload|firebase\":\n\t\t\teditor = {\n\t\t\t\t...editor,\n\t\t\t\tmultiple: true,\n\t\t\t\tuploadFile: func(\n\t\t\t\t\t`async (file) => {\n// const path = 'images/' + nanoid();\n// const storageRef = ref(getFirebase(), path);\n// await uploadBytes(storageRef, file);\n// return await getDownloadURL(storageRef);\nawait wait(500);\nreturn \"https://www.gravatar.com/avatar/1\"}`,\n\t\t\t\t\tisObj\n\t\t\t\t),\n\t\t\t\tuploadFileInit: func(\n\t\t\t\t\t`() => {\n//getFirebase();\n}`,\n\t\t\t\t\tisObj\n\t\t\t\t),\n\t\t\t\tuploadFileType: \"image\",\n\t\t\t\taccept: \".png,.jpeg,.jpg,.gif\",\n\t\t\t};\n\t\t\ttype = \"array\";\n\t\t\tbreak;\n\t\tcase \"upload|google cloud storage\":\n\t\t\teditor = {\n\t\t\t\t...editor,\n\t\t\t\tmultiple: true,\n\t\t\t\tuploadFile: func(\n\t\t\t\t\t`async (file) => {\n// https://cloud.google.com/storage/docs/samples/storage-generate-signed-url-v4\n// var serverUrl = 'https://www.example.com/get-upload-url?filename=';\n// var url = await axios.get(serverUrl + encodeURIComponent(file.name));\n// await axios.put(url, file, {headers: { \"Content-Type\": file.type }});\n// return url;\nawait wait(500);\nreturn \"https://www.gravatar.com/avatar/1\"}`,\n\t\t\t\t\tisObj\n\t\t\t\t),\n\t\t\t\tuploadFileType: \"image\",\n\t\t\t\taccept: \".png,.jpeg,.jpg,.gif\",\n\t\t\t};\n\t\t\ttype = \"array\";\n\t\t\tbreak;\n\t\tcase \"upload|single file\":\n\t\t\teditor = {\n\t\t\t\t...editor,\n\t\t\t\tmultiple: false,\n\t\t\t\tuploadFile: func(\n\t\t\t\t\t'async (fileObj) => {await wait(500); return \"https://www.gravatar.com/avatar/1\"}',\n\t\t\t\t\tisObj\n\t\t\t\t),\n\t\t\t\tuploadFileType: \"file\",\n\t\t\t\taccept: \".pdf\",\n\t\t\t};\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\tans.push({ name: type }, { name: \"label\", args: [editor.label] });\n\n\tif (editor.require) ans.push({ name: \"required\" });\n\tif (editor.defaultValue)\n\t\tans.push({\n\t\t\tname: \"default\",\n\t\t\targs: [softEval(editor.defaultValue, type)],\n\t\t});\n\tans = ans.concat(suffix);\n\n\tvar meta = _.omit(editor, [\n\t\t\"require\",\n\t\t\"defaultValue\",\n\t\t\"label\",\n\t\t\"fieldType\",\n\t\t\"_fieldType\",\n\t\t\"extraMargin\",\n\t\t\"name\",\n\t\t\"columnWidth\",\n\t]);\n\tif (editor.extraMargin)\n\t\tmeta.containerStyle = _.assign(meta.containerStyle, {\n\t\t\tmarginBottom: 20,\n\t\t});\n\tif (editor.columnWidth) meta.cellWidth = editor.columnWidth;\n\tif (newFieldType) meta.fieldType = newFieldType;\n\tif (!meta.placeholder) delete meta.placeholder;\n\tif (settings.steps) meta.step = meta.step || 0;\n\telse delete meta.step;\n\n\tif (_.size(meta))\n\t\tans.push({\n\t\t\tname: \"meta\",\n\t\t\targs: [isObj ? meta : raw(JSON.stringify(meta))],\n\t\t});\n\n\tif (isObj) return makeObject(ans);\n\treturn makeString(ans);\n};\n\nexport const makeExtraJoiLines = (editor, settings, isObj) => {\n\tif (!/^hierarchical dropdown|/.test(editor.fieldType)) return [];\n\n\tconst { name, fieldType } = editor;\n\tconst extend = _.pick(editor, [\n\t\t\"require\",\n\t\t\"step\",\n\t\t\"columnWidth\",\n\t\t\"disableSorting\",\n\t\t\"disableFilter\",\n\t]);\n\tconst obj = {\n\t\t...extend,\n\t\tfieldHide: !isObj\n\t\t\t? raw(`a=>a['${name}']?!a['${name}'].$notFound:true`, isObj)\n\t\t\t: (a) => (a[name] ? !a[name].$notFound : true),\n\t\ttwoColumn: true,\n\t};\n\n\tswitch (fieldType) {\n\t\tcase \"hierarchical dropdown|static option, allow modify\":\n\t\t\treturn [\n\t\t\t\tmakeJoiLine({ ...obj, label: \"category\" }, settings, isObj),\n\t\t\t\tmakeJoiLine({ ...obj, label: \"brand\" }, settings, isObj),\n\t\t\t];\n\t\tcase \"hierarchical dropdown|static option, no modify\":\n\t\t\treturn [\n\t\t\t\tmakeJoiLine({ ...obj, label: \"product code\" }, settings, isObj),\n\t\t\t];\n\t\tcase \"hierarchical dropdown|async option, no modify\":\n\t\t\treturn [];\n\t\tcase \"hierarchical dropdown|thai province\":\n\t\t\treturn [];\n\t\tdefault:\n\t\t\treturn [];\n\t}\n};\n","import { Chance } from \"../../lib\";\nimport _ from \"lodash\";\nimport { raw, showRaw } from \"./util\";\nimport toSource from \"tosource\";\n\nvar chance = null;\nconst getChance = (seed) => {\n\tif (seed) return new Chance(seed);\n\tif (!chance) chance = new Chance(Math.random());\n\treturn chance;\n};\n\nexport const genChanceString = (editors, count) => {\n\tvar ans = {};\n\tfor (var editor of editors) {\n\t\tvar spec = editorToChance(editor);\n\t\tvar specObj = {};\n\t\tif (Array.isArray(spec))\n\t\t\tfor (var j = 0, jj = spec.length; j < jj; j++)\n\t\t\t\tspecObj[editor.name + \"-\" + j] = spec[j];\n\t\telse specObj[editor.name] = spec;\n\n\t\tfor (var key in specObj) {\n\t\t\tvar { name, args } = specObj[key];\n\t\t\targs = args\n\t\t\t\t? toSource(args)\n\t\t\t\t\t\t.replace(/^\\[\\s*/, \"\")\n\t\t\t\t\t\t.replace(/\\s*\\]$/, \"\")\n\t\t\t\t: \"\";\n\t\t\t_.set(ans, key, raw(`chance.${name}(${args})`));\n\t\t}\n\t}\n\treturn `()=>{const ans=[]; for(let i=0;i<${count};i++)ans.push(${showRaw(\n\t\tJSON.stringify(ans)\n\t)}); return ans;}`;\n};\n\nexport const randomData = (editors, count, seed) => {\n\tvar ans = [];\n\tvar newRandom;\n\tvar chance = getChance(seed);\n\tfor (var i = 0; i < count; i++) {\n\t\tvar newValue = {};\n\t\tfor (var editor of editors) {\n\t\t\tvar spec = editorToChance(editor);\n\t\t\tvar specObj = {};\n\t\t\tif (Array.isArray(spec))\n\t\t\t\tfor (var j = 0, jj = spec.length; j < jj; j++)\n\t\t\t\t\tspecObj[editor.name + \"-\" + j] = spec[j];\n\t\t\telse specObj[editor.name] = spec;\n\n\t\t\tfor (var key in specObj) {\n\t\t\t\tvar { name, args } = specObj[key];\n\t\t\t\tnewRandom = chance[name].apply(chance, args || []);\n\t\t\t\t_.set(newValue, key, newRandom);\n\t\t\t}\n\t\t}\n\t\tans.push(newValue);\n\t}\n\treturn ans;\n};\n\nconst editorToChance = (editor) => {\n\tswitch (editor.fieldType) {\n\t\tcase \"hierarchical dropdown|static option, allow modify\":\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tname: \"pickone\",\n\t\t\t\t\targs: [[\"Hardware Business\", \"Software Business\"]],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"pickone\",\n\t\t\t\t\targs: [[\"Apple\"]],\n\t\t\t\t},\n\t\t\t];\n\t\tcase \"hierarchical dropdown|static option, no modify\":\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tname: \"pickone\",\n\t\t\t\t\targs: [[\"G001\", \"G002\", \"G003\", \"G004\"]],\n\t\t\t\t},\n\t\t\t];\n\t\tcase \"format|url\":\n\t\tcase \"upload|single file\":\n\t\t\treturn { name: \"avatar\", args: [{ protocol: \"https\" }] };\n\t\tcase \"upload|multiple images\":\n\t\tcase \"upload|firebase\":\n\t\tcase \"upload|google cloud storage\":\n\t\t\treturn {\n\t\t\t\tname: \"pickone\",\n\t\t\t\targs: [\n\t\t\t\t\t[\n\t\t\t\t\t\t\"https://www.gravatar.com/avatar/407cedb085e93b2253656ce07a52a898\",\n\t\t\t\t\t],\n\t\t\t\t],\n\t\t\t};\n\t\tcase \"format|regex validation example\":\n\t\tcase \"format|custom validation example\":\n\t\t\treturn { name: \"pickone\", args: [[\"changeme\"]] };\n\t\tcase \"format|thai tel\":\n\t\t\treturn { name: \"pickone\", args: [[\"0812345678\", \"021111111\"]] };\n\t\tcase \"format|email\":\n\t\t\treturn { name: \"email\" };\n\t\tcase \"format|thai zipcode\":\n\t\t\treturn { name: \"pickone\", args: [[\"10210\", \"10400\"]] };\n\t\tcase \"format|thai citizen id\":\n\t\t\treturn {\n\t\t\t\tname: \"pickone\",\n\t\t\t\targs: [[\"0139499973311\", \"0547041689552\"]],\n\t\t\t};\n\t\tcase \"checkbox\":\n\t\t\treturn { name: \"bool\" };\n\t\tcase \"number\":\n\t\t\treturn { name: \"natural\", args: [{ max: 30 }] };\n\t\tcase \"date\":\n\t\t\treturn { name: \"date\", args: [] };\n\t\tcase \"common|barcode scanner\":\n\t\t\treturn { name: \"pickone\", args: [[[\"a001\"], [\"a002\"]]] };\n\t\tcase \"dropdown\":\n\t\t\treturn { name: \"pickone\", args: [[\"m\", \"f\"]] };\n\t\tcase \"common|text area\":\n\t\t\treturn { name: \"paragraph\" };\n\t\tcase \"common|password\":\n\t\t\treturn { name: \"pickone\", args: [[null]] };\n\t\tcase \"custom component|dependent input example\":\n\t\t\treturn { name: \"pickone\", args: [[\"{}\"]] };\n\t\tcase \"custom component|async searchable dropdown\":\n\t\t\treturn { name: \"pickone\", args: [[\"a01\", \"a02\"]] };\n\t\tdefault:\n\t\t\treturn { name: \"word\" };\n\t}\n};\n","import _ from \"lodash\";\nimport prettier from \"prettier/standalone\";\nimport parserBabel from \"prettier/parser-babel\";\nimport { makeJoiLine, makeExtraJoiLines } from \"./joi_line\";\nimport { raw, showRaw, func } from \"./util\";\nimport { randomData, genChanceString } from \"./chance\";\nimport { DependentComp, AsyncDropdown } from \"./custom_component\";\n\nconst wait = (ms) => new Promise((res) => setTimeout(res, ms));\n\nconst traverse = (node) => {\n\tif (typeof node === \"string\") return node;\n\n\tvar ans = {};\n\tfor (var key in node) ans[key] = raw(traverse(node[key]));\n\treturn raw(`Joi.object(${JSON.stringify(ans, null, 1)})`);\n};\n\nexport const renderJoi = (editors, settings, isComp) => {\n\tvar ans = {};\n\tfor (var editor of editors) {\n\t\t_.set(ans, editor.name, makeJoiLine(editor, settings));\n\t\tvar extraJoiLines = makeExtraJoiLines(editor, settings);\n\t\tfor (var i = 0, ii = extraJoiLines.length; i < ii; i++)\n\t\t\t_.set(ans, editor.name + \"-\" + i, extraJoiLines[i]);\n\t}\n\treturn showRaw(traverse(ans));\n};\n\nexport const renderProps = (editors, settings, isComp) => {\n\tconst { canCreate, canUpdate, canDelete, querySchema, devMode } = settings;\n\n\t// required\n\tvar ans = { name: settings.name || \"{tableName}\" };\n\n\tif (isComp) {\n\t\tans.getMany = raw(async () => {\n\t\t\tawait wait(500);\n\t\t\treturn randomData(editors, 3);\n\t\t}, isComp);\n\t} else {\n\t\tans.schema = raw(\"schema\", false);\n\t\tif (querySchema) ans.querySchema = raw(renderJoi(querySchema, {}));\n\t\tans.getMany = raw(\"async ()=>{await wait(500);return mockData();}\");\n\t}\n\n\tif (canCreate)\n\t\tans.createMany = func(\"async (a)=>{await wait(500);return a;}\", isComp);\n\tif (canDelete)\n\t\tans.deleteMany = func(\"async ()=>{await wait(500);}\", isComp);\n\tif (canUpdate) ans.updateOne = func(\"async ()=>{await wait(500);}\", isComp);\n\n\t// literal\n\tvar extras = _.pick(settings, [\n\t\t\"disableExcelDownload\",\n\t\t\"disableExcelUpload\",\n\t\t\"uploadPreviewUrl\",\n\t\t\"description\",\n\t\t\"steps\",\n\t\t\"largeComponent\",\n\t]);\n\t_.assign(ans, extras);\n\tans.devMode = devMode || false;\n\tif (ans.steps) ans.steps = ans.steps.split(/\\s*,\\s*/);\n\n\tif (isComp) return ans;\n\treturn showRaw(JSON.stringify(ans, null, 1));\n};\n\nexport const format = (a, isJson) => {\n\tif (isJson) a = \"(\" + a + \")\";\n\treturn prettier.format(a, { parser: \"babel\", plugins: [parserBabel] });\n};\n\nexport const renderImport = (editors) => {\n\tconst ans = new Set();\n\tconst reactImport = new Set();\n\tconst formikAntdImport = new Set();\n\n\tfor (var { fieldType } of editors) {\n\t\tif (fieldType === \"upload|google cloud storage\")\n\t\t\tans.add(\"import axios from 'axios';\");\n\t\telse if (fieldType === \"upload|firebase\") {\n\t\t\tans.add(\"import { initializeApp } from 'firebase/app';\");\n\t\t\tans.add(\n\t\t\t\t\"import { getStorage, ref, uploadBytes, getDownloadURL } from 'firebase/storage';\"\n\t\t\t);\n\t\t\tans.add(\"import { nanoid } from 'nanoid';\");\n\t\t} else if (fieldType === \"custom component|dependent input example\") {\n\t\t\tans.add(\"import {useFormikContext} from 'formik';\");\n\t\t\tans.add(\"import _ from 'lodash';\");\n\t\t\tformikAntdImport.add(\"Input\");\n\t\t\treactImport.add(\"useEffect\");\n\t\t} else if (fieldType === \"custom component|async searchable dropdown\") {\n\t\t\treactImport.add(\"useEffect\");\n\t\t\treactImport.add(\"useState\");\n\t\t\tformikAntdImport.add(\"Select\");\n\t\t} else if (\n\t\t\tfieldType === \"hierarchical dropdown|static option, allow modify\" ||\n\t\t\tfieldType === \"hierarchical dropdown|static option, no modify\"\n\t\t) {\n\t\t\treactImport.add(\"useEffect\");\n\t\t\treactImport.add(\"useState\");\n\t\t\tans.add(\"import { Cascader } from 'antd';\");\n\t\t\tans.add(\"import {useFormikContext} from 'formik';\");\n\t\t}\n\t}\n\n\tconst reactString = reactImport.size\n\t\t? \",{\" + [...reactImport].join(\",\") + \"}\"\n\t\t: \"\";\n\tans.add(`import React${reactString} from 'react';`);\n\n\tif (formikAntdImport.size)\n\t\tans.add(\n\t\t\t`import {${[...formikAntdImport].join(\",\")}} from 'formik-antd';`\n\t\t);\n\treturn [...ans].join(\"\\n\");\n};\n\nexport const renderFunction = (editors) => {\n\tconst ans = new Set();\n\tfor (var { fieldType } of editors) {\n\t\tif (fieldType === \"upload|firebase\")\n\t\t\tans.add(`\\nlet storage = null;\nconst getFirebase = () => {\nif (!storage) storage = getStorage(initializeApp({\napiKey: \"\",\nauthDomain: \"\",\nprojectId: \"\",\nstorageBucket: \"\",\nmessagingSenderId: \"\",\nappId: \"\",\nmeasurementId: \"\",\n}));\nreturn storage;\n};`);\n\t\telse if (fieldType === \"custom component|dependent input example\")\n\t\t\tans.add(\"\\n\" + DependentComp.str);\n\t\telse if (fieldType === \"custom component|async searchable dropdown\")\n\t\t\tans.add(\"\\n\" + AsyncDropdown.str);\n\t}\n\tif (!ans.size) return \"\";\n\treturn \"\\n\" + [...ans].join(\"\\n\");\n};\n\nexport const renderTemplate = (editors, settings) => {\n\treturn format(`import { Joi, AutoAdmin, Chance } from 'joi_auto_admin';\n${renderImport(editors)}\n\nconst wait = (ms) => new Promise((res) => setTimeout(res, ms));\nconst chance = new Chance(0);${renderFunction(editors)}\n\nconst schema = ${renderJoi(editors, settings)};\n\nconst mockData = ${genChanceString(editors, 3)};\n\nconst App = ()=>{\n\tconst props = ${renderProps(editors, settings)};\n\treturn <AutoAdmin {...props} />\n}\n\nexport default App;\n`);\n};\n","import { Joi, AutoAdmin } from \"../../lib\";\nimport React from \"react\";\nimport { useMemo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { renderProps, renderTemplate } from \"./template\";\nimport { makeJoiLine, makeExtraJoiLines } from \"./joi_line\";\nimport _ from \"lodash\";\nimport { Spin } from \"antd\";\n\nconst editorSchemaInner = Joi.object({\n\tname: Joi.string().required().min(1),\n\tlabel: Joi.string().required().min(1),\n\tfieldType: Joi.string()\n\t\t.required()\n\t\t.valid(\n\t\t\t\"dropdown\",\n\t\t\t\"upload|single file\",\n\t\t\t\"upload|multiple images\",\n\t\t\t\"upload|firebase\",\n\t\t\t\"upload|google cloud storage\",\n\t\t\t\"input\",\n\t\t\t\"format|url\",\n\t\t\t\"format|thai tel\",\n\t\t\t\"format|email\",\n\t\t\t\"format|thai zipcode\",\n\t\t\t\"format|thai citizen id\",\n\t\t\t\"format|regex validation example\",\n\t\t\t\"format|custom validation example\",\n\t\t\t\"custom component|dependent input example\",\n\t\t\t\"custom component|async searchable dropdown\",\n\t\t\t\"hierarchical dropdown|static option, allow modify\",\n\t\t\t\"hierarchical dropdown|static option, no modify\",\n\t\t\t\"checkbox\",\n\t\t\t\"number\",\n\t\t\t\"date\",\n\t\t\t\"common|text area\",\n\t\t\t\"common|password\",\n\t\t\t\"common|barcode scanner\"\n\t\t),\n\t_fieldType: Joi.any(),\n\tstep: Joi.number(),\n\tplaceholder: Joi.string(),\n\tdefaultValue: Joi.string(),\n\trequire: Joi.boolean(),\n\tdisabled: Joi.boolean(),\n\ttwoColumn: Joi.boolean(),\n\textraMargin: Joi.boolean(),\n\tcolumnWidth: Joi.number(),\n\tcellEllipsis: Joi.boolean(),\n\tcolumnHide: Joi.boolean(),\n\tdisableSorting: Joi.boolean(),\n\tdisableFilter: Joi.boolean(),\n\tappendDivider: Joi.boolean(),\n});\n\nconst editorSchema1 = Joi.array()\n\t.items(editorSchemaInner, Joi.any().strip())\n\t.unique(\"name\");\nconst editorSchema2 = Joi.array().items(editorSchemaInner).unique(\"name\");\n\nconst settingsSchema = Joi.object({\n\tname: Joi.string(),\n\tdescription: Joi.string(),\n\tcanCreate: Joi.boolean(),\n\tcanUpdate: Joi.boolean(),\n\tcanDelete: Joi.boolean(),\n\tquerySchema: editorSchema1,\n\tdisableExcelDownload: Joi.boolean(),\n\tdisableExcelUpload: Joi.boolean(),\n\tuploadPreviewUrl: Joi.string(),\n\tlargeComponent: Joi.boolean(),\n\tsteps: Joi.string(),\n});\n\nexport const editorToCode = (editors, settings) => {\n\tvar editors2 = editorSchema1.validate(editors);\n\tvar settings2 = settingsSchema.validate(settings);\n\treturn renderTemplate(editors2.value, settings2.value);\n};\n\nexport const validateEditor = (editors) => editorSchema2.validate(editors);\n\nconst traverse = (node) => {\n\tif (Joi.isSchema(node)) return node;\n\tvar ans = {};\n\tfor (var key in node) ans[key] = traverse(node[key]);\n\treturn Joi.object(ans);\n};\n\nexport const makeJoiObj = (editors, settings) => {\n\tvar ans = {};\n\tfor (var editor of editors) {\n\t\t_.set(ans, editor.name, makeJoiLine(editor, settings, true));\n\t\tvar extraJoiLines = makeExtraJoiLines(editor, settings, true);\n\t\tfor (var i = 0, ii = extraJoiLines.length; i < ii; i++)\n\t\t\t_.set(ans, editor.name + \"-\" + i, extraJoiLines[i]);\n\t}\n\treturn traverse(ans);\n};\n\nexport const App = (props) => {\n\tconst { editors, settings } = props;\n\n\tconst props2 = useMemo(() => {\n\t\tif (!settings) return null;\n\n\t\tconst ans = renderProps(editors, settings, true);\n\t\tans.schema = makeJoiObj(editors, settings);\n\t\tif (settings.querySchema)\n\t\t\tans.querySchema = makeJoiObj(settings.querySchema, {});\n\t\treturn ans;\n\t}, [editors, settings]);\n\n\tif (!editors.length) return \"กรุณาสร้างข้อมูลด้านซ้าย\";\n\tif (!settings)\n\t\treturn (\n\t\t\t<center>\n\t\t\t\t<Spin />\n\t\t\t</center>\n\t\t);\n\treturn <AutoAdmin {...props2} />;\n};\nApp.propTypes = {\n\teditors: PropTypes.array,\n\tsettings: PropTypes.object,\n};\nApp.defaultProps = {\n\teditors: [\n\t\t{\n\t\t\tname: \"hello.abc\",\n\t\t\tlabel: \"helloName\",\n\t\t\trequire: true,\n\t\t\tdefaultValue: \"a\",\n\t\t\textraMargin: true,\n\t\t},\n\t],\n\tsettings: null,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport RenderCodeBlocks from \"./code-blocks\";\nimport { MENU } from \"../constants\";\nimport { App as TransView } from \"../../../logic\";\nimport { renderTemplate } from \"../../../logic/template\";\n\nconst RightPanelView = (props) => {\n  const { view, editors, settings } = props;\n\n  if (view === MENU.code) {\n    const codeText = renderTemplate(editors, settings);\n    return <RenderCodeBlocks text={codeText} />;\n  }\n\n  return <TransView editors={editors} settings={settings} />;\n};\n\nRightPanelView.propTypes = {\n  view: PropTypes.oneOf([MENU.ui, MENU.code]),\n  editors: PropTypes.array,\n  settings: PropTypes.object,\n};\n\nRightPanelView.defaultProps = {\n  view: MENU.ui,\n};\n\nexport default RightPanelView;\n","import lodash from \"lodash\";\n\nconst generateId = () => {\n  return Math.floor(Math.random() * 90000) + 10000;\n};\n\nexport const getInitRowField = () => {\n  const initRows = [{ ...rowField }, { ...rowField }, { ...rowField }];\n  return initRows.map((item) => {\n    const id = generateId();\n    return {\n      ...item,\n      name: \"name-\" + id,\n      label: \"label-\" + id,\n    };\n  });\n};\n\nexport const getSingleRow = (stepOptions) => {\n  const row = { ...rowField };\n  const id = generateId();\n  row.name = rowField.name + `-${id}`;\n  row.label = rowField.label + `-${id}`;\n  if (lodash.get(stepOptions, \"[0]\")) {\n    row.step = lodash.get(stepOptions, \"[0].value\");\n  }\n  return row;\n};\n\nexport const getInitRowQuerySchema = () => {\n  const initRows = [{ ...rowQuerySchema }];\n  return initRows.map((item) => {\n    const id = generateId();\n    return {\n      ...item,\n      name: \"name-\" + id,\n      label: \"label-\" + id,\n    };\n  });\n};\n\nexport const getSingleRowQuerySchema = () => {\n  const row = { ...rowQuerySchema };\n  const id = generateId();\n  row.name = rowQuerySchema.name + `-${id}`;\n  row.label = rowQuerySchema.label + `-${id}`;\n  return row;\n};\n\nexport const rowField = {\n  name: \"name\",\n  label: \"label\",\n  fieldType: \"input\",\n  _fieldType: [\"input\"],\n  placeholder: \"\",\n  defaultValue: \"\",\n  step: \"\",\n  require: false,\n  disabled: false,\n  twoColumn: false,\n  extraMargin: false,\n  columnWidth: \"\",\n  cellEllipsis: false,\n  columnHide: false,\n  disabledSorting: false,\n  disableFilter: false,\n};\n\nexport const rowQuerySchema = {\n  name: \"name\",\n  label: \"label\",\n  fieldType: \"input\",\n  placeholder: \"\",\n};\n\nexport const disabledDefaultList = [\n  \"common|barcode scanner\",\n  \"upload|single file\",\n  \"upload|multiple images\",\n  \"upload|firebase\",\n  \"upload|google cloud storage\",\n  \"dropdown\",\n  \"custom component|dependent input example\",\n  \"custom component|async searchable dropdown\",\n  \"common|password\",\n];\n\nexport const placeholderDefault = {\n  checkbox: \"true/false\",\n  date: \"YYYY-MM-DD\",\n  \"format|url\": \"http://www.google.com/...\",\n  \"format|thai tel\": \"0811111111\",\n  \"format|email\": \"abc@example.com\",\n  \"format|thai citizen id\": \"0139499973311\",\n  \"format|thai zipcode\": \"10210\",\n  number: \"0/1/2/...\",\n};\n\nexport const fieldOptions = [\n  \"require\",\n  \"disabled\",\n  \"twoColumn\",\n  \"extraMargin\",\n  \"appendDivider\",\n];\n\nexport const columnOptions = [\n  \"cellEllipsis\",\n  \"columnHide\",\n  \"disableSorting\",\n  \"disableFilter\",\n];\n\nexport const fieldTree = [\n  { l: \"input\" },\n  { l: \"dropdown\" },\n  { l: \"checkbox\" },\n  { l: \"number\" },\n  { l: \"date\" },\n  {\n    l: \"common\",\n    c: [{ l: \"text area\" }, { l: \"password\" }, { l: \"barcode scanner\" }],\n  },\n  {\n    l: \"format\",\n    c: [\n      { l: \"url\" },\n      { l: \"email\" },\n      { l: \"thai tel\" },\n      { l: \"thai citizen id\" },\n      { l: \"thai zipcode\" },\n      { l: \"regex validation example\" },\n      { l: \"custom validation example\" },\n    ],\n  },\n  {\n    l: \"upload\",\n    c: [\n      { l: \"single file\" },\n      { l: \"multiple images\" },\n      { l: \"firebase\" },\n      { l: \"google cloud storage\" },\n    ],\n  },\n  {\n    l: \"hierarchical dropdown\",\n    c: [\n      { l: \"static option, allow modify\" },\n      { l: \"static option, no modify\" },\n      { l: \"async option, no modify\" },\n      { l: \"thai province\" },\n    ],\n  },\n  {\n    l: \"custom component\",\n    c: [{ l: \"async searchable dropdown\" }, { l: \"dependent input example\" }],\n  },\n];\n\nexport const queryFieldTree = [\n  \"input\",\n  \"dropdown\",\n  \"number\",\n  \"checkbox\",\n  \"date\",\n];\n","export const fullWidth = {\n  width: \"100%\",\n};\n\nexport const Wrapper1 = {\n  padding: \"1rem\",\n};\n\nexport const Wrapper2 = {\n  padding: \"0 1rem\",\n};\n\nexport const contentWhite = {\n  backgroundColor: \"white\",\n  padding: \"2rem\",\n  borderRadius: 8,\n};\n\nexport const gray = {\n  color: \"#ccc\",\n};\n\nexport const layoutMargin = {\n  display: \"flex\",\n  flexDirection: \"column\",\n  margin: \"0 0 1rem 0\",\n};\n\nexport const checkbox = {\n  marginLeft: 0,\n  marginTop: \"0.5rem\",\n};\n\nexport const input = {\n  maxWidth: 500,\n  marginRight: \"1rem\",\n  marginBottom: \"1rem\",\n};\n\nexport const VerticalSpacer = {\n  margin: \"2rem 0\",\n};\n\nexport const rowInput = {\n  marginBottom: \"1rem\",\n};\n","import _ from \"lodash\";\nimport { disabledDefaultList } from \"./data-field\";\n\nexport const checkIsDisabledDefault = (type) => {\n  const findDisabledIndex = disabledDefaultList.findIndex((v) => v === type);\n  return findDisabledIndex > -1;\n};\n\nexport const createOptions = (options) => {\n  if (!Array.isArray(options)) {\n    return [];\n  }\n  return options.map((item) => ({ label: item, value: item }));\n};\n\nexport const createConfig = (index, options, newForm, dataOptions) => {\n  if (!_.get(options, \"[0]\")) {\n    const defaultConfig = {};\n    dataOptions.forEach((item) => {\n      defaultConfig[item] = false;\n    });\n    newForm[index] = {\n      ...(newForm[index] && newForm[index]),\n      ...defaultConfig,\n    };\n    return newForm;\n  }\n  const keyDiffOptions = _.keyBy(_.difference(dataOptions, options));\n  dataOptions.forEach((item) => {\n    if (keyDiffOptions[item]) {\n      newForm[index][item] = false;\n    } else {\n      newForm[index][item] = true;\n    }\n  });\n  return newForm;\n};\n\n\nexport const createStepOptions = () => {\n  const options = [{ label: 'No step', value: 'No step' }];\n  for (let i = 2; i <= 20; i++) {\n    options.push({ label: i + ' step', value: i })\n  }\n  return options;\n}\n\nexport const getDefaultBooleanConfig = (options) => {\n  if (!Array.isArray(options)) {\n    return options;\n  }\n  return options.find(item => item.label === 'extraMargin')\n}\n\nexport const getHeader = (name, step) => {\n  if (!step && step !== 0) {\n    return name;\n  }\n  return `${name} (${step})`\n}","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport lodash from \"lodash\";\nimport { PlusOutlined } from \"@ant-design/icons\";\nimport {\n  Input,\n  Form,\n  Checkbox,\n  Collapse,\n  Row,\n  Col,\n  Typography,\n  Select,\n  Divider,\n  Button,\n} from \"antd\";\nimport { SETTINGS } from \"../constants\";\nimport {\n  queryFieldTree,\n  getInitRowQuerySchema,\n  getSingleRowQuerySchema,\n} from \"./data-field\";\nimport * as styles from \"./styles\";\nimport * as logic from \"./logic\";\n\nconst RenderSetting = (props) => {\n  const { settingState, setSettingState } = props;\n  const [optionsStep] = useState(() => logic.createStepOptions());\n\n  const cloneState = () => {\n    const newSettings = { ...settingState };\n    return newSettings;\n  };\n\n  const onChangeCheckbox = (type) => {\n    const newSettings = cloneState();\n    if (newSettings[type]) {\n      delete newSettings[type];\n    } else {\n      newSettings[type] = true;\n    }\n    setSettingState(newSettings);\n  };\n\n  const onChangeField = (key, value) => {\n    const newSettings = cloneState();\n    newSettings[key] = value;\n    if (key === \"step\") {\n      onChangeSteps(newSettings, value);\n      return;\n    }\n    setSettingState(newSettings);\n  };\n\n  const onChangeSteps = (state, numberOfStep) => {\n    if (numberOfStep === \"No step\") {\n      state.step = numberOfStep;\n      state.steps = [];\n    }\n    const steps = [];\n    for (let i = 1; i <= numberOfStep; i++) {\n      steps.push({ placeholder: `label step ${i}`, value: `label step ${i}` });\n    }\n    state.steps = [...steps];\n    setSettingState(state);\n  };\n\n  const onChangeInputSteps = (index, value) => {\n    const newSettings = cloneState();\n    newSettings.steps[index].value = value;\n    setSettingState(newSettings);\n  };\n\n  const onChangCheckboxQuery = () => {\n    const newSettings = cloneState();\n    if (newSettings.querySchema.query) {\n      newSettings.querySchema.schema = [...getInitRowQuerySchema()];\n    }\n    newSettings.querySchema.query = !newSettings.querySchema.query;\n    setSettingState(newSettings);\n  };\n\n  const onChangeFieldQuerySchema = (index, key, value) => {\n    if (!key) {\n      return;\n    }\n    const newSettings = cloneState();\n    if (!newSettings.querySchema.schema[index]) {\n      return;\n    }\n    newSettings.querySchema.schema[index][key] = value;\n    setSettingState(newSettings);\n  };\n\n  const onAddQuerySchema = () => {\n    const newSettings = cloneState();\n    newSettings.querySchema.schema = [\n      ...newSettings.querySchema.schema,\n      { ...getSingleRowQuerySchema() },\n    ];\n    setSettingState(newSettings);\n  };\n\n  const onDeleteQuerySchema = (index) => {\n    const newSettings = cloneState();\n    if (!lodash.get(newSettings.querySchema?.schema, \"[1]\")) {\n      newSettings.querySchema.query = false;\n      newSettings.querySchema.schema = [...getInitRowQuerySchema()];\n    } else {\n      newSettings.querySchema.schema.splice(index, 1);\n    }\n    setSettingState(newSettings);\n  };\n\n  return (\n    <Form>\n      <Typography.Title level={5}>Table Settings</Typography.Title>\n      <Input\n        style={styles.input}\n        placeholder=\"name\"\n        value={settingState?.name}\n        onChange={(event) => onChangeField(\"name\", event.target.value)}\n      />\n      <Input\n        style={styles.input}\n        placeholder=\"description\"\n        value={settingState?.description}\n        onChange={(event) => onChangeField(\"description\", event.target.value)}\n      />\n      <div style={styles.layoutMargin}>\n        {Array.isArray(SETTINGS) &&\n          SETTINGS.map((item, index) => (\n            <Checkbox\n              key={index.toString()}\n              style={{\n                margin: index === 0 ? \"0.2rem 0 0.5rem 0\" : \"0 0 0.5rem 0\",\n              }}\n              checked={settingState[item]}\n              onChange={() => onChangeCheckbox(item)}\n            >\n              {item}\n            </Checkbox>\n          ))}\n        <Divider />\n        <div>\n          <Typography.Title level={5}>Multi-step Form</Typography.Title>\n          <Row>\n            <Typography.Text style={{ padding: \"0.25rem 0.5rem 0 0\" }}>\n              Form Steps\n            </Typography.Text>\n            {Array.isArray(optionsStep) && (\n              <Select\n                defaultValue={settingState?.step || optionsStep[0].value}\n                style={{ flex: 1 }}\n                onChange={(value) => onChangeField(\"step\", value)}\n              >\n                {optionsStep.map((st, si) => (\n                  <Select.Option key={si.toString()} value={st.value}>\n                    {st.label}\n                  </Select.Option>\n                ))}\n              </Select>\n            )}\n          </Row>\n          <div style={{ paddingTop: \"1rem\" }}>\n            {Array.isArray(settingState?.steps) &&\n              settingState.steps.map((item, index) => (\n                <Row key={index.toString()} style={{ padding: \"0.5rem 0\" }}>\n                  <Col style={{ padding: \"0.25rem 0.5rem 0 0\", width: 65 }}>\n                    <Typography.Text>{`step ${index + 1}`}</Typography.Text>\n                  </Col>\n                  <Col flex=\"1\">\n                    <Input\n                      placeholder={item.placeholder}\n                      value={item.value}\n                      onChange={(event) =>\n                        onChangeInputSteps(index, event.target.value)\n                      }\n                    />\n                  </Col>\n                </Row>\n              ))}\n          </div>\n        </div>\n        <Divider />\n        <div>\n          <Typography.Title level={5}>Table Query</Typography.Title>\n          <Checkbox\n            checked={settingState.querySchema?.query || false}\n            onChange={() => onChangCheckboxQuery()}\n          >\n            enable table query\n          </Checkbox>\n          {settingState.querySchema?.query && (\n            <>\n              <div style={{ padding: \"1rem 0 0 0\" }}>\n                {lodash.get(settingState.querySchema?.schema, \"[0]\") && (\n                  <Collapse defaultActiveKey={[\"0\"]} accordion>\n                    {settingState.querySchema.schema.map((qs, qi) => (\n                      <Collapse.Panel\n                        key={qi.toString()}\n                        header={qs.name}\n                        extra={\n                          <Button\n                            type=\"dashed\"\n                            danger\n                            onClick={(event) => {\n                              onDeleteQuerySchema(qi);\n                              event.stopPropagation();\n                            }}\n                          >\n                            Delete\n                          </Button>\n                        }\n                      >\n                        <Row style={styles.rowInput}>\n                          <Col flex=\"1\">\n                            <Input\n                              placeholder=\"name\"\n                              value={qs.name}\n                              onChange={(event) =>\n                                onChangeFieldQuerySchema(\n                                  qi,\n                                  \"name\",\n                                  event.target.value\n                                )\n                              }\n                            />\n                          </Col>\n                          <Col span=\"1\" />\n                          <Col flex=\"1\">\n                            <Input\n                              placeholder=\"label\"\n                              value={qs.label}\n                              onChange={(event) =>\n                                onChangeFieldQuerySchema(\n                                  qi,\n                                  \"label\",\n                                  event.target.value\n                                )\n                              }\n                            />\n                          </Col>\n                        </Row>\n                        <Row style={styles.rowInput}>\n                          <Col flex=\"1\">\n                            <Row>\n                              <Typography.Text\n                                style={{ padding: \"0.25rem 0.5rem 0 0\" }}\n                              >\n                                FieldType\n                              </Typography.Text>\n                              {Array.isArray(queryFieldTree) && (\n                                <Select\n                                  defaultValue={queryFieldTree[0]}\n                                  style={{ flex: 1 }}\n                                  onChange={(value) =>\n                                    onChangeFieldQuerySchema(\n                                      qi,\n                                      \"fieldType\",\n                                      value\n                                    )\n                                  }\n                                >\n                                  {queryFieldTree.map((ft, fi) => (\n                                    <Select.Option\n                                      key={fi.toString()}\n                                      value={ft}\n                                    >\n                                      {ft}\n                                    </Select.Option>\n                                  ))}\n                                </Select>\n                              )}\n                            </Row>\n                          </Col>\n                          <Col span=\"1\" />\n                          <Col flex=\"1\">\n                            <Input\n                              placeholder=\"placeholder\"\n                              value={qs.placeholder}\n                              onChange={(event) => {\n                                onChangeFieldQuerySchema(\n                                  qi,\n                                  \"placeholder\",\n                                  event.target.value\n                                );\n                              }}\n                            />\n                          </Col>\n                        </Row>\n                      </Collapse.Panel>\n                    ))}\n                  </Collapse>\n                )}\n              </div>\n              <div>\n                <Button\n                  block\n                  type=\"primary\"\n                  icon={<PlusOutlined />}\n                  style={styles.VerticalSpacer}\n                  onClick={onAddQuerySchema}\n                >\n                  Add Query\n                </Button>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </Form>\n  );\n};\n\nRenderSetting.propTypes = {\n  formState: PropTypes.array.isRequired,\n  setSettingState: PropTypes.func.isRequired,\n};\n\nexport default RenderSetting;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Form,\n  Button,\n  Collapse,\n  Select,\n  Row,\n  Col,\n  Input,\n  Checkbox,\n  Divider,\n  Typography,\n  Cascader,\n} from \"antd\";\nimport _ from \"lodash\";\nimport {\n  fieldOptions,\n  columnOptions,\n  getSingleRow,\n  placeholderDefault,\n  fieldTree,\n} from \"./data-field\";\nimport * as styles from \"./styles\";\nimport * as logic from \"./logic\";\nimport { UpOutlined, DownOutlined, DeleteOutlined } from \"@ant-design/icons\";\n\nconst FormFields = (props) => {\n  const { formState, setFormState, settingState } = props;\n\n  const [dataFieldOptions] = useState(() => logic.createOptions(fieldOptions));\n  const [dataColumnOptions] = useState(() =>\n    logic.createOptions(columnOptions)\n  );\n\n  useEffect(() => {\n    if (_.get(settingState?.steps, \"[0]\")) {\n      onSetDefaultStep();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [settingState]);\n\n  const onSetDefaultStep = () => {\n    let newForm = [...formState];\n    if (!Array.isArray(newForm)) {\n      return;\n    }\n    newForm = newForm.map((item) => {\n      const rowForm = { ...item };\n      if (!rowForm.step) {\n        rowForm.step = _.get(settingState.steps, \"[0].value\");\n      }\n      const isStepValueChanged =\n        rowForm.step &&\n        !settingState.steps.find((s) => s.value === rowForm.step);\n      if (isStepValueChanged) {\n        rowForm.step = _.get(settingState.steps, \"[0].value\");\n      }\n      return rowForm;\n    });\n    setFormState(newForm);\n  };\n\n  const onDeleteField = (index) => {\n    if (!Array.isArray(formState)) {\n      return;\n    }\n    if (!_.get(formState, \"[1]\")) {\n      setFormState([{ ...getSingleRow(settingState?.steps) }]);\n      return;\n    }\n    const newForm = [...formState];\n    newForm.splice(index, 1);\n    setFormState(newForm);\n  };\n\n  const onMoveUp = (index) => {\n    if (!Array.isArray(formState) || index === 0) {\n      return;\n    }\n    const newForm = [...formState];\n    newForm.splice(index - 1, 2, formState[index], formState[index - 1]);\n    setFormState(newForm);\n  };\n\n  const onMoveDown = (index) => {\n    if (!Array.isArray(formState) || index === formState.length - 1) {\n      return;\n    }\n    const newForm = [...formState];\n    newForm.splice(index, 2, formState[index + 1], formState[index]);\n    setFormState(newForm);\n  };\n\n  const onChangeField = (index, key, value) => {\n    if (!Array.isArray(formState) || !key) {\n      return;\n    }\n    let newForm = [...formState];\n    if (!newForm[index] || !newForm[index]?.hasOwnProperty(key)) {\n      return;\n    }\n    newForm[index][key] = value;\n    if (key === \"fieldType\" && logic.checkIsDisabledDefault(value)) {\n      newForm[index].defaultValue = \"\";\n    }\n    setFormState([...newForm]);\n  };\n\n  const onChangeConfig = (key, index, options) => {\n    let newForm = [...formState];\n    const data = key === \"field\" ? fieldOptions : columnOptions;\n    const newOptionConfig = logic.createConfig(index, options, newForm, data);\n    setFormState([...newOptionConfig]);\n  };\n\n  return (\n    <div>\n      <Form>\n        {formState.length && (\n          <Collapse defaultActiveKey={formState[0].name} accordion>\n            {formState.map((item, index) => (\n              <Collapse.Panel\n                key={item.name}\n                header={logic.getHeader(item.label, item.step)}\n                extra={\n                  <>\n                    <Button\n                      icon={<UpOutlined style={styles.gray} />}\n                      type=\"text\"\n                      onClick={(event) => {\n                        onMoveUp(index);\n                        event.stopPropagation();\n                      }}\n                    />\n                    <Button\n                      icon={<DownOutlined style={styles.gray} />}\n                      type=\"text\"\n                      onClick={(event) => {\n                        onMoveDown(index);\n                        event.stopPropagation();\n                      }}\n                    />\n                    <Button\n                      icon={<DeleteOutlined style={styles.gray} />}\n                      type=\"text\"\n                      onClick={(event) => {\n                        onDeleteField(index);\n                        event.stopPropagation();\n                      }}\n                    />\n                  </>\n                }\n              >\n                <Row style={styles.rowInput}>\n                  <Col flex=\"1\">\n                    <Input\n                      placeholder=\"label\"\n                      value={item.label}\n                      onChange={(event) =>\n                        onChangeField(index, \"label\", event.target.value)\n                      }\n                    />\n                  </Col>\n                  <Col span=\"1\" />\n                  <Col flex=\"1\">\n                    <Input\n                      placeholder=\"name\"\n                      value={item.name}\n                      onChange={(event) =>\n                        onChangeField(index, \"name\", event.target.value)\n                      }\n                    />\n                  </Col>\n                </Row>\n                <Row style={styles.rowInput}>\n                  <Col flex=\"1\">\n                    <Row>\n                      <Typography.Text\n                        style={{ padding: \"0.25rem 0.5rem 0 0\" }}\n                      >\n                        FieldType\n                      </Typography.Text>\n                      <Cascader\n                        showSearch\n                        allowClear={false}\n                        fieldNames={{ label: \"l\", value: \"l\", children: \"c\" }}\n                        options={fieldTree}\n                        value={item._fieldType}\n                        onChange={(value) => {\n                          onChangeField(index, \"_fieldType\", value);\n                          onChangeField(index, \"fieldType\", value.join(\"|\"));\n                        }}\n                      />\n                    </Row>\n                  </Col>\n                  <Col span=\"1\" />\n                  <Col flex=\"1\">\n                    <Input\n                      placeholder={\n                        \"defaultValue \" +\n                        (placeholderDefault[item.fieldType]\n                          ? \"ex. \" + placeholderDefault[item.fieldType]\n                          : \"\")\n                      }\n                      disabled={logic.checkIsDisabledDefault(item.fieldType)}\n                      value={item.defaultValue}\n                      onChange={(event) =>\n                        onChangeField(index, \"defaultValue\", event.target.value)\n                      }\n                    />\n                  </Col>\n                </Row>\n                <Row style={styles.rowInput}>\n                  <Col flex=\"1\">\n                    <Input\n                      placeholder=\"placeholder\"\n                      value={item.placeholder}\n                      disabled={item.fieldType === \"checkbox\"}\n                      onChange={(event) =>\n                        onChangeField(index, \"placeholder\", event.target.value)\n                      }\n                    />\n                  </Col>\n                  <Col span=\"1\" />\n                  <Col flex=\"1\">\n                    {_.get(settingState?.steps, \"[0]\") && (\n                      <Row>\n                        <Typography.Text\n                          style={{ padding: \"0.25rem 0.5rem 0 0\" }}\n                        >\n                          Step\n                        </Typography.Text>\n                        <Select\n                          defaultValue={\n                            !_.isNil(item.step)\n                              ? item.step\n                              : settingState.steps[0].value\n                          }\n                          style={{ flex: 1 }}\n                          value={item.step || settingState.steps[0].value}\n                          onChange={(value) =>\n                            onChangeField(index, \"step\", value)\n                          }\n                        >\n                          {settingState.steps.map((st, si) => (\n                            <Select.Option key={si.toString()} value={st.value}>\n                              {st.value || `step ${si}`}\n                            </Select.Option>\n                          ))}\n                        </Select>\n                      </Row>\n                    )}\n                  </Col>\n                </Row>\n                <Checkbox.Group\n                  options={dataFieldOptions || []}\n                  onChange={(option) => onChangeConfig(\"field\", index, option)}\n                />\n                <Divider type=\"horizontal\" />\n                <Row style={{ marginBottom: \"1rem\" }}>\n                  <Col span=\"12\">\n                    <Input\n                      type=\"number\"\n                      placeholder=\"columnWidth\"\n                      value={item.columnWidth}\n                      onChange={(event) =>\n                        onChangeField(index, \"columnWidth\", event.target.value)\n                      }\n                    />\n                  </Col>\n                </Row>\n                <Checkbox.Group\n                  options={dataColumnOptions || []}\n                  onChange={(option) => onChangeConfig(\"column\", index, option)}\n                />\n              </Collapse.Panel>\n            ))}\n          </Collapse>\n        )}\n      </Form>\n    </div>\n  );\n};\n\nFormFields.propTypes = {\n  formState: PropTypes.array.isRequired,\n  setFormState: PropTypes.func.isRequired,\n  settingState: PropTypes.object,\n};\n\nexport default FormFields;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport RenderSetting from \"./setting\";\nimport RenderFormFields from \"./form-fields\";\nimport { MENU_FORM } from \"../constants\";\nimport * as styles from \"./styles\";\nimport _ from \"lodash\";\n\nconst LeftPanelView = (props) => {\n  const { view } = props;\n  const otherProps = _.omit({ ...(props && props) }, [\"view\"]) || {};\n\n  if (view === MENU_FORM.setting) {\n    return (\n      <div style={styles.Wrapper1}>\n        <RenderSetting {...otherProps} />\n      </div>\n    );\n  }\n  return (\n    <div style={styles.Wrapper2}>\n      <RenderFormFields {...otherProps} />\n    </div>\n  );\n};\n\nLeftPanelView.propTypes = {\n  view: PropTypes.oneOf([MENU_FORM.form, MENU_FORM.setting]),\n  formState: PropTypes.array.isRequired,\n  setFormState: PropTypes.func.isRequired,\n  settingState: PropTypes.object.isRequired,\n  setSettingState: PropTypes.func.isRequired,\n};\n\nLeftPanelView.defaultProps = {\n  view: MENU_FORM.form,\n};\n\nexport default LeftPanelView;\n","const panelColor = \"rgb(35,39,46)\";\nconst panelColor2 = \"#dfe6e9\";\n\nexport const LayoutContainer = {\n  display: \"flex\",\n  flexDirection: \"column\",\n  width: \"100%\",\n  height: \"100%\",\n  minWidth: 800,\n};\n\nexport const panelContainer = {\n  flex: 1,\n  display: \"flex\",\n  justifyContent: \"space-between\",\n  width: \"100%\",\n};\n\nexport const resizableContainer = {\n  height: \"100%\",\n  width: 5,\n  cursor: \"col-resize\",\n};\n\nexport const leftPanelContainer = {\n  backgroundColor: \"white\",\n  padding: \"1rem\",\n  marginLeft: 6,\n  marginBottom: 6,\n  borderRadius: 8,\n  border: `1px solid ${panelColor}`,\n  position: \"relative\",\n};\n\nexport const rightPanelContainer = {\n  backgroundColor: panelColor,\n};\n\nexport const rightPanelContainer2 = {\n  backgroundColor: panelColor2,\n};\n\nexport const LeftContent = {\n  height: \"100%\",\n};\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useRef, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { CheckCircleTwoTone, CloseCircleTwoTone } from \"@ant-design/icons\";\nimport { Row, Button } from \"antd\";\nimport { useWindowSize } from \"./hooks\";\nimport { MENU_FORM } from \"../constants\";\nimport * as styles from \"../styles\";\nimport * as innerStyles from \"./styles\";\n\nconst MIN_WIDTH = 400;\nconst OTHER_ELEM_SIZE = 52;\nconst INNER_ELEM_SIZE = 72;\n\nconst PanelView = (props) => {\n  const {\n    leftView,\n    rightView,\n    rightViewStyle,\n    menu,\n    bottomBar,\n    currentView,\n    validateSchema,\n  } = props;\n  const splitPanelRef = useRef();\n  const leftPanelRef = useRef();\n  const [isDragging, setIsDragging] = useState(false);\n  const [separatorXPosition, setSeparatorXPosition] = useState();\n  const [leftPanelWidth, setLeftPanelWidth] = useState();\n  const [windowHeight] = useWindowSize();\n  const [showError, setShowError] = useState(false);\n\n  useEffect(() => {\n    document.addEventListener(\"mousemove\", onMouseMove);\n    document.addEventListener(\"touchmove\", onTouchMove);\n    document.addEventListener(\"mouseup\", onMouseUp);\n\n    return () => {\n      document.removeEventListener(\"mousemove\", onMouseMove);\n      document.removeEventListener(\"touchmove\", onTouchMove);\n      document.removeEventListener(\"mouseup\", onMouseUp);\n    };\n  });\n\n  useEffect(() => {\n    if (validateSchema?.isValidate && showError) {\n      setShowError(false);\n    }\n  }, [showError, validateSchema]);\n\n  const onEventMouseDown = (event) => {\n    if (!event) {\n      return;\n    }\n    setSeparatorXPosition(event.clientX);\n    if (!isDragging) {\n      setIsDragging(true);\n    }\n    if (!leftPanelWidth && leftPanelRef.current) {\n      setLeftPanelWidth(leftPanelRef.current.clientWidth);\n    }\n  };\n\n  const onMouseMove = (e) => {\n    if (isDragging) {\n      e.preventDefault();\n    }\n    onMove(e.clientX);\n  };\n\n  const onTouchMove = (e) => {\n    if (!e) {\n      return;\n    }\n    onMove(e.touches[0].clientX);\n  };\n\n  const onMouseUp = () => {\n    setSeparatorXPosition(undefined);\n    setIsDragging(false);\n  };\n\n  const onMove = (clientX) => {\n    if (!clientX) {\n      return;\n    }\n    if (isDragging && leftPanelWidth && separatorXPosition) {\n      const newLeftWidth = leftPanelWidth + clientX - separatorXPosition;\n      setSeparatorXPosition(clientX);\n      if (newLeftWidth < MIN_WIDTH) {\n        setLeftPanelWidth(MIN_WIDTH);\n        return;\n      }\n      if (splitPanelRef.current) {\n        const splitPaneWidth = splitPanelRef.current.clientWidth;\n        if (newLeftWidth > splitPaneWidth - MIN_WIDTH) {\n          setLeftPanelWidth(splitPaneWidth - MIN_WIDTH);\n          return;\n        }\n      }\n      setLeftPanelWidth(newLeftWidth);\n    }\n  };\n\n  const getElemSize = () => {\n    const defaultSize = OTHER_ELEM_SIZE + INNER_ELEM_SIZE;\n    if (currentView === MENU_FORM.form) {\n      return defaultSize + 40 + 60;\n    }\n    return defaultSize;\n  };\n\n  return (\n    <div ref={splitPanelRef} style={styles.panelContainer}>\n      <div\n        ref={leftPanelRef}\n        style={{\n          ...styles.leftPanelContainer,\n          width: leftPanelWidth || \"50%\",\n          ...(windowHeight && {\n            height: windowHeight - OTHER_ELEM_SIZE,\n          }),\n        }}\n      >\n        <div style={{ height: 40 }}>{menu}</div>\n        {currentView === MENU_FORM.form && (\n          <Row\n            style={{\n              alignItems: \"center\",\n              margin: \"0.5rem 1rem 1rem 1rem\",\n              height: 32,\n            }}\n          >\n            {validateSchema?.isValidate && (\n              <CheckCircleTwoTone\n                twoToneColor=\"#52c41a\"\n                style={{ fontSize: 24 }}\n              />\n            )}\n            {!validateSchema?.isValidate && (\n              <CloseCircleTwoTone\n                twoToneColor=\"#eb2f96\"\n                style={{ fontSize: 24 }}\n              />\n            )}\n            <span style={{ paddingLeft: \"0.5rem\" }}>Validate Schema</span>\n            {!validateSchema?.isValidate && (\n              <Button\n                style={{ marginLeft: 16 }}\n                type=\"primary\"\n                danger\n                onClick={() => setShowError(!showError)}\n              >\n                {showError ? \"HIDE ERROR\" : \"SHOW ERROR\"}\n              </Button>\n            )}\n          </Row>\n        )}\n        <div\n          style={{\n            overflow: \"auto\",\n            height: \"100%\",\n            ...(windowHeight && {\n              maxHeight: windowHeight - getElemSize(),\n            }),\n          }}\n        >\n          {leftView}\n        </div>\n        {currentView === MENU_FORM.form && (\n          <div style={{ height: 40, paddingTop: 8 }}>{bottomBar}</div>\n        )}\n      </div>\n      <div style={styles.resizableContainer} onMouseDown={onEventMouseDown} />\n      <div\n        style={{\n          ...(leftPanelRef.current && {\n            height: windowHeight - OTHER_ELEM_SIZE,\n          }),\n          ...(rightViewStyle && rightViewStyle),\n          ...innerStyles.rightPanel,\n        }}\n      >\n        <div>\n          {!showError && rightView}\n          {showError && (\n            <>\n              <h2 style={{ color: \"white\" }}>SCHEMA ERROR</h2>\n              <span style={{ color: \"white\", fontSize: 20 }}>\n                {validateSchema?.message}\n              </span>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nPanelView.propTypes = {\n  currentView: PropTypes.oneOf([MENU_FORM.form, MENU_FORM.setting]).isRequired,\n  menu: PropTypes.any,\n  bottomBar: PropTypes.any,\n  leftView: PropTypes.any.isRequired,\n  rightView: PropTypes.any.isRequired,\n  rightViewStyle: PropTypes.object,\n  validateSchema: PropTypes.object.isRequired,\n};\n\nPanelView.defaultProps = {\n  rightViewStyle: null,\n  menu: null,\n};\n\nexport default PanelView;\n","import { useLayoutEffect, useState } from \"react\";\n\nexport const useWindowSize = () => {\n  const [size, setSize] = useState([0, 0]);\n  useLayoutEffect(() => {\n    function updateSize() {\n      setSize([window.innerHeight, window.innerWidth]);\n    }\n    window.addEventListener(\"resize\", updateSize);\n    updateSize();\n    return () => window.removeEventListener(\"resize\", updateSize);\n  }, []);\n  return size;\n};\n","import lodash from \"lodash\";\nimport { validateEditor } from \"../../logic\";\n\nconst OMIT_SETTING = [\"step\"];\n\nconst findStep = (steps, target) => {\n  const stepValue = steps.findIndex((item) => item.value === target);\n  if (stepValue < 0) {\n    return 0;\n  }\n  return stepValue;\n};\n\nconst cleanDefault = (row) => {\n  if (!row) {\n    return row;\n  }\n  for (const [key, value] of Object.entries(row)) {\n    if (value || value === 0) {\n      row[key] = value;\n    } else {\n      delete row[key];\n    }\n  }\n  return row;\n};\n\nconst cleanColWidth = (colWidth) => {\n  try {\n    return parseInt(colWidth, 10);\n  } catch (error) {\n    return \"\";\n  }\n};\n\nexport const cleanTableSettingBeforeTrans = (setting) => {\n  if (!setting) {\n    return setting;\n  }\n  const newSetting = { ...setting };\n  const omitSetting = [...OMIT_SETTING];\n  if (lodash.get(newSetting.steps, \"[0]\")) {\n    newSetting.steps = newSetting.steps\n      .map((item, index) => item.value || `label step ${index + 1}`)\n      .join(\",\");\n  }\n  if (!newSetting.steps || !lodash.get(newSetting.steps, \"[0]\")) {\n    omitSetting.push(\"steps\");\n  }\n  if (!newSetting.querySchema?.query) {\n    omitSetting.push(\"querySchema\");\n  }\n  if (newSetting.querySchema?.query) {\n    const schema = [...newSetting.querySchema.schema];\n    newSetting.querySchema = schema;\n  }\n  return lodash.omit(newSetting, omitSetting);\n};\n\nexport const cleanFormBeforeTrans = (editor, settingSteps) => {\n  if (!Array.isArray(editor) || !Array.isArray(settingSteps)) {\n    return editor;\n  }\n  const schema = editor.map((item, index) => {\n    let row = { ...item };\n    row.step = findStep(settingSteps, item.step);\n    if (!item.label) {\n      row.label = `label_${index}`;\n    }\n    if (!item.name) {\n      row.name = `name_${index}`;\n    }\n    if (item.columnWidth) {\n      row.columnWidth = cleanColWidth(item.columnWidth);\n    }\n    return cleanDefault(row);\n  });\n  return schema;\n};\n\nexport const validateSchema = (editor) => {\n  const validateSchema = validateEditor(editor);\n  const error = lodash.get(validateSchema, \"error.details\");\n  if (!lodash.get(error, \"[0].message\")) {\n    return [true, \"\"];\n  }\n  const message = error.map((item) => {\n    return `- ${item.message}\\n`;\n  });\n  return [false, message.join(\" \")];\n};\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport { Row, Col, Typography, Button } from \"antd\";\nimport lodash from \"lodash\";\nimport { PlusOutlined } from \"@ant-design/icons\";\nimport MenuView from \"./views/menu\";\nimport MenuFormView from \"./views/menu-form\";\nimport RightPanelView from \"./right-panel-views\";\nimport LeftPanelView from \"./left-panel-views\";\nimport PanelContainerView from \"./views/panel\";\nimport { MENU, MENU_FORM } from \"./constants\";\nimport {\n  getInitRowField,\n  getInitRowQuerySchema,\n  getSingleRow,\n} from \"./left-panel-views/data-field\";\n\nimport * as styles from \"./styles\";\nimport * as logic from \"./logic\";\n\nconst DELAY_TIMER = 500;\n\nconst EditorScreen = () => {\n  const [currentMenuState, setCurrentMenuState] = useState({\n    current: MENU.ui,\n  });\n  const [currentMenuFormState, setCurrentMenuFormState] = useState({\n    current: MENU_FORM.form,\n  });\n  const [formState, setFormState] = useState(() => getInitRowField());\n  const [settingState, setSettingState] = useState(() => ({\n    name: \"example-tb-name\",\n    canCreate: true,\n    canUpdate: true,\n    canDelete: true,\n    querySchema: {\n      query: false,\n      schema: [...getInitRowQuerySchema()],\n    },\n    steps: [],\n  }));\n  const [tableSettingProps, setTableSettingProps] = useState();\n  const [schemaProps, setSchemaProps] = useState();\n  const [schemaValidateState, setSchemaValidateState] = useState({\n    isValidate: true,\n    message: \"\",\n  });\n\n  useEffect(() => {\n    if (lodash.get(settingState, \"name\")) {\n      debounceTableTrans();\n    }\n  }, [settingState]);\n\n  useEffect(() => {\n    if (lodash.get(formState, \"[0]\")) {\n      debounceSchemaTrans();\n    }\n  }, [formState]);\n\n  const onSettingChange = () => {\n    const setting = logic.cleanTableSettingBeforeTrans(settingState);\n    setTableSettingProps(setting);\n  };\n\n  const onFormSchemaChange = () => {\n    const schema = logic.cleanFormBeforeTrans(formState, settingState?.steps);\n    setSchemaProps(schema);\n    const [isValidate, message] = logic.validateSchema(schema);\n    setSchemaValidateState({ isValidate, message });\n  };\n\n  const onAddField = () => {\n    if (!Array.isArray(formState)) {\n      return;\n    }\n    const newForm = [...formState];\n    newForm.push({ ...getSingleRow(settingState?.steps) });\n    setFormState(newForm);\n  };\n\n  const debounceTableTrans = lodash.debounce(onSettingChange, DELAY_TIMER);\n  const debounceSchemaTrans = lodash.debounce(onFormSchemaChange, DELAY_TIMER);\n\n  const onEventResetForm = () => {\n    setSettingState({\n      name: \"example-tb-name\",\n      canCreate: true,\n      canUpdate: true,\n      canDelete: true,\n      querySchema: {\n        query: false,\n        schema: [...getInitRowQuerySchema()],\n      },\n      steps: [],\n    });\n    setFormState(() => getInitRowField());\n  };\n\n  return (\n    <div style={styles.LayoutContainer}>\n      <Row>\n        <Col flex=\"1\">\n          <Typography.Title\n            level={3}\n            style={{ position: \"absolute\", left: \"1rem\", top: 6 }}\n          >\n            joi-auto-admin Generator\n          </Typography.Title>\n        </Col>\n        <Col flex=\"1\">\n          <MenuView\n            currentMenu={currentMenuState}\n            setCurrentMenu={setCurrentMenuState}\n          />\n        </Col>\n      </Row>\n      <PanelContainerView\n        validateSchema={schemaValidateState}\n        currentView={currentMenuFormState.current}\n        menu={\n          <MenuFormView\n            currentMenu={currentMenuFormState}\n            setCurrentMenu={setCurrentMenuFormState}\n            onClearForm={onEventResetForm}\n          />\n        }\n        bottomBar={\n          <Button\n            block\n            type=\"primary\"\n            icon={<PlusOutlined />}\n            onClick={onAddField}\n          >\n            Add Field\n          </Button>\n        }\n        leftView={\n          <>\n            <LeftPanelView\n              view={currentMenuFormState.current}\n              formState={formState}\n              setFormState={setFormState}\n              settingState={settingState}\n              setSettingState={setSettingState}\n            />\n          </>\n        }\n        rightView={\n          <RightPanelView\n            view={currentMenuState.current}\n            settings={tableSettingProps}\n            editors={schemaProps || formState}\n          />\n        }\n        rightViewStyle={\n          currentMenuState.current === MENU.ui\n            ? styles.rightPanelContainer2\n            : styles.rightPanelContainer\n        }\n      />\n    </div>\n  );\n};\n\nEditorScreen.propTypes = {};\n\nexport default EditorScreen;\n","import React from \"react\";\nimport EditorScreen from \"./screens/editor-tool\";\n\nconst RenderScreen = () => {\n  return <EditorScreen />;\n};\n\nRenderScreen.propTypes = {};\n\nexport default RenderScreen;\n","import ReactDOM from \"react-dom\";\nimport \"antd/dist/antd.css\";\nimport \"./lib/index.css\";\n// import App from \"./App3\";\n// import App from \"./App4_2\";\n// import App from \"./App5\";\n// import App from \"./App6\";\n// import App from \"./App7\";\n// import App from \"./App8\";\n// import App from \"./App4\";\n// import App from \"./App9\";\n// import App from \"./App20\";\n// import App from \"./App21\";\nimport React from \"react\";\nimport App from \"./editor\";\n\n// strict mode disabled because antd doesn't support it\n// https://github.com/ant-design/ant-design/issues/22493\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}